var Bv=Object.defineProperty;var Uv=(t,e,r)=>e in t?Bv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Bt=(t,e,r)=>Uv(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Pd(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ht={},ma=[],Os=()=>{},Mv=()=>!1,Fu=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Od=t=>t.startsWith("onUpdate:"),Rr=Object.assign,Td=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},qv=Object.prototype.hasOwnProperty,jt=(t,e)=>qv.call(t,e),rt=Array.isArray,va=t=>Hl(t)==="[object Map]",Du=t=>Hl(t)==="[object Set]",Kp=t=>Hl(t)==="[object Date]",gt=t=>typeof t=="function",gr=t=>typeof t=="string",Rs=t=>typeof t=="symbol",zt=t=>t!==null&&typeof t=="object",Zg=t=>(zt(t)||gt(t))&&gt(t.then)&&gt(t.catch),Qg=Object.prototype.toString,Hl=t=>Qg.call(t),$v=t=>Hl(t).slice(8,-1),e2=t=>Hl(t)==="[object Object]",Rd=t=>gr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ml=Pd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Bu=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},Hv=/-(\w)/g,Ui=Bu(t=>t.replace(Hv,(e,r)=>r?r.toUpperCase():"")),zv=/\B([A-Z])/g,$i=Bu(t=>t.replace(zv,"-$1").toLowerCase()),t2=Bu(t=>t.charAt(0).toUpperCase()+t.slice(1)),qh=Bu(t=>t?`on${t2(t)}`:""),Bi=(t,e)=>!Object.is(t,e),su=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},r2=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},yu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Wv=t=>{const e=gr(t)?Number(t):NaN;return isNaN(e)?t:e};let Jp;const Uu=()=>Jp||(Jp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Cd(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=gr(n)?Jv(n):Cd(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(gr(t)||zt(t))return t}const Vv=/;(?![^(]*\))/g,Gv=/:([^]+)/,Kv=/\/\*[^]*?\*\//g;function Jv(t){const e={};return t.replace(Kv,"").split(Vv).forEach(r=>{if(r){const n=r.split(Gv);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Mu(t){let e="";if(gr(t))e=t;else if(rt(t))for(let r=0;r<t.length;r++){const n=Mu(t[r]);n&&(e+=n+" ")}else if(zt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Yv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Xv=Pd(Yv);function n2(t){return!!t||t===""}function Zv(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=qu(t[n],e[n]);return r}function qu(t,e){if(t===e)return!0;let r=Kp(t),n=Kp(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Rs(t),n=Rs(e),r||n)return t===e;if(r=rt(t),n=rt(e),r||n)return r&&n?Zv(t,e):!1;if(r=zt(t),n=zt(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!qu(t[o],e[o]))return!1}}return String(t)===String(e)}function Qv(t,e){return t.findIndex(r=>qu(r,e))}const s2=t=>!!(t&&t.__v_isRef===!0),qr=t=>gr(t)?t:t==null?"":rt(t)||zt(t)&&(t.toString===Qg||!gt(t.toString))?s2(t)?qr(t.value):JSON.stringify(t,i2,2):String(t),i2=(t,e)=>s2(e)?i2(t,e.value):va(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[$h(n,i)+" =>"]=s,r),{})}:Du(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>$h(r))}:Rs(e)?$h(e):zt(e)&&!rt(e)&&!e2(e)?String(e):e,$h=(t,e="")=>{var r;return Rs(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let kn;class ey{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=kn,!e&&kn&&(this.index=(kn.scopes||(kn.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=kn;try{return kn=this,e()}finally{kn=r}}}on(){kn=this}off(){kn=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function ty(){return kn}let Jt;const Hh=new WeakSet;class o2{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,kn&&kn.active&&kn.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Hh.has(this)&&(Hh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||l2(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Yp(this),c2(this);const e=Jt,r=os;Jt=this,os=!0;try{return this.fn()}finally{u2(this),Jt=e,os=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Fd(e);this.deps=this.depsTail=void 0,Yp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Hh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Bf(this)&&this.run()}get dirty(){return Bf(this)}}let a2=0,vl,yl;function l2(t,e=!1){if(t.flags|=8,e){t.next=yl,yl=t;return}t.next=vl,vl=t}function Id(){a2++}function jd(){if(--a2>0)return;if(yl){let e=yl;for(yl=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;vl;){let e=vl;for(vl=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function c2(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function u2(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),Fd(n),ry(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function Bf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(h2(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function h2(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===kl))return;t.globalVersion=kl;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!Bf(t)){t.flags&=-3;return}const r=Jt,n=os;Jt=t,os=!0;try{c2(t);const s=t.fn(t._value);(e.version===0||Bi(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Jt=r,os=n,u2(t),t.flags&=-3}}function Fd(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Fd(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function ry(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let os=!0;const f2=[];function Hi(){f2.push(os),os=!1}function zi(){const t=f2.pop();os=t===void 0?!0:t}function Yp(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=Jt;Jt=void 0;try{e()}finally{Jt=r}}}let kl=0;class ny{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Dd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!Jt||!os||Jt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==Jt)r=this.activeLink=new ny(Jt,this),Jt.deps?(r.prevDep=Jt.depsTail,Jt.depsTail.nextDep=r,Jt.depsTail=r):Jt.deps=Jt.depsTail=r,d2(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=Jt.depsTail,r.nextDep=void 0,Jt.depsTail.nextDep=r,Jt.depsTail=r,Jt.deps===r&&(Jt.deps=n)}return r}trigger(e){this.version++,kl++,this.notify(e)}notify(e){Id();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{jd()}}}function d2(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)d2(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Uf=new WeakMap,Lo=Symbol(""),Mf=Symbol(""),Ll=Symbol("");function Jr(t,e,r){if(os&&Jt){let n=Uf.get(t);n||Uf.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new Dd),s.map=n,s.key=r),s.track()}}function oi(t,e,r,n,s,i){const o=Uf.get(t);if(!o){kl++;return}const a=l=>{l&&l.trigger()};if(Id(),e==="clear")o.forEach(a);else{const l=rt(t),c=l&&Rd(r);if(l&&r==="length"){const h=Number(n);o.forEach((p,v)=>{(v==="length"||v===Ll||!Rs(v)&&v>=h)&&a(p)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),c&&a(o.get(Ll)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Lo)),va(t)&&a(o.get(Mf)));break;case"delete":l||(a(o.get(Lo)),va(t)&&a(o.get(Mf)));break;case"set":va(t)&&a(o.get(Lo));break}}jd()}function Xo(t){const e=Tt(t);return e===t?e:(Jr(e,"iterate",Ll),Wn(t)?e:e.map(Yr))}function $u(t){return Jr(t=Tt(t),"iterate",Ll),t}const sy={__proto__:null,[Symbol.iterator](){return zh(this,Symbol.iterator,Yr)},concat(...t){return Xo(this).concat(...t.map(e=>rt(e)?Xo(e):e))},entries(){return zh(this,"entries",t=>(t[1]=Yr(t[1]),t))},every(t,e){return Zs(this,"every",t,e,void 0,arguments)},filter(t,e){return Zs(this,"filter",t,e,r=>r.map(Yr),arguments)},find(t,e){return Zs(this,"find",t,e,Yr,arguments)},findIndex(t,e){return Zs(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Zs(this,"findLast",t,e,Yr,arguments)},findLastIndex(t,e){return Zs(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Zs(this,"forEach",t,e,void 0,arguments)},includes(...t){return Wh(this,"includes",t)},indexOf(...t){return Wh(this,"indexOf",t)},join(t){return Xo(this).join(t)},lastIndexOf(...t){return Wh(this,"lastIndexOf",t)},map(t,e){return Zs(this,"map",t,e,void 0,arguments)},pop(){return ll(this,"pop")},push(...t){return ll(this,"push",t)},reduce(t,...e){return Xp(this,"reduce",t,e)},reduceRight(t,...e){return Xp(this,"reduceRight",t,e)},shift(){return ll(this,"shift")},some(t,e){return Zs(this,"some",t,e,void 0,arguments)},splice(...t){return ll(this,"splice",t)},toReversed(){return Xo(this).toReversed()},toSorted(t){return Xo(this).toSorted(t)},toSpliced(...t){return Xo(this).toSpliced(...t)},unshift(...t){return ll(this,"unshift",t)},values(){return zh(this,"values",Yr)}};function zh(t,e,r){const n=$u(t),s=n[e]();return n!==t&&!Wn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const iy=Array.prototype;function Zs(t,e,r,n,s,i){const o=$u(t),a=o!==t&&!Wn(t),l=o[e];if(l!==iy[e]){const p=l.apply(t,i);return a?Yr(p):p}let c=r;o!==t&&(a?c=function(p,v){return r.call(this,Yr(p),v,t)}:r.length>2&&(c=function(p,v){return r.call(this,p,v,t)}));const h=l.call(o,c,n);return a&&s?s(h):h}function Xp(t,e,r,n){const s=$u(t);let i=r;return s!==t&&(Wn(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,Yr(a),l,t)}),s[e](i,...n)}function Wh(t,e,r){const n=Tt(t);Jr(n,"iterate",Ll);const s=n[e](...r);return(s===-1||s===!1)&&Md(r[0])?(r[0]=Tt(r[0]),n[e](...r)):s}function ll(t,e,r=[]){Hi(),Id();const n=Tt(t)[e].apply(t,r);return jd(),zi(),n}const oy=Pd("__proto__,__v_isRef,__isVue"),p2=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Rs));function ay(t){Rs(t)||(t=String(t));const e=Tt(this);return Jr(e,"has",t),e.hasOwnProperty(t)}class g2{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?vy:w2:i?y2:v2).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=rt(e);if(!s){let l;if(o&&(l=sy[r]))return l;if(r==="hasOwnProperty")return ay}const a=Reflect.get(e,r,en(e)?e:n);return(Rs(r)?p2.has(r):oy(r))||(s||Jr(e,"get",r),i)?a:en(a)?o&&Rd(r)?a:a.value:zt(a)?s?_2(a):Hu(a):a}}class m2 extends g2{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const l=To(i);if(!Wn(n)&&!To(n)&&(i=Tt(i),n=Tt(n)),!rt(e)&&en(i)&&!en(n))return l?!1:(i.value=n,!0)}const o=rt(e)&&Rd(r)?Number(r)<e.length:jt(e,r),a=Reflect.set(e,r,n,en(e)?e:s);return e===Tt(s)&&(o?Bi(n,i)&&oi(e,"set",r,n):oi(e,"add",r,n)),a}deleteProperty(e,r){const n=jt(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&oi(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!Rs(r)||!p2.has(r))&&Jr(e,"has",r),n}ownKeys(e){return Jr(e,"iterate",rt(e)?"length":Lo),Reflect.ownKeys(e)}}class ly extends g2{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const cy=new m2,uy=new ly,hy=new m2(!0);const qf=t=>t,Bc=t=>Reflect.getPrototypeOf(t);function fy(t,e,r){return function(...n){const s=this.__v_raw,i=Tt(s),o=va(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=s[t](...n),h=r?qf:e?$f:Yr;return!e&&Jr(i,"iterate",l?Mf:Lo),{next(){const{value:p,done:v}=c.next();return v?{value:p,done:v}:{value:a?[h(p[0]),h(p[1])]:h(p),done:v}},[Symbol.iterator](){return this}}}}function Uc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function dy(t,e){const r={get(s){const i=this.__v_raw,o=Tt(i),a=Tt(s);t||(Bi(s,a)&&Jr(o,"get",s),Jr(o,"get",a));const{has:l}=Bc(o),c=e?qf:t?$f:Yr;if(l.call(o,s))return c(i.get(s));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&Jr(Tt(s),"iterate",Lo),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Tt(i),a=Tt(s);return t||(Bi(s,a)&&Jr(o,"has",s),Jr(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=Tt(a),c=e?qf:t?$f:Yr;return!t&&Jr(l,"iterate",Lo),a.forEach((h,p)=>s.call(i,c(h),c(p),o))}};return Rr(r,t?{add:Uc("add"),set:Uc("set"),delete:Uc("delete"),clear:Uc("clear")}:{add(s){!e&&!Wn(s)&&!To(s)&&(s=Tt(s));const i=Tt(this);return Bc(i).has.call(i,s)||(i.add(s),oi(i,"add",s,s)),this},set(s,i){!e&&!Wn(i)&&!To(i)&&(i=Tt(i));const o=Tt(this),{has:a,get:l}=Bc(o);let c=a.call(o,s);c||(s=Tt(s),c=a.call(o,s));const h=l.call(o,s);return o.set(s,i),c?Bi(i,h)&&oi(o,"set",s,i):oi(o,"add",s,i),this},delete(s){const i=Tt(this),{has:o,get:a}=Bc(i);let l=o.call(i,s);l||(s=Tt(s),l=o.call(i,s)),a&&a.call(i,s);const c=i.delete(s);return l&&oi(i,"delete",s,void 0),c},clear(){const s=Tt(this),i=s.size!==0,o=s.clear();return i&&oi(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=fy(s,t,e)}),r}function Bd(t,e){const r=dy(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(jt(r,s)&&s in n?r:n,s,i)}const py={get:Bd(!1,!1)},gy={get:Bd(!1,!0)},my={get:Bd(!0,!1)};const v2=new WeakMap,y2=new WeakMap,w2=new WeakMap,vy=new WeakMap;function yy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function wy(t){return t.__v_skip||!Object.isExtensible(t)?0:yy($v(t))}function Hu(t){return To(t)?t:Ud(t,!1,cy,py,v2)}function b2(t){return Ud(t,!1,hy,gy,y2)}function _2(t){return Ud(t,!0,uy,my,w2)}function Ud(t,e,r,n,s){if(!zt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=wy(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function ya(t){return To(t)?ya(t.__v_raw):!!(t&&t.__v_isReactive)}function To(t){return!!(t&&t.__v_isReadonly)}function Wn(t){return!!(t&&t.__v_isShallow)}function Md(t){return t?!!t.__v_raw:!1}function Tt(t){const e=t&&t.__v_raw;return e?Tt(e):t}function by(t){return!jt(t,"__v_skip")&&Object.isExtensible(t)&&r2(t,"__v_skip",!0),t}const Yr=t=>zt(t)?Hu(t):t,$f=t=>zt(t)?_2(t):t;function en(t){return t?t.__v_isRef===!0:!1}function pt(t){return S2(t,!1)}function _y(t){return S2(t,!0)}function S2(t,e){return en(t)?t:new Sy(t,e)}class Sy{constructor(e,r){this.dep=new Dd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:Tt(e),this._value=r?e:Yr(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||Wn(e)||To(e);e=n?e:Tt(e),Bi(e,r)&&(this._rawValue=e,this._value=n?e:Yr(e),this.dep.trigger())}}function Ls(t){return en(t)?t.value:t}const Ay={get:(t,e,r)=>e==="__v_raw"?t:Ls(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return en(s)&&!en(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function A2(t){return ya(t)?t:new Proxy(t,Ay)}class xy{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new Dd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=kl-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&Jt!==this)return l2(this,!0),!0}get value(){const e=this.dep.track();return h2(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function Ey(t,e,r=!1){let n,s;return gt(t)?n=t:(n=t.get,s=t.set),new xy(n,s,r)}const Mc={},wu=new WeakMap;let vo;function Ny(t,e=!1,r=vo){if(r){let n=wu.get(r);n||wu.set(r,n=[]),n.push(t)}}function ky(t,e,r=Ht){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,c=R=>s?R:Wn(R)||s===!1||s===0?ai(R,1):ai(R);let h,p,v,d,y=!1,w=!1;if(en(t)?(p=()=>t.value,y=Wn(t)):ya(t)?(p=()=>c(t),y=!0):rt(t)?(w=!0,y=t.some(R=>ya(R)||Wn(R)),p=()=>t.map(R=>{if(en(R))return R.value;if(ya(R))return c(R);if(gt(R))return l?l(R,2):R()})):gt(t)?e?p=l?()=>l(t,2):t:p=()=>{if(v){Hi();try{v()}finally{zi()}}const R=vo;vo=h;try{return l?l(t,3,[d]):t(d)}finally{vo=R}}:p=Os,e&&s){const R=p,K=s===!0?1/0:s;p=()=>ai(R(),K)}const S=ty(),_=()=>{h.stop(),S&&S.active&&Td(S.effects,h)};if(i&&e){const R=e;e=(...K)=>{R(...K),_()}}let j=w?new Array(t.length).fill(Mc):Mc;const T=R=>{if(!(!(h.flags&1)||!h.dirty&&!R))if(e){const K=h.run();if(s||y||(w?K.some((se,ie)=>Bi(se,j[ie])):Bi(K,j))){v&&v();const se=vo;vo=h;try{const ie=[K,j===Mc?void 0:w&&j[0]===Mc?[]:j,d];l?l(e,3,ie):e(...ie),j=K}finally{vo=se}}}else h.run()};return a&&a(T),h=new o2(p),h.scheduler=o?()=>o(T,!1):T,d=R=>Ny(R,!1,h),v=h.onStop=()=>{const R=wu.get(h);if(R){if(l)l(R,4);else for(const K of R)K();wu.delete(h)}},e?n?T(!0):j=h.run():o?o(T.bind(null,!0),!0):h.run(),_.pause=h.pause.bind(h),_.resume=h.resume.bind(h),_.stop=_,_}function ai(t,e=1/0,r){if(e<=0||!zt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,en(t))ai(t.value,e,r);else if(rt(t))for(let n=0;n<t.length;n++)ai(t[n],e,r);else if(Du(t)||va(t))t.forEach(n=>{ai(n,e,r)});else if(e2(t)){for(const n in t)ai(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ai(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function zl(t,e,r,n){try{return n?t(...n):t()}catch(s){zu(s,e,r)}}function as(t,e,r,n){if(gt(t)){const s=zl(t,e,r,n);return s&&Zg(s)&&s.catch(i=>{zu(i,e,r)}),s}if(rt(t)){const s=[];for(let i=0;i<t.length;i++)s.push(as(t[i],e,r,n));return s}}function zu(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ht;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const h=a.ec;if(h){for(let p=0;p<h.length;p++)if(h[p](t,l,c)===!1)return}a=a.parent}if(i){Hi(),zl(i,null,10,[t,l,c]),zi();return}}Ly(t,r,s,n,o)}function Ly(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const ln=[];let Ns=-1;const wa=[];let Ti=null,aa=0;const x2=Promise.resolve();let bu=null;function qd(t){const e=bu||x2;return t?e.then(this?t.bind(this):t):e}function Py(t){let e=Ns+1,r=ln.length;for(;e<r;){const n=e+r>>>1,s=ln[n],i=Pl(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function $d(t){if(!(t.flags&1)){const e=Pl(t),r=ln[ln.length-1];!r||!(t.flags&2)&&e>=Pl(r)?ln.push(t):ln.splice(Py(e),0,t),t.flags|=1,E2()}}function E2(){bu||(bu=x2.then(k2))}function Oy(t){rt(t)?wa.push(...t):Ti&&t.id===-1?Ti.splice(aa+1,0,t):t.flags&1||(wa.push(t),t.flags|=1),E2()}function Zp(t,e,r=Ns+1){for(;r<ln.length;r++){const n=ln[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;ln.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function N2(t){if(wa.length){const e=[...new Set(wa)].sort((r,n)=>Pl(r)-Pl(n));if(wa.length=0,Ti){Ti.push(...e);return}for(Ti=e,aa=0;aa<Ti.length;aa++){const r=Ti[aa];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ti=null,aa=0}}const Pl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function k2(t){try{for(Ns=0;Ns<ln.length;Ns++){const e=ln[Ns];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),zl(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ns<ln.length;Ns++){const e=ln[Ns];e&&(e.flags&=-2)}Ns=-1,ln.length=0,N2(),bu=null,(ln.length||wa.length)&&k2()}}let Rn=null,L2=null;function _u(t){const e=Rn;return Rn=t,L2=t&&t.type.__scopeId||null,e}function P2(t,e=Rn,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&l0(-1);const i=_u(e);let o;try{o=t(...s)}finally{_u(i),n._d&&l0(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Ln(t,e){if(Rn===null)return t;const r=Yu(Rn),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Ht]=e[s];i&&(gt(i)&&(i={mounted:i,updated:i}),i.deep&&ai(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function co(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Hi(),as(l,r,8,[t.el,a,t,e]),zi())}}const Ty=Symbol("_vte"),O2=t=>t.__isTeleport,Ri=Symbol("_leaveCb"),qc=Symbol("_enterCb");function Ry(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ro(()=>{t.isMounted=!0}),U2(()=>{t.isUnmounting=!0}),t}const zn=[Function,Array],T2={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zn,onEnter:zn,onAfterEnter:zn,onEnterCancelled:zn,onBeforeLeave:zn,onLeave:zn,onAfterLeave:zn,onLeaveCancelled:zn,onBeforeAppear:zn,onAppear:zn,onAfterAppear:zn,onAppearCancelled:zn},R2=t=>{const e=t.subTree;return e.component?R2(e.component):e},Cy={name:"BaseTransition",props:T2,setup(t,{slots:e}){const r=kw(),n=Ry();return()=>{const s=e.default&&j2(e.default(),!0);if(!s||!s.length)return;const i=C2(s),o=Tt(t),{mode:a}=o;if(n.isLeaving)return Vh(i);const l=Qp(i);if(!l)return Vh(i);let c=Hf(l,o,n,r,p=>c=p);l.type!==fn&&Ol(l,c);let h=r.subTree&&Qp(r.subTree);if(h&&h.type!==fn&&!bo(l,h)&&R2(r).type!==fn){let p=Hf(h,o,n,r);if(Ol(h,p),a==="out-in"&&l.type!==fn)return n.isLeaving=!0,p.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete p.afterLeave,h=void 0},Vh(i);a==="in-out"&&l.type!==fn?p.delayLeave=(v,d,y)=>{const w=I2(n,h);w[String(h.key)]=h,v[Ri]=()=>{d(),v[Ri]=void 0,delete c.delayedLeave,h=void 0},c.delayedLeave=()=>{y(),delete c.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function C2(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==fn){e=r;break}}return e}const Iy=Cy;function I2(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Hf(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:h,onEnterCancelled:p,onBeforeLeave:v,onLeave:d,onAfterLeave:y,onLeaveCancelled:w,onBeforeAppear:S,onAppear:_,onAfterAppear:j,onAppearCancelled:T}=e,R=String(t.key),K=I2(r,t),se=(C,G)=>{C&&as(C,n,9,G)},ie=(C,G)=>{const L=G[1];se(C,G),rt(C)?C.every(O=>O.length<=1)&&L():C.length<=1&&L()},J={mode:o,persisted:a,beforeEnter(C){let G=l;if(!r.isMounted)if(i)G=S||l;else return;C[Ri]&&C[Ri](!0);const L=K[R];L&&bo(t,L)&&L.el[Ri]&&L.el[Ri](),se(G,[C])},enter(C){let G=c,L=h,O=p;if(!r.isMounted)if(i)G=_||c,L=j||h,O=T||p;else return;let z=!1;const W=C[qc]=pe=>{z||(z=!0,pe?se(O,[C]):se(L,[C]),J.delayedLeave&&J.delayedLeave(),C[qc]=void 0)};G?ie(G,[C,W]):W()},leave(C,G){const L=String(t.key);if(C[qc]&&C[qc](!0),r.isUnmounting)return G();se(v,[C]);let O=!1;const z=C[Ri]=W=>{O||(O=!0,G(),W?se(w,[C]):se(y,[C]),C[Ri]=void 0,K[L]===t&&delete K[L])};K[L]=t,d?ie(d,[C,z]):z()},clone(C){const G=Hf(C,e,r,n,s);return s&&s(G),G}};return J}function Vh(t){if(Wu(t))return t=Mi(t),t.children=null,t}function Qp(t){if(!Wu(t))return O2(t.type)&&t.children?C2(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&gt(r.default))return r.default()}}function Ol(t,e){t.shapeFlag&6&&t.component?(t.transition=e,Ol(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function j2(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===cn?(o.patchFlag&128&&s++,n=n.concat(j2(o.children,e,a))):(e||o.type!==fn)&&n.push(a!=null?Mi(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function F2(t,e){return gt(t)?Rr({name:t.name},e,{setup:t}):t}function D2(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function Su(t,e,r,n,s=!1){if(rt(t)){t.forEach((y,w)=>Su(y,e&&(rt(e)?e[w]:e),r,n,s));return}if(wl(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&Su(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?Yu(n.component):n.el,o=s?null:i,{i:a,r:l}=t,c=e&&e.r,h=a.refs===Ht?a.refs={}:a.refs,p=a.setupState,v=Tt(p),d=p===Ht?()=>!1:y=>jt(v,y);if(c!=null&&c!==l&&(gr(c)?(h[c]=null,d(c)&&(p[c]=null)):en(c)&&(c.value=null)),gt(l))zl(l,a,12,[o,h]);else{const y=gr(l),w=en(l);if(y||w){const S=()=>{if(t.f){const _=y?d(l)?p[l]:h[l]:l.value;s?rt(_)&&Td(_,i):rt(_)?_.includes(i)||_.push(i):y?(h[l]=[i],d(l)&&(p[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else y?(h[l]=o,d(l)&&(p[l]=o)):w&&(l.value=o,t.k&&(h[t.k]=o))};o?(S.id=-1,Nn(S,r)):S()}}}Uu().requestIdleCallback;Uu().cancelIdleCallback;const wl=t=>!!t.type.__asyncLoader,Wu=t=>t.type.__isKeepAlive;function jy(t,e){B2(t,"a",e)}function Fy(t,e){B2(t,"da",e)}function B2(t,e,r=Xr){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Vu(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Wu(s.parent.vnode)&&Dy(n,e,r,s),s=s.parent}}function Dy(t,e,r,n){const s=Vu(e,t,n,!0);Gu(()=>{Td(n[e],s)},r)}function Vu(t,e,r=Xr,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{Hi();const a=Wl(r),l=as(e,r,t,o);return a(),zi(),l});return n?s.unshift(i):s.push(i),i}}const ci=t=>(e,r=Xr)=>{(!Rl||t==="sp")&&Vu(t,(...n)=>e(...n),r)},By=ci("bm"),Ro=ci("m"),Uy=ci("bu"),My=ci("u"),U2=ci("bum"),Gu=ci("um"),qy=ci("sp"),$y=ci("rtg"),Hy=ci("rtc");function zy(t,e=Xr){Vu("ec",t,e)}const Wy=Symbol.for("v-ndc");function zf(t,e,r,n){let s;const i=r,o=rt(t);if(o||gr(t)){const a=o&&ya(t);let l=!1;a&&(l=!Wn(t),t=$u(t)),s=new Array(t.length);for(let c=0,h=t.length;c<h;c++)s[c]=e(l?Yr(t[c]):t[c],c,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i)}else if(zt(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const h=a[l];s[l]=e(t[h],h,l,i)}}else s=[];return s}const Wf=t=>t?o5(t)?Yu(t):Wf(t.parent):null,bl=Rr(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Wf(t.parent),$root:t=>Wf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>q2(t),$forceUpdate:t=>t.f||(t.f=()=>{$d(t.update)}),$nextTick:t=>t.n||(t.n=qd.bind(t.proxy)),$watch:t=>fw.bind(t)}),Gh=(t,e)=>t!==Ht&&!t.__isScriptSetup&&jt(t,e),Vy={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(Gh(n,e))return o[e]=1,n[e];if(s!==Ht&&jt(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&jt(c,e))return o[e]=3,i[e];if(r!==Ht&&jt(r,e))return o[e]=4,r[e];Vf&&(o[e]=0)}}const h=bl[e];let p,v;if(h)return e==="$attrs"&&Jr(t.attrs,"get",""),h(t);if((p=a.__cssModules)&&(p=p[e]))return p;if(r!==Ht&&jt(r,e))return o[e]=4,r[e];if(v=l.config.globalProperties,jt(v,e))return v[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return Gh(s,e)?(s[e]=r,!0):n!==Ht&&jt(n,e)?(n[e]=r,!0):jt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||t!==Ht&&jt(t,o)||Gh(e,o)||(a=i[0])&&jt(a,o)||jt(n,o)||jt(bl,o)||jt(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:jt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function e0(t){return rt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Vf=!0;function Gy(t){const e=q2(t),r=t.proxy,n=t.ctx;Vf=!1,e.beforeCreate&&t0(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:c,created:h,beforeMount:p,mounted:v,beforeUpdate:d,updated:y,activated:w,deactivated:S,beforeDestroy:_,beforeUnmount:j,destroyed:T,unmounted:R,render:K,renderTracked:se,renderTriggered:ie,errorCaptured:J,serverPrefetch:C,expose:G,inheritAttrs:L,components:O,directives:z,filters:W}=e;if(c&&Ky(c,n,null),o)for(const ae in o){const re=o[ae];gt(re)&&(n[ae]=re.bind(r))}if(s){const ae=s.call(r,r);zt(ae)&&(t.data=Hu(ae))}if(Vf=!0,i)for(const ae in i){const re=i[ae],we=gt(re)?re.bind(r,r):gt(re.get)?re.get.bind(r,r):Os,Ce=!gt(re)&&gt(re.set)?re.set.bind(r):Os,_e=Pn({get:we,set:Ce});Object.defineProperty(n,ae,{enumerable:!0,configurable:!0,get:()=>_e.value,set:N=>_e.value=N})}if(a)for(const ae in a)M2(a[ae],n,r,ae);if(l){const ae=gt(l)?l.call(r):l;Reflect.ownKeys(ae).forEach(re=>{iu(re,ae[re])})}h&&t0(h,t,"c");function ue(ae,re){rt(re)?re.forEach(we=>ae(we.bind(r))):re&&ae(re.bind(r))}if(ue(By,p),ue(Ro,v),ue(Uy,d),ue(My,y),ue(jy,w),ue(Fy,S),ue(zy,J),ue(Hy,se),ue($y,ie),ue(U2,j),ue(Gu,R),ue(qy,C),rt(G))if(G.length){const ae=t.exposed||(t.exposed={});G.forEach(re=>{Object.defineProperty(ae,re,{get:()=>r[re],set:we=>r[re]=we})})}else t.exposed||(t.exposed={});K&&t.render===Os&&(t.render=K),L!=null&&(t.inheritAttrs=L),O&&(t.components=O),z&&(t.directives=z),C&&D2(t)}function Ky(t,e,r=Os){rt(t)&&(t=Gf(t));for(const n in t){const s=t[n];let i;zt(s)?"default"in s?i=Ts(s.from||n,s.default,!0):i=Ts(s.from||n):i=Ts(s),en(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function t0(t,e,r){as(rt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function M2(t,e,r,n){let s=n.includes(".")?t5(r,n):()=>r[n];if(gr(t)){const i=e[t];gt(i)&&ou(s,i)}else if(gt(t))ou(s,t.bind(r));else if(zt(t))if(rt(t))t.forEach(i=>M2(i,e,r,n));else{const i=gt(t.handler)?t.handler.bind(r):e[t.handler];gt(i)&&ou(s,i,t)}}function q2(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(c=>Au(l,c,o,!0)),Au(l,e,o)),zt(e)&&i.set(e,l),l}function Au(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&Au(t,i,r,!0),s&&s.forEach(o=>Au(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=Jy[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Jy={data:r0,props:n0,emits:n0,methods:pl,computed:pl,beforeCreate:on,created:on,beforeMount:on,mounted:on,beforeUpdate:on,updated:on,beforeDestroy:on,beforeUnmount:on,destroyed:on,unmounted:on,activated:on,deactivated:on,errorCaptured:on,serverPrefetch:on,components:pl,directives:pl,watch:Xy,provide:r0,inject:Yy};function r0(t,e){return e?t?function(){return Rr(gt(t)?t.call(this,this):t,gt(e)?e.call(this,this):e)}:e:t}function Yy(t,e){return pl(Gf(t),Gf(e))}function Gf(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function on(t,e){return t?[...new Set([].concat(t,e))]:e}function pl(t,e){return t?Rr(Object.create(null),t,e):e}function n0(t,e){return t?rt(t)&&rt(e)?[...new Set([...t,...e])]:Rr(Object.create(null),e0(t),e0(e??{})):e}function Xy(t,e){if(!t)return e;if(!e)return t;const r=Rr(Object.create(null),t);for(const n in e)r[n]=on(t[n],e[n]);return r}function $2(){return{app:null,config:{isNativeTag:Mv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zy=0;function Qy(t,e){return function(n,s=null){gt(n)||(n=Rr({},n)),s!=null&&!zt(s)&&(s=null);const i=$2(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Zy++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Cw,get config(){return i.config},set config(h){},use(h,...p){return o.has(h)||(h&&gt(h.install)?(o.add(h),h.install(c,...p)):gt(h)&&(o.add(h),h(c,...p))),c},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),c},component(h,p){return p?(i.components[h]=p,c):i.components[h]},directive(h,p){return p?(i.directives[h]=p,c):i.directives[h]},mount(h,p,v){if(!l){const d=c._ceVNode||Qr(n,s);return d.appContext=i,v===!0?v="svg":v===!1&&(v=void 0),t(d,h,v),l=!0,c._container=h,h.__vue_app__=c,Yu(d.component)}},onUnmount(h){a.push(h)},unmount(){l&&(as(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(h,p){return i.provides[h]=p,c},runWithContext(h){const p=ba;ba=c;try{return h()}finally{ba=p}}};return c}}let ba=null;function iu(t,e){if(Xr){let r=Xr.provides;const n=Xr.parent&&Xr.parent.provides;n===r&&(r=Xr.provides=Object.create(n)),r[t]=e}}function Ts(t,e,r=!1){const n=Xr||Rn;if(n||ba){const s=ba?ba._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&gt(e)?e.call(n&&n.proxy):e}}const H2={},z2=()=>Object.create(H2),W2=t=>Object.getPrototypeOf(t)===H2;function ew(t,e,r,n=!1){const s={},i=z2();t.propsDefaults=Object.create(null),V2(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:b2(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function tw(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Tt(s),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let p=0;p<h.length;p++){let v=h[p];if(Ku(t.emitsOptions,v))continue;const d=e[v];if(l)if(jt(i,v))d!==i[v]&&(i[v]=d,c=!0);else{const y=Ui(v);s[y]=Kf(l,a,y,d,t,!1)}else d!==i[v]&&(i[v]=d,c=!0)}}}else{V2(t,e,s,i)&&(c=!0);let h;for(const p in a)(!e||!jt(e,p)&&((h=$i(p))===p||!jt(e,h)))&&(l?r&&(r[p]!==void 0||r[h]!==void 0)&&(s[p]=Kf(l,a,p,void 0,t,!0)):delete s[p]);if(i!==a)for(const p in i)(!e||!jt(e,p))&&(delete i[p],c=!0)}c&&oi(t.attrs,"set","")}function V2(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(ml(l))continue;const c=e[l];let h;s&&jt(s,h=Ui(l))?!i||!i.includes(h)?r[h]=c:(a||(a={}))[h]=c:Ku(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=Tt(r),c=a||Ht;for(let h=0;h<i.length;h++){const p=i[h];r[p]=Kf(s,l,p,c[p],t,!jt(c,p))}}return o}function Kf(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=jt(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&gt(l)){const{propsDefaults:c}=s;if(r in c)n=c[r];else{const h=Wl(s);n=c[r]=l.call(null,e),h()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===$i(r))&&(n=!0))}return n}const rw=new WeakMap;function G2(t,e,r=!1){const n=r?rw:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!gt(t)){const h=p=>{l=!0;const[v,d]=G2(p,e,!0);Rr(o,v),d&&a.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return zt(t)&&n.set(t,ma),ma;if(rt(i))for(let h=0;h<i.length;h++){const p=Ui(i[h]);s0(p)&&(o[p]=Ht)}else if(i)for(const h in i){const p=Ui(h);if(s0(p)){const v=i[h],d=o[p]=rt(v)||gt(v)?{type:v}:Rr({},v),y=d.type;let w=!1,S=!0;if(rt(y))for(let _=0;_<y.length;++_){const j=y[_],T=gt(j)&&j.name;if(T==="Boolean"){w=!0;break}else T==="String"&&(S=!1)}else w=gt(y)&&y.name==="Boolean";d[0]=w,d[1]=S,(w||jt(d,"default"))&&a.push(p)}}const c=[o,a];return zt(t)&&n.set(t,c),c}function s0(t){return t[0]!=="$"&&!ml(t)}const K2=t=>t[0]==="_"||t==="$stable",Hd=t=>rt(t)?t.map(ks):[ks(t)],nw=(t,e,r)=>{if(e._n)return e;const n=P2((...s)=>Hd(e(...s)),r);return n._c=!1,n},J2=(t,e,r)=>{const n=t._ctx;for(const s in t){if(K2(s))continue;const i=t[s];if(gt(i))e[s]=nw(s,i,n);else if(i!=null){const o=Hd(i);e[s]=()=>o}}},Y2=(t,e)=>{const r=Hd(e);t.slots.default=()=>r},X2=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},sw=(t,e,r)=>{const n=t.slots=z2();if(t.vnode.shapeFlag&32){const s=e._;s?(X2(n,e,r),r&&r2(n,"_",s,!0)):J2(e,n)}else e&&Y2(t,e)},iw=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=Ht;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:X2(s,e,r):(i=!e.$stable,J2(e,s)),o=e}else e&&(Y2(t,e),o={default:1});if(i)for(const a in s)!K2(a)&&o[a]==null&&delete s[a]},Nn=ww;function ow(t){return aw(t)}function aw(t,e){const r=Uu();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:h,parentNode:p,nextSibling:v,setScopeId:d=Os,insertStaticContent:y}=t,w=(F,B,Y,E=null,le=null,ye=null,Ee=void 0,ce=null,Se=!!B.dynamicChildren)=>{if(F===B)return;F&&!bo(F,B)&&(E=$(F),N(F,le,ye,!0),F=null),B.patchFlag===-2&&(Se=!1,B.dynamicChildren=null);const{type:me,ref:Ie,shapeFlag:Ne}=B;switch(me){case Ju:S(F,B,Y,E);break;case fn:_(F,B,Y,E);break;case Jh:F==null&&j(B,Y,E,Ee);break;case cn:O(F,B,Y,E,le,ye,Ee,ce,Se);break;default:Ne&1?K(F,B,Y,E,le,ye,Ee,ce,Se):Ne&6?z(F,B,Y,E,le,ye,Ee,ce,Se):(Ne&64||Ne&128)&&me.process(F,B,Y,E,le,ye,Ee,ce,Se,fe)}Ie!=null&&le&&Su(Ie,F&&F.ref,ye,B||F,!B)},S=(F,B,Y,E)=>{if(F==null)n(B.el=a(B.children),Y,E);else{const le=B.el=F.el;B.children!==F.children&&c(le,B.children)}},_=(F,B,Y,E)=>{F==null?n(B.el=l(B.children||""),Y,E):B.el=F.el},j=(F,B,Y,E)=>{[F.el,F.anchor]=y(F.children,B,Y,E,F.el,F.anchor)},T=({el:F,anchor:B},Y,E)=>{let le;for(;F&&F!==B;)le=v(F),n(F,Y,E),F=le;n(B,Y,E)},R=({el:F,anchor:B})=>{let Y;for(;F&&F!==B;)Y=v(F),s(F),F=Y;s(B)},K=(F,B,Y,E,le,ye,Ee,ce,Se)=>{B.type==="svg"?Ee="svg":B.type==="math"&&(Ee="mathml"),F==null?se(B,Y,E,le,ye,Ee,ce,Se):C(F,B,le,ye,Ee,ce,Se)},se=(F,B,Y,E,le,ye,Ee,ce)=>{let Se,me;const{props:Ie,shapeFlag:Ne,transition:Fe,dirs:De}=F;if(Se=F.el=o(F.type,ye,Ie&&Ie.is,Ie),Ne&8?h(Se,F.children):Ne&16&&J(F.children,Se,null,E,le,Kh(F,ye),Ee,ce),De&&co(F,null,E,"created"),ie(Se,F,F.scopeId,Ee,E),Ie){for(const Ve in Ie)Ve!=="value"&&!ml(Ve)&&i(Se,Ve,null,Ie[Ve],ye,E);"value"in Ie&&i(Se,"value",null,Ie.value,ye),(me=Ie.onVnodeBeforeMount)&&Ss(me,E,F)}De&&co(F,null,E,"beforeMount");const Ue=lw(le,Fe);Ue&&Fe.beforeEnter(Se),n(Se,B,Y),((me=Ie&&Ie.onVnodeMounted)||Ue||De)&&Nn(()=>{me&&Ss(me,E,F),Ue&&Fe.enter(Se),De&&co(F,null,E,"mounted")},le)},ie=(F,B,Y,E,le)=>{if(Y&&d(F,Y),E)for(let ye=0;ye<E.length;ye++)d(F,E[ye]);if(le){let ye=le.subTree;if(B===ye||n5(ye.type)&&(ye.ssContent===B||ye.ssFallback===B)){const Ee=le.vnode;ie(F,Ee,Ee.scopeId,Ee.slotScopeIds,le.parent)}}},J=(F,B,Y,E,le,ye,Ee,ce,Se=0)=>{for(let me=Se;me<F.length;me++){const Ie=F[me]=ce?Ci(F[me]):ks(F[me]);w(null,Ie,B,Y,E,le,ye,Ee,ce)}},C=(F,B,Y,E,le,ye,Ee)=>{const ce=B.el=F.el;let{patchFlag:Se,dynamicChildren:me,dirs:Ie}=B;Se|=F.patchFlag&16;const Ne=F.props||Ht,Fe=B.props||Ht;let De;if(Y&&uo(Y,!1),(De=Fe.onVnodeBeforeUpdate)&&Ss(De,Y,B,F),Ie&&co(B,F,Y,"beforeUpdate"),Y&&uo(Y,!0),(Ne.innerHTML&&Fe.innerHTML==null||Ne.textContent&&Fe.textContent==null)&&h(ce,""),me?G(F.dynamicChildren,me,ce,Y,E,Kh(B,le),ye):Ee||re(F,B,ce,null,Y,E,Kh(B,le),ye,!1),Se>0){if(Se&16)L(ce,Ne,Fe,Y,le);else if(Se&2&&Ne.class!==Fe.class&&i(ce,"class",null,Fe.class,le),Se&4&&i(ce,"style",Ne.style,Fe.style,le),Se&8){const Ue=B.dynamicProps;for(let Ve=0;Ve<Ue.length;Ve++){const $e=Ue[Ve],Me=Ne[$e],Qe=Fe[$e];(Qe!==Me||$e==="value")&&i(ce,$e,Me,Qe,le,Y)}}Se&1&&F.children!==B.children&&h(ce,B.children)}else!Ee&&me==null&&L(ce,Ne,Fe,Y,le);((De=Fe.onVnodeUpdated)||Ie)&&Nn(()=>{De&&Ss(De,Y,B,F),Ie&&co(B,F,Y,"updated")},E)},G=(F,B,Y,E,le,ye,Ee)=>{for(let ce=0;ce<B.length;ce++){const Se=F[ce],me=B[ce],Ie=Se.el&&(Se.type===cn||!bo(Se,me)||Se.shapeFlag&70)?p(Se.el):Y;w(Se,me,Ie,null,E,le,ye,Ee,!0)}},L=(F,B,Y,E,le)=>{if(B!==Y){if(B!==Ht)for(const ye in B)!ml(ye)&&!(ye in Y)&&i(F,ye,B[ye],null,le,E);for(const ye in Y){if(ml(ye))continue;const Ee=Y[ye],ce=B[ye];Ee!==ce&&ye!=="value"&&i(F,ye,ce,Ee,le,E)}"value"in Y&&i(F,"value",B.value,Y.value,le)}},O=(F,B,Y,E,le,ye,Ee,ce,Se)=>{const me=B.el=F?F.el:a(""),Ie=B.anchor=F?F.anchor:a("");let{patchFlag:Ne,dynamicChildren:Fe,slotScopeIds:De}=B;De&&(ce=ce?ce.concat(De):De),F==null?(n(me,Y,E),n(Ie,Y,E),J(B.children||[],Y,Ie,le,ye,Ee,ce,Se)):Ne>0&&Ne&64&&Fe&&F.dynamicChildren?(G(F.dynamicChildren,Fe,Y,le,ye,Ee,ce),(B.key!=null||le&&B===le.subTree)&&Z2(F,B,!0)):re(F,B,Y,Ie,le,ye,Ee,ce,Se)},z=(F,B,Y,E,le,ye,Ee,ce,Se)=>{B.slotScopeIds=ce,F==null?B.shapeFlag&512?le.ctx.activate(B,Y,E,Ee,Se):W(B,Y,E,le,ye,Ee,Se):pe(F,B,Se)},W=(F,B,Y,E,le,ye,Ee)=>{const ce=F.component=Nw(F,E,le);if(Wu(F)&&(ce.ctx.renderer=fe),Lw(ce,!1,Ee),ce.asyncDep){if(le&&le.registerDep(ce,ue,Ee),!F.el){const Se=ce.subTree=Qr(fn);_(null,Se,B,Y)}}else ue(ce,F,B,Y,le,ye,Ee)},pe=(F,B,Y)=>{const E=B.component=F.component;if(vw(F,B,Y))if(E.asyncDep&&!E.asyncResolved){ae(E,B,Y);return}else E.next=B,E.update();else B.el=F.el,E.vnode=B},ue=(F,B,Y,E,le,ye,Ee)=>{const ce=()=>{if(F.isMounted){let{next:Ne,bu:Fe,u:De,parent:Ue,vnode:Ve}=F;{const Ot=Q2(F);if(Ot){Ne&&(Ne.el=Ve.el,ae(F,Ne,Ee)),Ot.asyncDep.then(()=>{F.isUnmounted||ce()});return}}let $e=Ne,Me;uo(F,!1),Ne?(Ne.el=Ve.el,ae(F,Ne,Ee)):Ne=Ve,Fe&&su(Fe),(Me=Ne.props&&Ne.props.onVnodeBeforeUpdate)&&Ss(Me,Ue,Ne,Ve),uo(F,!0);const Qe=o0(F),qe=F.subTree;F.subTree=Qe,w(qe,Qe,p(qe.el),$(qe),F,le,ye),Ne.el=Qe.el,$e===null&&yw(F,Qe.el),De&&Nn(De,le),(Me=Ne.props&&Ne.props.onVnodeUpdated)&&Nn(()=>Ss(Me,Ue,Ne,Ve),le)}else{let Ne;const{el:Fe,props:De}=B,{bm:Ue,m:Ve,parent:$e,root:Me,type:Qe}=F,qe=wl(B);uo(F,!1),Ue&&su(Ue),!qe&&(Ne=De&&De.onVnodeBeforeMount)&&Ss(Ne,$e,B),uo(F,!0);{Me.ce&&Me.ce._injectChildStyle(Qe);const Ot=F.subTree=o0(F);w(null,Ot,Y,E,F,le,ye),B.el=Ot.el}if(Ve&&Nn(Ve,le),!qe&&(Ne=De&&De.onVnodeMounted)){const Ot=B;Nn(()=>Ss(Ne,$e,Ot),le)}(B.shapeFlag&256||$e&&wl($e.vnode)&&$e.vnode.shapeFlag&256)&&F.a&&Nn(F.a,le),F.isMounted=!0,B=Y=E=null}};F.scope.on();const Se=F.effect=new o2(ce);F.scope.off();const me=F.update=Se.run.bind(Se),Ie=F.job=Se.runIfDirty.bind(Se);Ie.i=F,Ie.id=F.uid,Se.scheduler=()=>$d(Ie),uo(F,!0),me()},ae=(F,B,Y)=>{B.component=F;const E=F.vnode.props;F.vnode=B,F.next=null,tw(F,B.props,E,Y),iw(F,B.children,Y),Hi(),Zp(F),zi()},re=(F,B,Y,E,le,ye,Ee,ce,Se=!1)=>{const me=F&&F.children,Ie=F?F.shapeFlag:0,Ne=B.children,{patchFlag:Fe,shapeFlag:De}=B;if(Fe>0){if(Fe&128){Ce(me,Ne,Y,E,le,ye,Ee,ce,Se);return}else if(Fe&256){we(me,Ne,Y,E,le,ye,Ee,ce,Se);return}}De&8?(Ie&16&&ne(me,le,ye),Ne!==me&&h(Y,Ne)):Ie&16?De&16?Ce(me,Ne,Y,E,le,ye,Ee,ce,Se):ne(me,le,ye,!0):(Ie&8&&h(Y,""),De&16&&J(Ne,Y,E,le,ye,Ee,ce,Se))},we=(F,B,Y,E,le,ye,Ee,ce,Se)=>{F=F||ma,B=B||ma;const me=F.length,Ie=B.length,Ne=Math.min(me,Ie);let Fe;for(Fe=0;Fe<Ne;Fe++){const De=B[Fe]=Se?Ci(B[Fe]):ks(B[Fe]);w(F[Fe],De,Y,null,le,ye,Ee,ce,Se)}me>Ie?ne(F,le,ye,!0,!1,Ne):J(B,Y,E,le,ye,Ee,ce,Se,Ne)},Ce=(F,B,Y,E,le,ye,Ee,ce,Se)=>{let me=0;const Ie=B.length;let Ne=F.length-1,Fe=Ie-1;for(;me<=Ne&&me<=Fe;){const De=F[me],Ue=B[me]=Se?Ci(B[me]):ks(B[me]);if(bo(De,Ue))w(De,Ue,Y,null,le,ye,Ee,ce,Se);else break;me++}for(;me<=Ne&&me<=Fe;){const De=F[Ne],Ue=B[Fe]=Se?Ci(B[Fe]):ks(B[Fe]);if(bo(De,Ue))w(De,Ue,Y,null,le,ye,Ee,ce,Se);else break;Ne--,Fe--}if(me>Ne){if(me<=Fe){const De=Fe+1,Ue=De<Ie?B[De].el:E;for(;me<=Fe;)w(null,B[me]=Se?Ci(B[me]):ks(B[me]),Y,Ue,le,ye,Ee,ce,Se),me++}}else if(me>Fe)for(;me<=Ne;)N(F[me],le,ye,!0),me++;else{const De=me,Ue=me,Ve=new Map;for(me=Ue;me<=Fe;me++){const tt=B[me]=Se?Ci(B[me]):ks(B[me]);tt.key!=null&&Ve.set(tt.key,me)}let $e,Me=0;const Qe=Fe-Ue+1;let qe=!1,Ot=0;const St=new Array(Qe);for(me=0;me<Qe;me++)St[me]=0;for(me=De;me<=Ne;me++){const tt=F[me];if(Me>=Qe){N(tt,le,ye,!0);continue}let Et;if(tt.key!=null)Et=Ve.get(tt.key);else for($e=Ue;$e<=Fe;$e++)if(St[$e-Ue]===0&&bo(tt,B[$e])){Et=$e;break}Et===void 0?N(tt,le,ye,!0):(St[Et-Ue]=me+1,Et>=Ot?Ot=Et:qe=!0,w(tt,B[Et],Y,null,le,ye,Ee,ce,Se),Me++)}const mt=qe?cw(St):ma;for($e=mt.length-1,me=Qe-1;me>=0;me--){const tt=Ue+me,Et=B[tt],et=tt+1<Ie?B[tt+1].el:E;St[me]===0?w(null,Et,Y,et,le,ye,Ee,ce,Se):qe&&($e<0||me!==mt[$e]?_e(Et,Y,et,2):$e--)}}},_e=(F,B,Y,E,le=null)=>{const{el:ye,type:Ee,transition:ce,children:Se,shapeFlag:me}=F;if(me&6){_e(F.component.subTree,B,Y,E);return}if(me&128){F.suspense.move(B,Y,E);return}if(me&64){Ee.move(F,B,Y,fe);return}if(Ee===cn){n(ye,B,Y);for(let Ne=0;Ne<Se.length;Ne++)_e(Se[Ne],B,Y,E);n(F.anchor,B,Y);return}if(Ee===Jh){T(F,B,Y);return}if(E!==2&&me&1&&ce)if(E===0)ce.beforeEnter(ye),n(ye,B,Y),Nn(()=>ce.enter(ye),le);else{const{leave:Ne,delayLeave:Fe,afterLeave:De}=ce,Ue=()=>n(ye,B,Y),Ve=()=>{Ne(ye,()=>{Ue(),De&&De()})};Fe?Fe(ye,Ue,Ve):Ve()}else n(ye,B,Y)},N=(F,B,Y,E=!1,le=!1)=>{const{type:ye,props:Ee,ref:ce,children:Se,dynamicChildren:me,shapeFlag:Ie,patchFlag:Ne,dirs:Fe,cacheIndex:De}=F;if(Ne===-2&&(le=!1),ce!=null&&Su(ce,null,Y,F,!0),De!=null&&(B.renderCache[De]=void 0),Ie&256){B.ctx.deactivate(F);return}const Ue=Ie&1&&Fe,Ve=!wl(F);let $e;if(Ve&&($e=Ee&&Ee.onVnodeBeforeUnmount)&&Ss($e,B,F),Ie&6)Z(F.component,Y,E);else{if(Ie&128){F.suspense.unmount(Y,E);return}Ue&&co(F,null,B,"beforeUnmount"),Ie&64?F.type.remove(F,B,Y,fe,E):me&&!me.hasOnce&&(ye!==cn||Ne>0&&Ne&64)?ne(me,B,Y,!1,!0):(ye===cn&&Ne&384||!le&&Ie&16)&&ne(Se,B,Y),E&&U(F)}(Ve&&($e=Ee&&Ee.onVnodeUnmounted)||Ue)&&Nn(()=>{$e&&Ss($e,B,F),Ue&&co(F,null,B,"unmounted")},Y)},U=F=>{const{type:B,el:Y,anchor:E,transition:le}=F;if(B===cn){V(Y,E);return}if(B===Jh){R(F);return}const ye=()=>{s(Y),le&&!le.persisted&&le.afterLeave&&le.afterLeave()};if(F.shapeFlag&1&&le&&!le.persisted){const{leave:Ee,delayLeave:ce}=le,Se=()=>Ee(Y,ye);ce?ce(F.el,ye,Se):Se()}else ye()},V=(F,B)=>{let Y;for(;F!==B;)Y=v(F),s(F),F=Y;s(B)},Z=(F,B,Y)=>{const{bum:E,scope:le,job:ye,subTree:Ee,um:ce,m:Se,a:me}=F;i0(Se),i0(me),E&&su(E),le.stop(),ye&&(ye.flags|=8,N(Ee,F,B,Y)),ce&&Nn(ce,B),Nn(()=>{F.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&F.asyncDep&&!F.asyncResolved&&F.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ne=(F,B,Y,E=!1,le=!1,ye=0)=>{for(let Ee=ye;Ee<F.length;Ee++)N(F[Ee],B,Y,E,le)},$=F=>{if(F.shapeFlag&6)return $(F.component.subTree);if(F.shapeFlag&128)return F.suspense.next();const B=v(F.anchor||F.el),Y=B&&B[Ty];return Y?v(Y):B};let ee=!1;const Q=(F,B,Y)=>{F==null?B._vnode&&N(B._vnode,null,null,!0):w(B._vnode||null,F,B,null,null,null,Y),B._vnode=F,ee||(ee=!0,Zp(),N2(),ee=!1)},fe={p:w,um:N,m:_e,r:U,mt:W,mc:J,pc:re,pbc:G,n:$,o:t};return{render:Q,hydrate:void 0,createApp:Qy(Q)}}function Kh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function uo({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function lw(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Z2(t,e,r=!1){const n=t.children,s=e.children;if(rt(n)&&rt(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ci(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Z2(o,a)),a.type===Ju&&(a.el=o.el)}}function cw(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(s=r[r.length-1],t[s]<c){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<c?i=a+1:o=a;c<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function Q2(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Q2(e)}function i0(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const uw=Symbol.for("v-scx"),hw=()=>Ts(uw);function ou(t,e,r){return e5(t,e,r)}function e5(t,e,r=Ht){const{immediate:n,deep:s,flush:i,once:o}=r,a=Rr({},r),l=e&&n||!e&&i!=="post";let c;if(Rl){if(i==="sync"){const d=hw();c=d.__watcherHandles||(d.__watcherHandles=[])}else if(!l){const d=()=>{};return d.stop=Os,d.resume=Os,d.pause=Os,d}}const h=Xr;a.call=(d,y,w)=>as(d,h,y,w);let p=!1;i==="post"?a.scheduler=d=>{Nn(d,h&&h.suspense)}:i!=="sync"&&(p=!0,a.scheduler=(d,y)=>{y?d():$d(d)}),a.augmentJob=d=>{e&&(d.flags|=4),p&&(d.flags|=2,h&&(d.id=h.uid,d.i=h))};const v=ky(t,e,a);return Rl&&(c?c.push(v):l&&v()),v}function fw(t,e,r){const n=this.proxy,s=gr(t)?t.includes(".")?t5(n,t):()=>n[t]:t.bind(n,n);let i;gt(e)?i=e:(i=e.handler,r=e);const o=Wl(this),a=e5(s,i.bind(n),r);return o(),a}function t5(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}const dw=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Ui(e)}Modifiers`]||t[`${$i(e)}Modifiers`];function pw(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ht;let s=r;const i=e.startsWith("update:"),o=i&&dw(n,e.slice(7));o&&(o.trim&&(s=r.map(h=>gr(h)?h.trim():h)),o.number&&(s=r.map(yu)));let a,l=n[a=qh(e)]||n[a=qh(Ui(e))];!l&&i&&(l=n[a=qh($i(e))]),l&&as(l,t,6,s);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,as(c,t,6,s)}}function r5(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!gt(t)){const l=c=>{const h=r5(c,e,!0);h&&(a=!0,Rr(o,h))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(zt(t)&&n.set(t,null),null):(rt(i)?i.forEach(l=>o[l]=null):Rr(o,i),zt(t)&&n.set(t,o),o)}function Ku(t,e){return!t||!Fu(e)?!1:(e=e.slice(2).replace(/Once$/,""),jt(t,e[0].toLowerCase()+e.slice(1))||jt(t,$i(e))||jt(t,e))}function o0(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:h,props:p,data:v,setupState:d,ctx:y,inheritAttrs:w}=t,S=_u(t);let _,j;try{if(r.shapeFlag&4){const R=s||n,K=R;_=ks(c.call(K,R,h,p,d,v,y)),j=a}else{const R=e;_=ks(R.length>1?R(p,{attrs:a,slots:o,emit:l}):R(p,null)),j=e.props?a:gw(a)}}catch(R){_l.length=0,zu(R,t,1),_=Qr(fn)}let T=_;if(j&&w!==!1){const R=Object.keys(j),{shapeFlag:K}=T;R.length&&K&7&&(i&&R.some(Od)&&(j=mw(j,i)),T=Mi(T,j,!1,!0))}return r.dirs&&(T=Mi(T,null,!1,!0),T.dirs=T.dirs?T.dirs.concat(r.dirs):r.dirs),r.transition&&Ol(T,r.transition),_=T,_u(S),_}const gw=t=>{let e;for(const r in t)(r==="class"||r==="style"||Fu(r))&&((e||(e={}))[r]=t[r]);return e},mw=(t,e)=>{const r={};for(const n in t)(!Od(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function vw(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?a0(n,o,c):!!o;if(l&8){const h=e.dynamicProps;for(let p=0;p<h.length;p++){const v=h[p];if(o[v]!==n[v]&&!Ku(c,v))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?a0(n,o,c):!0:!!o;return!1}function a0(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!Ku(r,i))return!0}return!1}function yw({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const n5=t=>t.__isSuspense;function ww(t,e){e&&e.pendingBranch?rt(t)?e.effects.push(...t):e.effects.push(t):Oy(t)}const cn=Symbol.for("v-fgt"),Ju=Symbol.for("v-txt"),fn=Symbol.for("v-cmt"),Jh=Symbol.for("v-stc"),_l=[];let Cn=null;function yt(t=!1){_l.push(Cn=t?null:[])}function bw(){_l.pop(),Cn=_l[_l.length-1]||null}let Tl=1;function l0(t,e=!1){Tl+=t,t<0&&Cn&&e&&(Cn.hasOnce=!0)}function s5(t){return t.dynamicChildren=Tl>0?Cn||ma:null,bw(),Tl>0&&Cn&&Cn.push(t),t}function At(t,e,r,n,s,i){return s5(Oe(t,e,r,n,s,i,!0))}function Jf(t,e,r,n,s){return s5(Qr(t,e,r,n,s,!0))}function xu(t){return t?t.__v_isVNode===!0:!1}function bo(t,e){return t.type===e.type&&t.key===e.key}const i5=({key:t})=>t??null,au=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?gr(t)||en(t)||gt(t)?{i:Rn,r:t,k:e,f:!!r}:t:null);function Oe(t,e=null,r=null,n=0,s=null,i=t===cn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&i5(e),ref:e&&au(e),scopeId:L2,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Rn};return a?(zd(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=gr(r)?8:16),Tl>0&&!o&&Cn&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Cn.push(l),l}const Qr=_w;function _w(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===Wy)&&(t=fn),xu(t)){const a=Mi(t,e,!0);return r&&zd(a,r),Tl>0&&!i&&Cn&&(a.shapeFlag&6?Cn[Cn.indexOf(t)]=a:Cn.push(a)),a.patchFlag=-2,a}if(Rw(t)&&(t=t.__vccOpts),e){e=Sw(e);let{class:a,style:l}=e;a&&!gr(a)&&(e.class=Mu(a)),zt(l)&&(Md(l)&&!rt(l)&&(l=Rr({},l)),e.style=Cd(l))}const o=gr(t)?1:n5(t)?128:O2(t)?64:zt(t)?4:gt(t)?2:0;return Oe(t,e,r,n,s,o,i,!0)}function Sw(t){return t?Md(t)||W2(t)?Rr({},t):t:null}function Mi(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?Aw(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&i5(c),ref:e&&e.ref?r&&i?rt(i)?i.concat(au(e)):[i,au(e)]:au(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==cn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Mi(t.ssContent),ssFallback:t.ssFallback&&Mi(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&Ol(h,l.clone(h)),h}function li(t=" ",e=0){return Qr(Ju,null,t,e)}function Tr(t="",e=!1){return e?(yt(),Jf(fn,null,t)):Qr(fn,null,t)}function ks(t){return t==null||typeof t=="boolean"?Qr(fn):rt(t)?Qr(cn,null,t.slice()):xu(t)?Ci(t):Qr(Ju,null,String(t))}function Ci(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Mi(t)}function zd(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(rt(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),zd(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!W2(e)?e._ctx=Rn:s===3&&Rn&&(Rn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else gt(e)?(e={default:e,_ctx:Rn},r=32):(e=String(e),n&64?(r=16,e=[li(e)]):r=8);t.children=e,t.shapeFlag|=r}function Aw(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Mu([e.class,n.class]));else if(s==="style")e.style=Cd([e.style,n.style]);else if(Fu(s)){const i=e[s],o=n[s];o&&i!==o&&!(rt(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function Ss(t,e,r,n=null){as(t,e,7,[r,n])}const xw=$2();let Ew=0;function Nw(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||xw,i={uid:Ew++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ey(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:G2(n,s),emitsOptions:r5(n,s),emit:null,emitted:null,propsDefaults:Ht,inheritAttrs:n.inheritAttrs,ctx:Ht,data:Ht,props:Ht,attrs:Ht,slots:Ht,refs:Ht,setupState:Ht,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=pw.bind(null,i),t.ce&&t.ce(i),i}let Xr=null;const kw=()=>Xr||Rn;let Eu,Yf;{const t=Uu(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Eu=e("__VUE_INSTANCE_SETTERS__",r=>Xr=r),Yf=e("__VUE_SSR_SETTERS__",r=>Rl=r)}const Wl=t=>{const e=Xr;return Eu(t),t.scope.on(),()=>{t.scope.off(),Eu(e)}},c0=()=>{Xr&&Xr.scope.off(),Eu(null)};function o5(t){return t.vnode.shapeFlag&4}let Rl=!1;function Lw(t,e=!1,r=!1){e&&Yf(e);const{props:n,children:s}=t.vnode,i=o5(t);ew(t,n,i,e),sw(t,s,r);const o=i?Pw(t,e):void 0;return e&&Yf(!1),o}function Pw(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Vy);const{setup:n}=r;if(n){Hi();const s=t.setupContext=n.length>1?Tw(t):null,i=Wl(t),o=zl(n,t,0,[t.props,s]),a=Zg(o);if(zi(),i(),(a||t.sp)&&!wl(t)&&D2(t),a){if(o.then(c0,c0),e)return o.then(l=>{u0(t,l)}).catch(l=>{zu(l,t,0)});t.asyncDep=o}else u0(t,o)}else a5(t)}function u0(t,e,r){gt(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:zt(e)&&(t.setupState=A2(e)),a5(t)}function a5(t,e,r){const n=t.type;t.render||(t.render=n.render||Os);{const s=Wl(t);Hi();try{Gy(t)}finally{zi(),s()}}}const Ow={get(t,e){return Jr(t,"get",""),t[e]}};function Tw(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,Ow),slots:t.slots,emit:t.emit,expose:e}}function Yu(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(A2(by(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in bl)return bl[r](t)},has(e,r){return r in e||r in bl}})):t.proxy}function Rw(t){return gt(t)&&"__vccOpts"in t}const Pn=(t,e)=>Ey(t,e,Rl);function Wd(t,e,r){const n=arguments.length;return n===2?zt(e)&&!rt(e)?xu(e)?Qr(t,null,[e]):Qr(t,e):Qr(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&xu(r)&&(r=[r]),Qr(t,e,r))}const Cw="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xf;const h0=typeof window<"u"&&window.trustedTypes;if(h0)try{Xf=h0.createPolicy("vue",{createHTML:t=>t})}catch{}const l5=Xf?t=>Xf.createHTML(t):t=>t,Iw="http://www.w3.org/2000/svg",jw="http://www.w3.org/1998/Math/MathML",ni=typeof document<"u"?document:null,f0=ni&&ni.createElement("template"),Fw={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?ni.createElementNS(Iw,t):e==="mathml"?ni.createElementNS(jw,t):r?ni.createElement(t,{is:r}):ni.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>ni.createTextNode(t),createComment:t=>ni.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ni.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{f0.innerHTML=l5(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=f0.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},ki="transition",cl="animation",Cl=Symbol("_vtc"),c5={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Dw=Rr({},T2,c5),Bw=t=>(t.displayName="Transition",t.props=Dw,t),Uw=Bw((t,{slots:e})=>Wd(Iy,Mw(t),e)),ho=(t,e=[])=>{rt(t)?t.forEach(r=>r(...e)):t&&t(...e)},d0=t=>t?rt(t)?t.some(e=>e.length>1):t.length>1:!1;function Mw(t){const e={};for(const O in t)O in c5||(e[O]=t[O]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:p=`${r}-leave-from`,leaveActiveClass:v=`${r}-leave-active`,leaveToClass:d=`${r}-leave-to`}=t,y=qw(s),w=y&&y[0],S=y&&y[1],{onBeforeEnter:_,onEnter:j,onEnterCancelled:T,onLeave:R,onLeaveCancelled:K,onBeforeAppear:se=_,onAppear:ie=j,onAppearCancelled:J=T}=e,C=(O,z,W,pe)=>{O._enterCancelled=pe,fo(O,z?h:a),fo(O,z?c:o),W&&W()},G=(O,z)=>{O._isLeaving=!1,fo(O,p),fo(O,d),fo(O,v),z&&z()},L=O=>(z,W)=>{const pe=O?ie:j,ue=()=>C(z,O,W);ho(pe,[z,ue]),p0(()=>{fo(z,O?l:i),Qs(z,O?h:a),d0(pe)||g0(z,n,w,ue)})};return Rr(e,{onBeforeEnter(O){ho(_,[O]),Qs(O,i),Qs(O,o)},onBeforeAppear(O){ho(se,[O]),Qs(O,l),Qs(O,c)},onEnter:L(!1),onAppear:L(!0),onLeave(O,z){O._isLeaving=!0;const W=()=>G(O,z);Qs(O,p),O._enterCancelled?(Qs(O,v),y0()):(y0(),Qs(O,v)),p0(()=>{O._isLeaving&&(fo(O,p),Qs(O,d),d0(R)||g0(O,n,S,W))}),ho(R,[O,W])},onEnterCancelled(O){C(O,!1,void 0,!0),ho(T,[O])},onAppearCancelled(O){C(O,!0,void 0,!0),ho(J,[O])},onLeaveCancelled(O){G(O),ho(K,[O])}})}function qw(t){if(t==null)return null;if(zt(t))return[Yh(t.enter),Yh(t.leave)];{const e=Yh(t);return[e,e]}}function Yh(t){return Wv(t)}function Qs(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Cl]||(t[Cl]=new Set)).add(e)}function fo(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Cl];r&&(r.delete(e),r.size||(t[Cl]=void 0))}function p0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let $w=0;function g0(t,e,r,n){const s=t._endId=++$w,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=Hw(t,e);if(!o)return n();const c=o+"end";let h=0;const p=()=>{t.removeEventListener(c,v),i()},v=d=>{d.target===t&&++h>=l&&p()};setTimeout(()=>{h<l&&p()},a+1),t.addEventListener(c,v)}function Hw(t,e){const r=window.getComputedStyle(t),n=y=>(r[y]||"").split(", "),s=n(`${ki}Delay`),i=n(`${ki}Duration`),o=m0(s,i),a=n(`${cl}Delay`),l=n(`${cl}Duration`),c=m0(a,l);let h=null,p=0,v=0;e===ki?o>0&&(h=ki,p=o,v=i.length):e===cl?c>0&&(h=cl,p=c,v=l.length):(p=Math.max(o,c),h=p>0?o>c?ki:cl:null,v=h?h===ki?i.length:l.length:0);const d=h===ki&&/\b(transform|all)(,|$)/.test(n(`${ki}Property`).toString());return{type:h,timeout:p,propCount:v,hasTransform:d}}function m0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>v0(r)+v0(t[n])))}function v0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function y0(){return document.body.offsetHeight}function zw(t,e,r){const n=t[Cl];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const w0=Symbol("_vod"),Ww=Symbol("_vsh"),Vw=Symbol(""),Gw=/(^|;)\s*display\s*:/;function Kw(t,e,r){const n=t.style,s=gr(r);let i=!1;if(r&&!s){if(e)if(gr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&lu(n,a,"")}else for(const o in e)r[o]==null&&lu(n,o,"");for(const o in r)o==="display"&&(i=!0),lu(n,o,r[o])}else if(s){if(e!==r){const o=n[Vw];o&&(r+=";"+o),n.cssText=r,i=Gw.test(r)}}else e&&t.removeAttribute("style");w0 in t&&(t[w0]=i?n.display:"",t[Ww]&&(n.display="none"))}const b0=/\s*!important$/;function lu(t,e,r){if(rt(r))r.forEach(n=>lu(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Jw(t,e);b0.test(r)?t.setProperty($i(n),r.replace(b0,""),"important"):t[n]=r}}const _0=["Webkit","Moz","ms"],Xh={};function Jw(t,e){const r=Xh[e];if(r)return r;let n=Ui(e);if(n!=="filter"&&n in t)return Xh[e]=n;n=t2(n);for(let s=0;s<_0.length;s++){const i=_0[s]+n;if(i in t)return Xh[e]=i}return e}const S0="http://www.w3.org/1999/xlink";function A0(t,e,r,n,s,i=Xv(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(S0,e.slice(6,e.length)):t.setAttributeNS(S0,e,r):r==null||i&&!n2(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Rs(r)?String(r):r)}function x0(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?l5(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=n2(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function _o(t,e,r,n){t.addEventListener(e,r,n)}function Yw(t,e,r,n){t.removeEventListener(e,r,n)}const E0=Symbol("_vei");function Xw(t,e,r,n,s=null){const i=t[E0]||(t[E0]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=Zw(e);if(n){const c=i[e]=tb(n,s);_o(t,a,c,l)}else o&&(Yw(t,a,o,l),i[e]=void 0)}}const N0=/(?:Once|Passive|Capture)$/;function Zw(t){let e;if(N0.test(t)){e={};let n;for(;n=t.match(N0);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):$i(t.slice(2)),e]}let Zh=0;const Qw=Promise.resolve(),eb=()=>Zh||(Qw.then(()=>Zh=0),Zh=Date.now());function tb(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;as(rb(n,r.value),e,5,[n])};return r.value=t,r.attached=eb(),r}function rb(t,e){if(rt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const k0=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,nb=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?zw(t,n,o):e==="style"?Kw(t,r,n):Fu(e)?Od(e)||Xw(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):sb(t,e,n,o))?(x0(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&A0(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!gr(n))?x0(t,Ui(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),A0(t,e,n,o))};function sb(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&k0(e)&&gt(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return k0(e)&&gr(r)?!1:e in t}const Nu=t=>{const e=t.props["onUpdate:modelValue"]||!1;return rt(e)?r=>su(e,r):e};function ib(t){t.target.composing=!0}function L0(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const _a=Symbol("_assign"),is={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[_a]=Nu(s);const i=n||s.props&&s.props.type==="number";_o(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=yu(a)),t[_a](a)}),r&&_o(t,"change",()=>{t.value=t.value.trim()}),e||(_o(t,"compositionstart",ib),_o(t,"compositionend",L0),_o(t,"change",L0))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[_a]=Nu(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?yu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===l)||(t.value=l))}},P0={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=Du(e);_o(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?yu(ku(o)):ku(o));t[_a](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,qd(()=>{t._assigning=!1})}),t[_a]=Nu(n)},mounted(t,{value:e}){O0(t,e)},beforeUpdate(t,e,r){t[_a]=Nu(r)},updated(t,{value:e}){t._assigning||O0(t,e)}};function O0(t,e){const r=t.multiple,n=rt(e);if(!(r&&!n&&!Du(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=ku(o);if(r)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Qv(e,a)>-1}else o.selected=e.has(a);else if(qu(ku(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ku(t){return"_value"in t?t._value:t.value}const ob=["ctrl","shift","alt","meta"],ab={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>ob.some(r=>t[`${r}Key`]&&!e.includes(r))},Sa=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=ab[e[o]];if(a&&a(s,e))return}return t(s,...i)})},lb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},T0=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const i=$i(s.key);if(e.some(o=>o===i||lb[o]===i))return t(s)})},cb=Rr({patchProp:nb},Fw);let R0;function ub(){return R0||(R0=ow(cb))}const hb=(...t)=>{const e=ub().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=db(n);if(!s)return;const i=e._component;!gt(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,fb(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function fb(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function db(t){return gr(t)?document.querySelector(t):t}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const la=typeof document<"u";function u5(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function pb(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&u5(t.default)}const It=Object.assign;function Qh(t,e){const r={};for(const n in e){const s=e[n];r[n]=ls(s)?s.map(t):t(s)}return r}const Sl=()=>{},ls=Array.isArray;function C0(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}const h5=/#/g,gb=/&/g,mb=/\//g,vb=/=/g,yb=/\?/g,f5=/\+/g,wb=/%5B/g,bb=/%5D/g,d5=/%5E/g,_b=/%60/g,p5=/%7B/g,Sb=/%7C/g,g5=/%7D/g,Ab=/%20/g;function Vd(t){return t==null?"":encodeURI(""+t).replace(Sb,"|").replace(wb,"[").replace(bb,"]")}function xb(t){return Vd(t).replace(p5,"{").replace(g5,"}").replace(d5,"^")}function Zf(t){return Vd(t).replace(f5,"%2B").replace(Ab,"+").replace(h5,"%23").replace(gb,"%26").replace(_b,"`").replace(p5,"{").replace(g5,"}").replace(d5,"^")}function Eb(t){return Zf(t).replace(vb,"%3D")}function Nb(t){return Vd(t).replace(h5,"%23").replace(yb,"%3F")}function kb(t){return Nb(t).replace(mb,"%2F")}function Il(t){if(t==null)return null;try{return decodeURIComponent(""+t)}catch{}return""+t}const Lb=/\/$/,Pb=t=>t.replace(Lb,"");function ef(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return l=a>=0&&l>a?-1:l,l>=0&&(n=e.slice(0,l),i=e.slice(l,a>0?a:e.length),s=t(i.slice(1))),a>=0&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Cb(n??e,r),{fullPath:n+i+o,path:n,query:s,hash:Il(o)}}function Ob(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function I0(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Tb(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&La(e.matched[n],r.matched[s])&&m5(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function La(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function m5(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(var r in t)if(!Rb(t[r],e[r]))return!1;return!0}function Rb(t,e){return ls(t)?j0(t,e):ls(e)?j0(e,t):(t==null?void 0:t.valueOf())===(e==null?void 0:e.valueOf())}function j0(t,e){return ls(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Cb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Li={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Qf=function(t){return t.pop="pop",t.push="push",t}({}),tf=function(t){return t.back="back",t.forward="forward",t.unknown="",t}({});function Ib(t){if(!t)if(la){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Pb(t)}const jb=/^[^#]+#/;function Fb(t,e){return t.replace(jb,"#")+e}function Db(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Xu=()=>({left:window.scrollX,top:window.scrollY});function Bb(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=Db(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function F0(t,e){return(history.state?history.state.position-e:-1)+t}const ed=new Map;function Ub(t,e){ed.set(t,e)}function Mb(t){const e=ed.get(t);return ed.delete(t),e}function qb(t){return typeof t=="string"||t&&typeof t=="object"}function v5(t){return typeof t=="string"||typeof t=="symbol"}let ir=function(t){return t[t.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",t[t.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",t[t.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",t[t.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",t[t.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",t}({});const y5=Symbol("");ir.MATCHER_NOT_FOUND+"",ir.NAVIGATION_GUARD_REDIRECT+"",ir.NAVIGATION_ABORTED+"",ir.NAVIGATION_CANCELLED+"",ir.NAVIGATION_DUPLICATED+"";function Pa(t,e){return It(new Error,{type:t,[y5]:!0},e)}function ei(t,e){return t instanceof Error&&y5 in t&&(e==null||!!(t.type&e))}const $b=["params","query","hash"];function Hb(t){if(typeof t=="string")return t;if(t.path!=null)return t.path;const e={};for(const r of $b)r in t&&(e[r]=t[r]);return JSON.stringify(e,null,2)}function zb(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const s=r[n].replace(f5," "),i=s.indexOf("="),o=Il(i<0?s:s.slice(0,i)),a=i<0?null:Il(s.slice(i+1));if(o in e){let l=e[o];ls(l)||(l=e[o]=[l]),l.push(a)}else e[o]=a}return e}function D0(t){let e="";for(let r in t){const n=t[r];if(r=Eb(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(ls(n)?n.map(s=>s&&Zf(s)):[n&&Zf(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function Wb(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=ls(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const Vb=Symbol(""),B0=Symbol(""),Gd=Symbol(""),Kd=Symbol(""),td=Symbol("");function ul(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Ii(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const c=v=>{v===!1?l(Pa(ir.NAVIGATION_ABORTED,{from:r,to:e})):v instanceof Error?l(v):qb(v)?l(Pa(ir.NAVIGATION_GUARD_REDIRECT,{from:e,to:v})):(o&&n.enterCallbacks[s]===o&&typeof v=="function"&&o.push(v),a())},h=i(()=>t.call(n&&n.instances[s],e,r,c));let p=Promise.resolve(h);t.length<3&&(p=p.then(c)),p.catch(v=>l(v))})}function rf(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(u5(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Ii(c,r,n,o,a,s))}else{let c=l();i.push(()=>c.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const p=pb(h)?h.default:h;o.mods[a]=h,o.components[a]=p;const v=(p.__vccOpts||p)[e];return v&&Ii(v,r,n,o,a,s)()}))}}return i}function Gb(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>La(c,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(c=>La(c,l))||s.push(l))}return[r,n,s]}/*!
 * vue-router v4.6.4
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Kb=()=>location.protocol+"//"+location.host;function w5(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let o=s.includes(t.slice(i))?t.slice(i).length:1,a=s.slice(o);return a[0]!=="/"&&(a="/"+a),I0(a,"")}return I0(r,t)+n+s}function Jb(t,e,r,n){let s=[],i=[],o=null;const a=({state:v})=>{const d=w5(t,location),y=r.value,w=e.value;let S=0;if(v){if(r.value=d,e.value=v,o&&o===y){o=null;return}S=w?v.position-w.position:0}else n(d);s.forEach(_=>{_(r.value,y,{delta:S,type:Qf.pop,direction:S?S>0?tf.forward:tf.back:tf.unknown})})};function l(){o=r.value}function c(v){s.push(v);const d=()=>{const y=s.indexOf(v);y>-1&&s.splice(y,1)};return i.push(d),d}function h(){if(document.visibilityState==="hidden"){const{history:v}=window;if(!v.state)return;v.replaceState(It({},v.state,{scroll:Xu()}),"")}}function p(){for(const v of i)v();i=[],window.removeEventListener("popstate",a),window.removeEventListener("pagehide",h),document.removeEventListener("visibilitychange",h)}return window.addEventListener("popstate",a),window.addEventListener("pagehide",h),document.addEventListener("visibilitychange",h),{pauseListeners:l,listen:c,destroy:p}}function U0(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?Xu():null}}function Yb(t){const{history:e,location:r}=window,n={value:w5(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,h){const p=t.indexOf("#"),v=p>-1?(r.host&&document.querySelector("base")?t:t.slice(p))+l:Kb()+t+l;try{e[h?"replaceState":"pushState"](c,"",v),s.value=c}catch(d){console.error(d),r[h?"replace":"assign"](v)}}function o(l,c){i(l,It({},e.state,U0(s.value.back,l,s.value.forward,!0),c,{position:s.value.position}),!0),n.value=l}function a(l,c){const h=It({},s.value,e.state,{forward:l,scroll:Xu()});i(h.current,h,!0),i(l,It({},U0(n.value,l,null),{position:h.position+1},c),!1),n.value=l}return{location:n,state:s,push:a,replace:o}}function Xb(t){t=Ib(t);const e=Yb(t),r=Jb(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=It({location:"",base:t,go:n,createHref:Fb.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Zb(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),Xb(t)}let Eo=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.Group=2]="Group",t}({});var kr=function(t){return t[t.Static=0]="Static",t[t.Param=1]="Param",t[t.ParamRegExp=2]="ParamRegExp",t[t.ParamRegExpEnd=3]="ParamRegExpEnd",t[t.EscapeNext=4]="EscapeNext",t}(kr||{});const Qb={type:Eo.Static,value:""},e_=/[a-zA-Z0-9_]/;function t_(t){if(!t)return[[]];if(t==="/")return[[Qb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${r})/"${c}": ${d}`)}let r=kr.Static,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,c="",h="";function p(){c&&(r===kr.Static?i.push({type:Eo.Static,value:c}):r===kr.Param||r===kr.ParamRegExp||r===kr.ParamRegExpEnd?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:Eo.Param,value:c,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function v(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==kr.ParamRegExp){n=r,r=kr.EscapeNext;continue}switch(r){case kr.Static:l==="/"?(c&&p(),o()):l===":"?(p(),r=kr.Param):v();break;case kr.EscapeNext:v(),r=n;break;case kr.Param:l==="("?r=kr.ParamRegExp:e_.test(l)?v():(p(),r=kr.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case kr.ParamRegExp:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:r=kr.ParamRegExpEnd:h+=l;break;case kr.ParamRegExpEnd:p(),r=kr.Static,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===kr.ParamRegExp&&e(`Unfinished custom RegExp for param "${c}"`),p(),o(),s}const M0="[^/]+?",r_={sensitive:!1,strict:!1,start:!0,end:!0};var an=function(t){return t[t._multiplier=10]="_multiplier",t[t.Root=90]="Root",t[t.Segment=40]="Segment",t[t.SubSegment=30]="SubSegment",t[t.Static=40]="Static",t[t.Dynamic=20]="Dynamic",t[t.BonusCustomRegExp=10]="BonusCustomRegExp",t[t.BonusWildcard=-50]="BonusWildcard",t[t.BonusRepeatable=-20]="BonusRepeatable",t[t.BonusOptional=-8]="BonusOptional",t[t.BonusStrict=.7000000000000001]="BonusStrict",t[t.BonusCaseSensitive=.25]="BonusCaseSensitive",t}(an||{});const n_=/[.+*?^${}()[\]/\\]/g;function s_(t,e){const r=It({},r_,e),n=[];let s=r.start?"^":"";const i=[];for(const c of t){const h=c.length?[]:[an.Root];r.strict&&!c.length&&(s+="/");for(let p=0;p<c.length;p++){const v=c[p];let d=an.Segment+(r.sensitive?an.BonusCaseSensitive:0);if(v.type===Eo.Static)p||(s+="/"),s+=v.value.replace(n_,"\\$&"),d+=an.Static;else if(v.type===Eo.Param){const{value:y,repeatable:w,optional:S,regexp:_}=v;i.push({name:y,repeatable:w,optional:S});const j=_||M0;if(j!==M0){d+=an.BonusCustomRegExp;try{`${j}`}catch(R){throw new Error(`Invalid custom RegExp for param "${y}" (${j}): `+R.message)}}let T=w?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;p||(T=S&&c.length<2?`(?:/${T})`:"/"+T),S&&(T+="?"),s+=T,d+=an.Dynamic,S&&(d+=an.BonusOptional),w&&(d+=an.BonusRepeatable),j===".*"&&(d+=an.BonusWildcard)}h.push(d)}n.push(h)}if(r.strict&&r.end){const c=n.length-1;n[c][n[c].length-1]+=an.BonusStrict}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(c){const h=c.match(o),p={};if(!h)return null;for(let v=1;v<h.length;v++){const d=h[v]||"",y=i[v-1];p[y.name]=d&&y.repeatable?d.split("/"):d}return p}function l(c){let h="",p=!1;for(const v of t){(!p||!h.endsWith("/"))&&(h+="/"),p=!1;for(const d of v)if(d.type===Eo.Static)h+=d.value;else if(d.type===Eo.Param){const{value:y,repeatable:w,optional:S}=d,_=y in c?c[y]:"";if(ls(_)&&!w)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const j=ls(_)?_.join("/"):_;if(!j)if(S)v.length<2&&(h.endsWith("/")?h=h.slice(0,-1):p=!0);else throw new Error(`Missing required param "${y}"`);h+=j}}return h||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function i_(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===an.Static+an.Segment?-1:1:t.length>e.length?e.length===1&&e[0]===an.Static+an.Segment?1:-1:0}function b5(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=i_(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(q0(n))return 1;if(q0(s))return-1}return s.length-n.length}function q0(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const o_={strict:!1,end:!0,sensitive:!1};function a_(t,e,r){const n=s_(t_(t.path),r),s=It(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function l_(t,e){const r=[],n=new Map;e=C0(o_,e);function s(p){return n.get(p)}function i(p,v,d){const y=!d,w=H0(p);w.aliasOf=d&&d.record;const S=C0(e,p),_=[w];if("alias"in p){const R=typeof p.alias=="string"?[p.alias]:p.alias;for(const K of R)_.push(H0(It({},w,{components:d?d.record.components:w.components,path:K,aliasOf:d?d.record:w})))}let j,T;for(const R of _){const{path:K}=R;if(v&&K[0]!=="/"){const se=v.record.path,ie=se[se.length-1]==="/"?"":"/";R.path=v.record.path+(K&&ie+K)}if(j=a_(R,v,S),d?d.alias.push(j):(T=T||j,T!==j&&T.alias.push(j),y&&p.name&&!z0(j)&&o(p.name)),_5(j)&&l(j),w.children){const se=w.children;for(let ie=0;ie<se.length;ie++)i(se[ie],j,d&&d.children[ie])}d=d||j}return T?()=>{o(T)}:Sl}function o(p){if(v5(p)){const v=n.get(p);v&&(n.delete(p),r.splice(r.indexOf(v),1),v.children.forEach(o),v.alias.forEach(o))}else{const v=r.indexOf(p);v>-1&&(r.splice(v,1),p.record.name&&n.delete(p.record.name),p.children.forEach(o),p.alias.forEach(o))}}function a(){return r}function l(p){const v=h_(p,r);r.splice(v,0,p),p.record.name&&!z0(p)&&n.set(p.record.name,p)}function c(p,v){let d,y={},w,S;if("name"in p&&p.name){if(d=n.get(p.name),!d)throw Pa(ir.MATCHER_NOT_FOUND,{location:p});S=d.record.name,y=It($0(v.params,d.keys.filter(T=>!T.optional).concat(d.parent?d.parent.keys.filter(T=>T.optional):[]).map(T=>T.name)),p.params&&$0(p.params,d.keys.map(T=>T.name))),w=d.stringify(y)}else if(p.path!=null)w=p.path,d=r.find(T=>T.re.test(w)),d&&(y=d.parse(w),S=d.record.name);else{if(d=v.name?n.get(v.name):r.find(T=>T.re.test(v.path)),!d)throw Pa(ir.MATCHER_NOT_FOUND,{location:p,currentLocation:v});S=d.record.name,y=It({},v.params,p.params),w=d.stringify(y)}const _=[];let j=d;for(;j;)_.unshift(j.record),j=j.parent;return{name:S,path:w,params:y,matched:_,meta:u_(_)}}t.forEach(p=>i(p));function h(){r.length=0,n.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function $0(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function H0(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:c_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function c_(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function z0(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function u_(t){return t.reduce((e,r)=>It(e,r.meta),{})}function h_(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;b5(t,e[i])<0?n=i:r=i+1}const s=f_(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function f_(t){let e=t;for(;e=e.parent;)if(_5(e)&&b5(t,e)===0)return e}function _5({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function W0(t){const e=Ts(Gd),r=Ts(Kd),n=Pn(()=>{const l=Ls(t.to);return e.resolve(l)}),s=Pn(()=>{const{matched:l}=n.value,{length:c}=l,h=l[c-1],p=r.matched;if(!h||!p.length)return-1;const v=p.findIndex(La.bind(null,h));if(v>-1)return v;const d=V0(l[c-2]);return c>1&&V0(h)===d&&p[p.length-1].path!==d?p.findIndex(La.bind(null,l[c-2])):v}),i=Pn(()=>s.value>-1&&v_(r.params,n.value.params)),o=Pn(()=>s.value>-1&&s.value===r.matched.length-1&&m5(r.params,n.value.params));function a(l={}){if(m_(l)){const c=e[Ls(t.replace)?"replace":"push"](Ls(t.to)).catch(Sl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:n,href:Pn(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function d_(t){return t.length===1?t[0]:t}const p_=F2({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:W0,setup(t,{slots:e}){const r=Hu(W0(t)),{options:n}=Ts(Gd),s=Pn(()=>({[G0(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[G0(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&d_(e.default(r));return t.custom?i:Wd("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),g_=p_;function m_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function v_(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!ls(s)||s.length!==n.length||n.some((i,o)=>i.valueOf()!==s[o].valueOf()))return!1}return!0}function V0(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const G0=(t,e,r)=>t??e??r,y_=F2({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Ts(td),s=Pn(()=>t.route||n.value),i=Ts(B0,0),o=Pn(()=>{let c=Ls(i);const{matched:h}=s.value;let p;for(;(p=h[c])&&!p.components;)c++;return c}),a=Pn(()=>s.value.matched[o.value]);iu(B0,Pn(()=>o.value+1)),iu(Vb,a),iu(td,s);const l=pt();return ou(()=>[l.value,a.value,t.name],([c,h,p],[v,d,y])=>{h&&(h.instances[p]=c,d&&d!==h&&c&&c===v&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),c&&h&&(!d||!La(h,d)||!v)&&(h.enterCallbacks[p]||[]).forEach(w=>w(c))},{flush:"post"}),()=>{const c=s.value,h=t.name,p=a.value,v=p&&p.components[h];if(!v)return K0(r.default,{Component:v,route:c});const d=p.props[h],y=d?d===!0?c.params:typeof d=="function"?d(c):d:null,S=Wd(v,It({},y,e,{onVnodeUnmounted:_=>{_.component.isUnmounted&&(p.instances[h]=null)},ref:l}));return K0(r.default,{Component:S,route:c})||S}}});function K0(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const w_=y_;function b_(t){const e=l_(t.routes,t),r=t.parseQuery||zb,n=t.stringifyQuery||D0,s=t.history,i=ul(),o=ul(),a=ul(),l=_y(Li);let c=Li;la&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Qh.bind(null,$=>""+$),p=Qh.bind(null,kb),v=Qh.bind(null,Il);function d($,ee){let Q,fe;return v5($)?(Q=e.getRecordMatcher($),fe=ee):fe=$,e.addRoute(fe,Q)}function y($){const ee=e.getRecordMatcher($);ee&&e.removeRoute(ee)}function w(){return e.getRoutes().map($=>$.record)}function S($){return!!e.getRecordMatcher($)}function _($,ee){if(ee=It({},ee||l.value),typeof $=="string"){const Y=ef(r,$,ee.path),E=e.resolve({path:Y.path},ee),le=s.createHref(Y.fullPath);return It(Y,E,{params:v(E.params),hash:Il(Y.hash),redirectedFrom:void 0,href:le})}let Q;if($.path!=null)Q=It({},$,{path:ef(r,$.path,ee.path).path});else{const Y=It({},$.params);for(const E in Y)Y[E]==null&&delete Y[E];Q=It({},$,{params:p(Y)}),ee.params=p(ee.params)}const fe=e.resolve(Q,ee),Ae=$.hash||"";fe.params=h(v(fe.params));const F=Ob(n,It({},$,{hash:xb(Ae),path:fe.path})),B=s.createHref(F);return It({fullPath:F,hash:Ae,query:n===D0?Wb($.query):$.query||{}},fe,{redirectedFrom:void 0,href:B})}function j($){return typeof $=="string"?ef(r,$,l.value.path):It({},$)}function T($,ee){if(c!==$)return Pa(ir.NAVIGATION_CANCELLED,{from:ee,to:$})}function R($){return ie($)}function K($){return R(It(j($),{replace:!0}))}function se($,ee){const Q=$.matched[$.matched.length-1];if(Q&&Q.redirect){const{redirect:fe}=Q;let Ae=typeof fe=="function"?fe($,ee):fe;return typeof Ae=="string"&&(Ae=Ae.includes("?")||Ae.includes("#")?Ae=j(Ae):{path:Ae},Ae.params={}),It({query:$.query,hash:$.hash,params:Ae.path!=null?{}:$.params},Ae)}}function ie($,ee){const Q=c=_($),fe=l.value,Ae=$.state,F=$.force,B=$.replace===!0,Y=se(Q,fe);if(Y)return ie(It(j(Y),{state:typeof Y=="object"?It({},Ae,Y.state):Ae,force:F,replace:B}),ee||Q);const E=Q;E.redirectedFrom=ee;let le;return!F&&Tb(n,fe,Q)&&(le=Pa(ir.NAVIGATION_DUPLICATED,{to:E,from:fe}),_e(fe,fe,!0,!1)),(le?Promise.resolve(le):G(E,fe)).catch(ye=>ei(ye)?ei(ye,ir.NAVIGATION_GUARD_REDIRECT)?ye:Ce(ye):re(ye,E,fe)).then(ye=>{if(ye){if(ei(ye,ir.NAVIGATION_GUARD_REDIRECT))return ie(It({replace:B},j(ye.to),{state:typeof ye.to=="object"?It({},Ae,ye.to.state):Ae,force:F}),ee||E)}else ye=O(E,fe,!0,B,Ae);return L(E,fe,ye),ye})}function J($,ee){const Q=T($,ee);return Q?Promise.reject(Q):Promise.resolve()}function C($){const ee=V.values().next().value;return ee&&typeof ee.runWithContext=="function"?ee.runWithContext($):$()}function G($,ee){let Q;const[fe,Ae,F]=Gb($,ee);Q=rf(fe.reverse(),"beforeRouteLeave",$,ee);for(const Y of fe)Y.leaveGuards.forEach(E=>{Q.push(Ii(E,$,ee))});const B=J.bind(null,$,ee);return Q.push(B),ne(Q).then(()=>{Q=[];for(const Y of i.list())Q.push(Ii(Y,$,ee));return Q.push(B),ne(Q)}).then(()=>{Q=rf(Ae,"beforeRouteUpdate",$,ee);for(const Y of Ae)Y.updateGuards.forEach(E=>{Q.push(Ii(E,$,ee))});return Q.push(B),ne(Q)}).then(()=>{Q=[];for(const Y of F)if(Y.beforeEnter)if(ls(Y.beforeEnter))for(const E of Y.beforeEnter)Q.push(Ii(E,$,ee));else Q.push(Ii(Y.beforeEnter,$,ee));return Q.push(B),ne(Q)}).then(()=>($.matched.forEach(Y=>Y.enterCallbacks={}),Q=rf(F,"beforeRouteEnter",$,ee,C),Q.push(B),ne(Q))).then(()=>{Q=[];for(const Y of o.list())Q.push(Ii(Y,$,ee));return Q.push(B),ne(Q)}).catch(Y=>ei(Y,ir.NAVIGATION_CANCELLED)?Y:Promise.reject(Y))}function L($,ee,Q){a.list().forEach(fe=>C(()=>fe($,ee,Q)))}function O($,ee,Q,fe,Ae){const F=T($,ee);if(F)return F;const B=ee===Li,Y=la?history.state:{};Q&&(fe||B?s.replace($.fullPath,It({scroll:B&&Y&&Y.scroll},Ae)):s.push($.fullPath,Ae)),l.value=$,_e($,ee,Q,B),Ce()}let z;function W(){z||(z=s.listen(($,ee,Q)=>{if(!Z.listening)return;const fe=_($),Ae=se(fe,Z.currentRoute.value);if(Ae){ie(It(Ae,{replace:!0,force:!0}),fe).catch(Sl);return}c=fe;const F=l.value;la&&Ub(F0(F.fullPath,Q.delta),Xu()),G(fe,F).catch(B=>ei(B,ir.NAVIGATION_ABORTED|ir.NAVIGATION_CANCELLED)?B:ei(B,ir.NAVIGATION_GUARD_REDIRECT)?(ie(It(j(B.to),{force:!0}),fe).then(Y=>{ei(Y,ir.NAVIGATION_ABORTED|ir.NAVIGATION_DUPLICATED)&&!Q.delta&&Q.type===Qf.pop&&s.go(-1,!1)}).catch(Sl),Promise.reject()):(Q.delta&&s.go(-Q.delta,!1),re(B,fe,F))).then(B=>{B=B||O(fe,F,!1),B&&(Q.delta&&!ei(B,ir.NAVIGATION_CANCELLED)?s.go(-Q.delta,!1):Q.type===Qf.pop&&ei(B,ir.NAVIGATION_ABORTED|ir.NAVIGATION_DUPLICATED)&&s.go(-1,!1)),L(fe,F,B)}).catch(Sl)}))}let pe=ul(),ue=ul(),ae;function re($,ee,Q){Ce($);const fe=ue.list();return fe.length?fe.forEach(Ae=>Ae($,ee,Q)):console.error($),Promise.reject($)}function we(){return ae&&l.value!==Li?Promise.resolve():new Promise(($,ee)=>{pe.add([$,ee])})}function Ce($){return ae||(ae=!$,W(),pe.list().forEach(([ee,Q])=>$?Q($):ee()),pe.reset()),$}function _e($,ee,Q,fe){const{scrollBehavior:Ae}=t;if(!la||!Ae)return Promise.resolve();const F=!Q&&Mb(F0($.fullPath,0))||(fe||!Q)&&history.state&&history.state.scroll||null;return qd().then(()=>Ae($,ee,F)).then(B=>B&&Bb(B)).catch(B=>re(B,$,ee))}const N=$=>s.go($);let U;const V=new Set,Z={currentRoute:l,listening:!0,addRoute:d,removeRoute:y,clearRoutes:e.clearRoutes,hasRoute:S,getRoutes:w,resolve:_,options:t,push:R,replace:K,go:N,back:()=>N(-1),forward:()=>N(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ue.add,isReady:we,install($){$.component("RouterLink",g_),$.component("RouterView",w_),$.config.globalProperties.$router=Z,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>Ls(l)}),la&&!U&&l.value===Li&&(U=!0,R(s.location).catch(fe=>{}));const ee={};for(const fe in Li)Object.defineProperty(ee,fe,{get:()=>l.value[fe],enumerable:!0});$.provide(Gd,Z),$.provide(Kd,b2(ee)),$.provide(td,l);const Q=$.unmount;V.add($),$.unmount=function(){V.delete($),V.size<1&&(c=Li,z&&z(),z=null,l.value=Li,U=!1,ae=!1),Q()}}};function ne($){return $.reduce((ee,Q)=>ee.then(()=>C(Q)),Promise.resolve())}return Z}function S5(t){return Ts(Kd)}function A5(t,e){return function(){return t.apply(e,arguments)}}const{toString:__}=Object.prototype,{getPrototypeOf:Jd}=Object,{iterator:Zu,toStringTag:x5}=Symbol,Qu=(t=>e=>{const r=__.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),us=t=>(t=t.toLowerCase(),e=>Qu(e)===t),eh=t=>e=>typeof e===t,{isArray:Ta}=Array,Oa=eh("undefined");function Vl(t){return t!==null&&!Oa(t)&&t.constructor!==null&&!Oa(t.constructor)&&dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const E5=us("ArrayBuffer");function S_(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&E5(t.buffer),e}const A_=eh("string"),dn=eh("function"),N5=eh("number"),Gl=t=>t!==null&&typeof t=="object",x_=t=>t===!0||t===!1,cu=t=>{if(Qu(t)!=="object")return!1;const e=Jd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(x5 in t)&&!(Zu in t)},E_=t=>{if(!Gl(t)||Vl(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},N_=us("Date"),k_=us("File"),L_=us("Blob"),P_=us("FileList"),O_=t=>Gl(t)&&dn(t.pipe),T_=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||dn(t.append)&&((e=Qu(t))==="formdata"||e==="object"&&dn(t.toString)&&t.toString()==="[object FormData]"))},R_=us("URLSearchParams"),[C_,I_,j_,F_]=["ReadableStream","Request","Response","Headers"].map(us),D_=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Kl(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,s;if(typeof t!="object"&&(t=[t]),Ta(t))for(n=0,s=t.length;n<s;n++)e.call(null,t[n],n,t);else{if(Vl(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(n=0;n<o;n++)a=i[n],e.call(null,t[a],a,t)}}function k5(t,e){if(Vl(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,s;for(;n-- >0;)if(s=r[n],e===s.toLowerCase())return s;return null}const No=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,L5=t=>!Oa(t)&&t!==No;function rd(){const{caseless:t,skipUndefined:e}=L5(this)&&this||{},r={},n=(s,i)=>{const o=t&&k5(r,i)||i;cu(r[o])&&cu(s)?r[o]=rd(r[o],s):cu(s)?r[o]=rd({},s):Ta(s)?r[o]=s.slice():(!e||!Oa(s))&&(r[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Kl(arguments[s],n);return r}const B_=(t,e,r,{allOwnKeys:n}={})=>(Kl(e,(s,i)=>{r&&dn(s)?t[i]=A5(s,r):t[i]=s},{allOwnKeys:n}),t),U_=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),M_=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},q_=(t,e,r,n)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&Jd(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},$_=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},H_=t=>{if(!t)return null;if(Ta(t))return t;let e=t.length;if(!N5(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},z_=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Jd(Uint8Array)),W_=(t,e)=>{const n=(t&&t[Zu]).call(t);let s;for(;(s=n.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},V_=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},G_=us("HTMLFormElement"),K_=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,s){return n.toUpperCase()+s}),J0=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),J_=us("RegExp"),P5=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Kl(r,(s,i)=>{let o;(o=e(s,i,t))!==!1&&(n[i]=o||s)}),Object.defineProperties(t,n)},Y_=t=>{P5(t,(e,r)=>{if(dn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(dn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},X_=(t,e)=>{const r={},n=s=>{s.forEach(i=>{r[i]=!0})};return Ta(t)?n(t):n(String(t).split(e)),r},Z_=()=>{},Q_=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function e3(t){return!!(t&&dn(t.append)&&t[x5]==="FormData"&&t[Zu])}const t3=t=>{const e=new Array(10),r=(n,s)=>{if(Gl(n)){if(e.indexOf(n)>=0)return;if(Vl(n))return n;if(!("toJSON"in n)){e[s]=n;const i=Ta(n)?[]:{};return Kl(n,(o,a)=>{const l=r(o,s+1);!Oa(l)&&(i[a]=l)}),e[s]=void 0,i}}return n};return r(t,0)},r3=us("AsyncFunction"),n3=t=>t&&(Gl(t)||dn(t))&&dn(t.then)&&dn(t.catch),O5=((t,e)=>t?setImmediate:e?((r,n)=>(No.addEventListener("message",({source:s,data:i})=>{s===No&&i===r&&n.length&&n.shift()()},!1),s=>{n.push(s),No.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dn(No.postMessage)),s3=typeof queueMicrotask<"u"?queueMicrotask.bind(No):typeof process<"u"&&process.nextTick||O5,i3=t=>t!=null&&dn(t[Zu]),be={isArray:Ta,isArrayBuffer:E5,isBuffer:Vl,isFormData:T_,isArrayBufferView:S_,isString:A_,isNumber:N5,isBoolean:x_,isObject:Gl,isPlainObject:cu,isEmptyObject:E_,isReadableStream:C_,isRequest:I_,isResponse:j_,isHeaders:F_,isUndefined:Oa,isDate:N_,isFile:k_,isBlob:L_,isRegExp:J_,isFunction:dn,isStream:O_,isURLSearchParams:R_,isTypedArray:z_,isFileList:P_,forEach:Kl,merge:rd,extend:B_,trim:D_,stripBOM:U_,inherits:M_,toFlatObject:q_,kindOf:Qu,kindOfTest:us,endsWith:$_,toArray:H_,forEachEntry:W_,matchAll:V_,isHTMLForm:G_,hasOwnProperty:J0,hasOwnProp:J0,reduceDescriptors:P5,freezeMethods:Y_,toObjectSet:X_,toCamelCase:K_,noop:Z_,toFiniteNumber:Q_,findKey:k5,global:No,isContextDefined:L5,isSpecCompliantForm:e3,toJSONObject:t3,isAsyncFn:r3,isThenable:n3,setImmediate:O5,asap:s3,isIterable:i3};function wt(t,e,r,n,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),s&&(this.response=s,this.status=s.status?s.status:null)}be.inherits(wt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.status}}});const T5=wt.prototype,R5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{R5[t]={value:t}});Object.defineProperties(wt,R5);Object.defineProperty(T5,"isAxiosError",{value:!0});wt.from=(t,e,r,n,s,i)=>{const o=Object.create(T5);be.toFlatObject(t,o,function(h){return h!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return wt.call(o,a,l,r,n,s),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",i&&Object.assign(o,i),o};const o3=null;function nd(t){return be.isPlainObject(t)||be.isArray(t)}function C5(t){return be.endsWith(t,"[]")?t.slice(0,-2):t}function Y0(t,e,r){return t?t.concat(e).map(function(s,i){return s=C5(s),!r&&i?"["+s+"]":s}).join(r?".":""):e}function a3(t){return be.isArray(t)&&!t.some(nd)}const l3=be.toFlatObject(be,{},null,function(e){return/^is[A-Z]/.test(e)});function th(t,e,r){if(!be.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=be.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,S){return!be.isUndefined(S[w])});const n=r.metaTokens,s=r.visitor||h,i=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&be.isSpecCompliantForm(e);if(!be.isFunction(s))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(be.isDate(y))return y.toISOString();if(be.isBoolean(y))return y.toString();if(!l&&be.isBlob(y))throw new wt("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(y)||be.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function h(y,w,S){let _=y;if(y&&!S&&typeof y=="object"){if(be.endsWith(w,"{}"))w=n?w:w.slice(0,-2),y=JSON.stringify(y);else if(be.isArray(y)&&a3(y)||(be.isFileList(y)||be.endsWith(w,"[]"))&&(_=be.toArray(y)))return w=C5(w),_.forEach(function(T,R){!(be.isUndefined(T)||T===null)&&e.append(o===!0?Y0([w],R,i):o===null?w:w+"[]",c(T))}),!1}return nd(y)?!0:(e.append(Y0(S,w,i),c(y)),!1)}const p=[],v=Object.assign(l3,{defaultVisitor:h,convertValue:c,isVisitable:nd});function d(y,w){if(!be.isUndefined(y)){if(p.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));p.push(y),be.forEach(y,function(_,j){(!(be.isUndefined(_)||_===null)&&s.call(e,_,be.isString(j)?j.trim():j,w,v))===!0&&d(_,w?w.concat(j):[j])}),p.pop()}}if(!be.isObject(t))throw new TypeError("data must be an object");return d(t),e}function X0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Yd(t,e){this._pairs=[],t&&th(t,this,e)}const I5=Yd.prototype;I5.append=function(e,r){this._pairs.push([e,r])};I5.toString=function(e){const r=e?function(n){return e.call(this,n,X0)}:X0;return this._pairs.map(function(s){return r(s[0])+"="+r(s[1])},"").join("&")};function c3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function j5(t,e,r){if(!e)return t;const n=r&&r.encode||c3;be.isFunction(r)&&(r={serialize:r});const s=r&&r.serialize;let i;if(s?i=s(e,r):i=be.isURLSearchParams(e)?e.toString():new Yd(e,r).toString(n),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class Z0{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,function(n){n!==null&&e(n)})}}const F5={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},u3=typeof URLSearchParams<"u"?URLSearchParams:Yd,h3=typeof FormData<"u"?FormData:null,f3=typeof Blob<"u"?Blob:null,d3={isBrowser:!0,classes:{URLSearchParams:u3,FormData:h3,Blob:f3},protocols:["http","https","file","blob","url","data"]},Xd=typeof window<"u"&&typeof document<"u",sd=typeof navigator=="object"&&navigator||void 0,p3=Xd&&(!sd||["ReactNative","NativeScript","NS"].indexOf(sd.product)<0),g3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",m3=Xd&&window.location.href||"http://localhost",v3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Xd,hasStandardBrowserEnv:p3,hasStandardBrowserWebWorkerEnv:g3,navigator:sd,origin:m3},Symbol.toStringTag,{value:"Module"})),Zr={...v3,...d3};function y3(t,e){return th(t,new Zr.classes.URLSearchParams,{visitor:function(r,n,s,i){return Zr.isNode&&be.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function w3(t){return be.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function b3(t){const e={},r=Object.keys(t);let n;const s=r.length;let i;for(n=0;n<s;n++)i=r[n],e[i]=t[i];return e}function D5(t){function e(r,n,s,i){let o=r[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=r.length;return o=!o&&be.isArray(s)?s.length:o,l?(be.hasOwnProp(s,o)?s[o]=[s[o],n]:s[o]=n,!a):((!s[o]||!be.isObject(s[o]))&&(s[o]=[]),e(r,n,s[o],i)&&be.isArray(s[o])&&(s[o]=b3(s[o])),!a)}if(be.isFormData(t)&&be.isFunction(t.entries)){const r={};return be.forEachEntry(t,(n,s)=>{e(w3(n),s,r,0)}),r}return null}function _3(t,e,r){if(be.isString(t))try{return(e||JSON.parse)(t),be.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Jl={transitional:F5,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",s=n.indexOf("application/json")>-1,i=be.isObject(e);if(i&&be.isHTMLForm(e)&&(e=new FormData(e)),be.isFormData(e))return s?JSON.stringify(D5(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e)||be.isReadableStream(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return y3(e,this.formSerializer).toString();if((a=be.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return th(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(r.setContentType("application/json",!1),_3(e)):e}],transformResponse:[function(e){const r=this.transitional||Jl.transitional,n=r&&r.forcedJSONParsing,s=this.responseType==="json";if(be.isResponse(e)||be.isReadableStream(e))return e;if(e&&be.isString(e)&&(n&&!this.responseType||s)){const o=!(r&&r.silentJSONParsing)&&s;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?wt.from(a,wt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zr.classes.FormData,Blob:Zr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],t=>{Jl.headers[t]={}});const S3=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),A3=t=>{const e={};let r,n,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),r=o.substring(0,s).trim().toLowerCase(),n=o.substring(s+1).trim(),!(!r||e[r]&&S3[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Q0=Symbol("internals");function hl(t){return t&&String(t).trim().toLowerCase()}function uu(t){return t===!1||t==null?t:be.isArray(t)?t.map(uu):String(t)}function x3(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const E3=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nf(t,e,r,n,s){if(be.isFunction(n))return n.call(this,e,r);if(s&&(e=r),!!be.isString(e)){if(be.isString(n))return e.indexOf(n)!==-1;if(be.isRegExp(n))return n.test(e)}}function N3(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function k3(t,e){const r=be.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(s,i,o){return this[n].call(this,e,s,i,o)},configurable:!0})})}let pn=class{constructor(e){e&&this.set(e)}set(e,r,n){const s=this;function i(a,l,c){const h=hl(l);if(!h)throw new Error("header name must be a non-empty string");const p=be.findKey(s,h);(!p||s[p]===void 0||c===!0||c===void 0&&s[p]!==!1)&&(s[p||l]=uu(a))}const o=(a,l)=>be.forEach(a,(c,h)=>i(c,h,l));if(be.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(be.isString(e)&&(e=e.trim())&&!E3(e))o(A3(e),r);else if(be.isObject(e)&&be.isIterable(e)){let a={},l,c;for(const h of e){if(!be.isArray(h))throw TypeError("Object iterator must return a key-value pair");a[c=h[0]]=(l=a[c])?be.isArray(l)?[...l,h[1]]:[l,h[1]]:h[1]}o(a,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=hl(e),e){const n=be.findKey(this,e);if(n){const s=this[n];if(!r)return s;if(r===!0)return x3(s);if(be.isFunction(r))return r.call(this,s,n);if(be.isRegExp(r))return r.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=hl(e),e){const n=be.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||nf(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let s=!1;function i(o){if(o=hl(o),o){const a=be.findKey(n,o);a&&(!r||nf(n,n[a],a,r))&&(delete n[a],s=!0)}}return be.isArray(e)?e.forEach(i):i(e),s}clear(e){const r=Object.keys(this);let n=r.length,s=!1;for(;n--;){const i=r[n];(!e||nf(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const r=this,n={};return be.forEach(this,(s,i)=>{const o=be.findKey(n,i);if(o){r[o]=uu(s),delete r[i];return}const a=e?N3(i):String(i).trim();a!==i&&delete r[i],r[a]=uu(s),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return be.forEach(this,(n,s)=>{n!=null&&n!==!1&&(r[s]=e&&be.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(s=>n.set(s)),n}static accessor(e){const n=(this[Q0]=this[Q0]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=hl(o);n[a]||(k3(s,o),n[a]=!0)}return be.isArray(e)?e.forEach(i):i(e),this}};pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);be.reduceDescriptors(pn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});be.freezeMethods(pn);function sf(t,e){const r=this||Jl,n=e||r,s=pn.from(n.headers);let i=n.data;return be.forEach(t,function(a){i=a.call(r,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function B5(t){return!!(t&&t.__CANCEL__)}function Ra(t,e,r){wt.call(this,t??"canceled",wt.ERR_CANCELED,e,r),this.name="CanceledError"}be.inherits(Ra,wt,{__CANCEL__:!0});function U5(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new wt("Request failed with status code "+r.status,[wt.ERR_BAD_REQUEST,wt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function L3(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function P3(t,e){t=t||10;const r=new Array(t),n=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),h=n[i];o||(o=c),r[s]=l,n[s]=c;let p=i,v=0;for(;p!==s;)v+=r[p++],p=p%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const d=h&&c-h;return d?Math.round(v*1e3/d):void 0}}function O3(t,e){let r=0,n=1e3/e,s,i;const o=(c,h=Date.now())=>{r=h,s=null,i&&(clearTimeout(i),i=null),t(...c)};return[(...c)=>{const h=Date.now(),p=h-r;p>=n?o(c,h):(s=c,i||(i=setTimeout(()=>{i=null,o(s)},n-p)))},()=>s&&o(s)]}const Lu=(t,e,r=3)=>{let n=0;const s=P3(50,250);return O3(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-n,c=s(l),h=o<=a;n=o;const p={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&h?(a-o)/c:void 0,event:i,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(p)},r)},e1=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},t1=t=>(...e)=>be.asap(()=>t(...e)),T3=Zr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Zr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Zr.origin),Zr.navigator&&/(msie|trident)/i.test(Zr.navigator.userAgent)):()=>!0,R3=Zr.hasStandardBrowserEnv?{write(t,e,r,n,s,i,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];be.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),be.isString(n)&&a.push(`path=${n}`),be.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),be.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function C3(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function I3(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function M5(t,e,r){let n=!C3(e);return t&&(n||r==!1)?I3(t,e):e}const r1=t=>t instanceof pn?{...t}:t;function Co(t,e){e=e||{};const r={};function n(c,h,p,v){return be.isPlainObject(c)&&be.isPlainObject(h)?be.merge.call({caseless:v},c,h):be.isPlainObject(h)?be.merge({},h):be.isArray(h)?h.slice():h}function s(c,h,p,v){if(be.isUndefined(h)){if(!be.isUndefined(c))return n(void 0,c,p,v)}else return n(c,h,p,v)}function i(c,h){if(!be.isUndefined(h))return n(void 0,h)}function o(c,h){if(be.isUndefined(h)){if(!be.isUndefined(c))return n(void 0,c)}else return n(void 0,h)}function a(c,h,p){if(p in e)return n(c,h);if(p in t)return n(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,h,p)=>s(r1(c),r1(h),p,!0)};return be.forEach(Object.keys({...t,...e}),function(h){const p=l[h]||s,v=p(t[h],e[h],h);be.isUndefined(v)&&p!==a||(r[h]=v)}),r}const q5=t=>{const e=Co({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=e;if(e.headers=o=pn.from(o),e.url=j5(M5(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),be.isFormData(r)){if(Zr.hasStandardBrowserEnv||Zr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(be.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([h,p])=>{c.includes(h.toLowerCase())&&o.set(h,p)})}}if(Zr.hasStandardBrowserEnv&&(n&&be.isFunction(n)&&(n=n(e)),n||n!==!1&&T3(e.url))){const l=s&&i&&R3.read(i);l&&o.set(s,l)}return e},j3=typeof XMLHttpRequest<"u",F3=j3&&function(t){return new Promise(function(r,n){const s=q5(t);let i=s.data;const o=pn.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=s,h,p,v,d,y;function w(){d&&d(),y&&y(),s.cancelToken&&s.cancelToken.unsubscribe(h),s.signal&&s.signal.removeEventListener("abort",h)}let S=new XMLHttpRequest;S.open(s.method.toUpperCase(),s.url,!0),S.timeout=s.timeout;function _(){if(!S)return;const T=pn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),K={data:!a||a==="text"||a==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:T,config:t,request:S};U5(function(ie){r(ie),w()},function(ie){n(ie),w()},K),S=null}"onloadend"in S?S.onloadend=_:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(_)},S.onabort=function(){S&&(n(new wt("Request aborted",wt.ECONNABORTED,t,S)),S=null)},S.onerror=function(R){const K=R&&R.message?R.message:"Network Error",se=new wt(K,wt.ERR_NETWORK,t,S);se.event=R||null,n(se),S=null},S.ontimeout=function(){let R=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const K=s.transitional||F5;s.timeoutErrorMessage&&(R=s.timeoutErrorMessage),n(new wt(R,K.clarifyTimeoutError?wt.ETIMEDOUT:wt.ECONNABORTED,t,S)),S=null},i===void 0&&o.setContentType(null),"setRequestHeader"in S&&be.forEach(o.toJSON(),function(R,K){S.setRequestHeader(K,R)}),be.isUndefined(s.withCredentials)||(S.withCredentials=!!s.withCredentials),a&&a!=="json"&&(S.responseType=s.responseType),c&&([v,y]=Lu(c,!0),S.addEventListener("progress",v)),l&&S.upload&&([p,d]=Lu(l),S.upload.addEventListener("progress",p),S.upload.addEventListener("loadend",d)),(s.cancelToken||s.signal)&&(h=T=>{S&&(n(!T||T.type?new Ra(null,t,S):T),S.abort(),S=null)},s.cancelToken&&s.cancelToken.subscribe(h),s.signal&&(s.signal.aborted?h():s.signal.addEventListener("abort",h)));const j=L3(s.url);if(j&&Zr.protocols.indexOf(j)===-1){n(new wt("Unsupported protocol "+j+":",wt.ERR_BAD_REQUEST,t));return}S.send(i||null)})},D3=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,s;const i=function(c){if(!s){s=!0,a();const h=c instanceof Error?c:this.reason;n.abort(h instanceof wt?h:new Ra(h instanceof Error?h.message:h))}};let o=e&&setTimeout(()=>{o=null,i(new wt(`timeout ${e} of ms exceeded`,wt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(i):c.removeEventListener("abort",i)}),t=null)};t.forEach(c=>c.addEventListener("abort",i));const{signal:l}=n;return l.unsubscribe=()=>be.asap(a),l}},B3=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,s;for(;n<r;)s=n+e,yield t.slice(n,s),n=s},U3=async function*(t,e){for await(const r of M3(t))yield*B3(r,e)},M3=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},n1=(t,e,r,n)=>{const s=U3(t,e);let i=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:h}=await s.next();if(c){a(),l.close();return}let p=h.byteLength;if(r){let v=i+=p;r(v)}l.enqueue(new Uint8Array(h))}catch(c){throw a(c),c}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},s1=64*1024,{isFunction:$c}=be,q3=(({Request:t,Response:e})=>({Request:t,Response:e}))(be.global),{ReadableStream:i1,TextEncoder:o1}=be.global,a1=(t,...e)=>{try{return!!t(...e)}catch{return!1}},$3=t=>{t=be.merge.call({skipUndefined:!0},q3,t);const{fetch:e,Request:r,Response:n}=t,s=e?$c(e):typeof fetch=="function",i=$c(r),o=$c(n);if(!s)return!1;const a=s&&$c(i1),l=s&&(typeof o1=="function"?(y=>w=>y.encode(w))(new o1):async y=>new Uint8Array(await new r(y).arrayBuffer())),c=i&&a&&a1(()=>{let y=!1;const w=new r(Zr.origin,{body:new i1,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),h=o&&a&&a1(()=>be.isReadableStream(new n("").body)),p={stream:h&&(y=>y.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!p[y]&&(p[y]=(w,S)=>{let _=w&&w[y];if(_)return _.call(w);throw new wt(`Response type '${y}' is not supported`,wt.ERR_NOT_SUPPORT,S)})});const v=async y=>{if(y==null)return 0;if(be.isBlob(y))return y.size;if(be.isSpecCompliantForm(y))return(await new r(Zr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(be.isArrayBufferView(y)||be.isArrayBuffer(y))return y.byteLength;if(be.isURLSearchParams(y)&&(y=y+""),be.isString(y))return(await l(y)).byteLength},d=async(y,w)=>{const S=be.toFiniteNumber(y.getContentLength());return S??v(w)};return async y=>{let{url:w,method:S,data:_,signal:j,cancelToken:T,timeout:R,onDownloadProgress:K,onUploadProgress:se,responseType:ie,headers:J,withCredentials:C="same-origin",fetchOptions:G}=q5(y),L=e||fetch;ie=ie?(ie+"").toLowerCase():"text";let O=D3([j,T&&T.toAbortSignal()],R),z=null;const W=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let pe;try{if(se&&c&&S!=="get"&&S!=="head"&&(pe=await d(J,_))!==0){let _e=new r(w,{method:"POST",body:_,duplex:"half"}),N;if(be.isFormData(_)&&(N=_e.headers.get("content-type"))&&J.setContentType(N),_e.body){const[U,V]=e1(pe,Lu(t1(se)));_=n1(_e.body,s1,U,V)}}be.isString(C)||(C=C?"include":"omit");const ue=i&&"credentials"in r.prototype,ae={...G,signal:O,method:S.toUpperCase(),headers:J.normalize().toJSON(),body:_,duplex:"half",credentials:ue?C:void 0};z=i&&new r(w,ae);let re=await(i?L(z,G):L(w,ae));const we=h&&(ie==="stream"||ie==="response");if(h&&(K||we&&W)){const _e={};["status","statusText","headers"].forEach(Z=>{_e[Z]=re[Z]});const N=be.toFiniteNumber(re.headers.get("content-length")),[U,V]=K&&e1(N,Lu(t1(K),!0))||[];re=new n(n1(re.body,s1,U,()=>{V&&V(),W&&W()}),_e)}ie=ie||"text";let Ce=await p[be.findKey(p,ie)||"text"](re,y);return!we&&W&&W(),await new Promise((_e,N)=>{U5(_e,N,{data:Ce,headers:pn.from(re.headers),status:re.status,statusText:re.statusText,config:y,request:z})})}catch(ue){throw W&&W(),ue&&ue.name==="TypeError"&&/Load failed|fetch/i.test(ue.message)?Object.assign(new wt("Network Error",wt.ERR_NETWORK,y,z),{cause:ue.cause||ue}):wt.from(ue,ue&&ue.code,y,z)}}},H3=new Map,$5=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:s}=e,i=[n,s,r];let o=i.length,a=o,l,c,h=H3;for(;a--;)l=i[a],c=h.get(l),c===void 0&&h.set(l,c=a?new Map:$3(e)),h=c;return c};$5();const Zd={http:o3,xhr:F3,fetch:{get:$5}};be.forEach(Zd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const l1=t=>`- ${t}`,z3=t=>be.isFunction(t)||t===null||t===!1;function W3(t,e){t=be.isArray(t)?t:[t];const{length:r}=t;let n,s;const i={};for(let o=0;o<r;o++){n=t[o];let a;if(s=n,!z3(n)&&(s=Zd[(a=String(n)).toLowerCase()],s===void 0))throw new wt(`Unknown adapter '${a}'`);if(s&&(be.isFunction(s)||(s=s.get(e))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(l1).join(`
`):" "+l1(o[0]):"as no adapter specified";throw new wt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const H5={getAdapter:W3,adapters:Zd};function of(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ra(null,t)}function c1(t){return of(t),t.headers=pn.from(t.headers),t.data=sf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),H5.getAdapter(t.adapter||Jl.adapter,t)(t).then(function(n){return of(t),n.data=sf.call(t,t.transformResponse,n),n.headers=pn.from(n.headers),n},function(n){return B5(n)||(of(t),n&&n.response&&(n.response.data=sf.call(t,t.transformResponse,n.response),n.response.headers=pn.from(n.response.headers))),Promise.reject(n)})}const z5="1.13.2",rh={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rh[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const u1={};rh.transitional=function(e,r,n){function s(i,o){return"[Axios v"+z5+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,a)=>{if(e===!1)throw new wt(s(o," has been removed"+(r?" in "+r:"")),wt.ERR_DEPRECATED);return r&&!u1[o]&&(u1[o]=!0,console.warn(s(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,a):!0}};rh.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function V3(t,e,r){if(typeof t!="object")throw new wt("options must be an object",wt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let s=n.length;for(;s-- >0;){const i=n[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new wt("option "+i+" must be "+l,wt.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new wt("Unknown option "+i,wt.ERR_BAD_OPTION)}}const hu={assertOptions:V3,validators:rh},As=hu.validators;let Po=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Z0,response:new Z0}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Co(this.defaults,r);const{transitional:n,paramsSerializer:s,headers:i}=r;n!==void 0&&hu.assertOptions(n,{silentJSONParsing:As.transitional(As.boolean),forcedJSONParsing:As.transitional(As.boolean),clarifyTimeoutError:As.transitional(As.boolean)},!1),s!=null&&(be.isFunction(s)?r.paramsSerializer={serialize:s}:hu.assertOptions(s,{encode:As.function,serialize:As.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),hu.assertOptions(r,{baseUrl:As.spelling("baseURL"),withXsrfToken:As.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&be.merge(i.common,i[r.method]);i&&be.forEach(["delete","get","head","post","put","patch","common"],y=>{delete i[y]}),r.headers=pn.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(r)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let h,p=0,v;if(!l){const y=[c1.bind(this),void 0];for(y.unshift(...a),y.push(...c),v=y.length,h=Promise.resolve(r);p<v;)h=h.then(y[p++],y[p++]);return h}v=a.length;let d=r;for(;p<v;){const y=a[p++],w=a[p++];try{d=y(d)}catch(S){w.call(this,S);break}}try{h=c1.call(this,d)}catch(y){return Promise.reject(y)}for(p=0,v=c.length;p<v;)h=h.then(c[p++],c[p++]);return h}getUri(e){e=Co(this.defaults,e);const r=M5(e.baseURL,e.url,e.allowAbsoluteUrls);return j5(r,e.params,e.paramsSerializer)}};be.forEach(["delete","get","head","options"],function(e){Po.prototype[e]=function(r,n){return this.request(Co(n||{},{method:e,url:r,data:(n||{}).data}))}});be.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,a){return this.request(Co(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Po.prototype[e]=r(),Po.prototype[e+"Form"]=r(!0)});let G3=class W5{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(s=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](s);n._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{n.subscribe(a),i=a}).then(s);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,a){n.reason||(n.reason=new Ra(i,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new W5(function(s){e=s}),cancel:e}}};function K3(t){return function(r){return t.apply(null,r)}}function J3(t){return be.isObject(t)&&t.isAxiosError===!0}const id={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(id).forEach(([t,e])=>{id[e]=t});function V5(t){const e=new Po(t),r=A5(Po.prototype.request,e);return be.extend(r,Po.prototype,e,{allOwnKeys:!0}),be.extend(r,e,null,{allOwnKeys:!0}),r.create=function(s){return V5(Co(t,s))},r}const mr=V5(Jl);mr.Axios=Po;mr.CanceledError=Ra;mr.CancelToken=G3;mr.isCancel=B5;mr.VERSION=z5;mr.toFormData=th;mr.AxiosError=wt;mr.Cancel=mr.CanceledError;mr.all=function(e){return Promise.all(e)};mr.spread=K3;mr.isAxiosError=J3;mr.mergeConfig=Co;mr.AxiosHeaders=pn;mr.formToJSON=t=>D5(be.isHTMLForm(t)?new FormData(t):t);mr.getAdapter=H5.getAdapter;mr.HttpStatusCode=id;mr.default=mr;const{Axios:pN,AxiosError:gN,CanceledError:mN,isCancel:vN,CancelToken:yN,VERSION:wN,all:bN,Cancel:_N,isAxiosError:SN,spread:AN,toFormData:xN,AxiosHeaders:EN,HttpStatusCode:NN,formToJSON:kN,getAdapter:LN,mergeConfig:PN}=mr;var Yg,Xg;const Yl=((Xg=(Yg=import.meta)==null?void 0:Yg.env)==null?void 0:Xg.VITE_PROXY_BASE)||"https://summonersheet-proxy.summonersheet-connor050.workers.dev",Xl=mr.create({baseURL:Yl}),Y3={EUW1:"euw1"},Zl=Y3.EUW1,od=async(t,e,r=Zl)=>{try{return(await Xl.get("/api/account/by-riot-id",{params:{name:t,tag:e,region:r}})).data}catch(n){throw console.error("Error fetching summoner data:",n.message),n}},X3=async(t,e=Zl)=>{try{return(await Xl.get("/api/lol/champion-mastery/by-puuid",{params:{puuid:t,region:e}})).data}catch(r){throw console.error("Error fetching champion mastery data:",r.message),r}},Z3=async(t,e=Zl)=>{try{return(await Xl.get("/api/lol/league/by-puuid",{params:{puuid:t,region:e}})).data}catch(r){throw console.error("Error fetching player details:",r.message),r}};function nh(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Q3(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(h){try{c(n.next(h))}catch(p){o(p)}}function l(h){try{c(n.throw(h))}catch(p){o(p)}}function c(h){h.done?i(h.value):s(h.value).then(a,l)}c((n=n.apply(t,e||[])).next())})}const e4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Qd extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class t4 extends Qd{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class h1 extends Qd{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class f1 extends Qd{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ad;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ad||(ad={}));class r4{constructor(e,{headers:r={},customFetch:n,region:s=ad.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=e4(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Q3(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:c,signal:h,timeout:p}=n;let v={},{region:d}=n;d||(d=this.region);const y=new URL(`${this.url}/${r}`);d&&d!=="any"&&(v["x-region"]=d,y.searchParams.set("forceFunctionRegion",d));let w;c&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",w=c):typeof c=="string"?(v["Content-Type"]="text/plain",w=c):typeof FormData<"u"&&c instanceof FormData?w=c:(v["Content-Type"]="application/json",w=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?w=JSON.stringify(c):w=c;let S=h;p&&(o=new AbortController,i=setTimeout(()=>o.abort(),p),h?(S=o.signal,h.addEventListener("abort",()=>o.abort())):S=o.signal);const _=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),a),body:w,signal:S}).catch(K=>{throw new t4(K)}),j=_.headers.get("x-relay-error");if(j&&j==="true")throw new h1(_);if(!_.ok)throw new f1(_);let T=((s=_.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),R;return T==="application/json"?R=yield _.json():T==="application/octet-stream"||T==="application/pdf"?R=yield _.blob():T==="text/event-stream"?R=_:T==="multipart/form-data"?R=yield _.formData():R=yield _.text(),{data:R,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof f1||a instanceof h1?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var n4=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},s4=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let o=null,a=null,l=null,c=i.status,h=i.statusText;if(i.ok){var p,v;if(r.method!=="HEAD"){var d;const _=await i.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((d=r.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?a=_:a=JSON.parse(_))}const w=(p=r.headers.get("Prefer"))===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),S=(v=i.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");w&&S&&S.length>1&&(l=parseInt(S[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,c=406,h="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var y;const w=await i.text();try{o=JSON.parse(w),Array.isArray(o)&&i.status===404&&(a=[],o=null,c=200,h="OK")}catch{i.status===404&&w===""?(c=204,h="No Content"):o={message:w}}if(o&&r.isMaybeSingle&&(!(o==null||(y=o.details)===null||y===void 0)&&y.includes("0 rows"))&&(o=null,c=200,h="OK"),o&&r.shouldThrowOnError)throw new n4(o)}return{error:o,data:a,count:l,status:c,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var o;let a="";const l=i==null?void 0:i.cause;if(l){var c,h,p,v;const y=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",w=(h=l==null?void 0:l.code)!==null&&h!==void 0?h:"";a=`${(p=i==null?void 0:i.name)!==null&&p!==void 0?p:"FetchError"}: ${i==null?void 0:i.message}`,a+=`

Caused by: ${(v=l==null?void 0:l.name)!==null&&v!==void 0?v:"Error"}: ${y}`,w&&(a+=` (${w})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var d;a=(d=i==null?void 0:i.stack)!==null&&d!==void 0?d:""}return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(t,e)}returns(){return this}overrideTypes(){return this}},i4=class extends s4{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const d1=new RegExp("[,()]");var ca=class extends i4{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&d1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&d1.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${i}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},o4=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",o),n&&l.append("Prefer",`count=${n}`),new ca({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);i.searchParams.set("columns",l.join(","))}}return new ca({method:s,url:i,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const o="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(c.length>0){const h=[...new Set(c)].map(p=>`"${p}"`);a.searchParams.set("columns",h.join(","))}}return new ca({method:o,url:a,headers:l,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new ca({method:n,url:s,headers:i,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new ca({method:r,url:n,headers:s,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},a4=class G5{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new o4(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new G5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;const h=d=>d!==null&&typeof d=="object"&&(!Array.isArray(d)||d.some(h)),p=n&&Object.values(r).some(h);p?(a="POST",c=r):n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,y])=>y!==void 0).map(([d,y])=>[d,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([d,y])=>{l.searchParams.append(d,y)})):(a="POST",c=r);const v=new Headers(this.headers);return p?v.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&v.set("Prefer",`count=${i}`),new ca({method:a,url:l,headers:v,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class l4{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const c4="2.90.1",u4=`realtime-js/${c4}`,K5="1.0.0",h4="2.0.0",p1=K5,ld=1e4,f4=1e3,d4=100;var ji;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ji||(ji={}));var Lr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Lr||(Lr={}));var ss;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ss||(ss={}));var cd;(function(t){t.websocket="websocket"})(cd||(cd={}));var So;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(So||(So={}));class p4{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,a=(s=e.ref)!==null&&s!==void 0?s:"",l=(i=e.join_ref)!==null&&i!==void 0?i:"",c=e.payload.event,h=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},p=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`metadata length ${p.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+o.length+c.length+p.length,d=new ArrayBuffer(this.HEADER_LENGTH+v);let y=new DataView(d),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,a.length),y.setUint8(w++,o.length),y.setUint8(w++,c.length),y.setUint8(w++,p.length),y.setUint8(w++,r),Array.from(l,_=>y.setUint8(w++,_.charCodeAt(0))),Array.from(a,_=>y.setUint8(w++,_.charCodeAt(0))),Array.from(o,_=>y.setUint8(w++,_.charCodeAt(0))),Array.from(c,_=>y.setUint8(w++,_.charCodeAt(0))),Array.from(p,_=>y.setUint8(w++,_.charCodeAt(0)));var S=new Uint8Array(d.byteLength+n.byteLength);return S.set(new Uint8Array(d),0),S.set(new Uint8Array(n),d.byteLength),S.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const c=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+i));l=l+i;const p=n.decode(e.slice(l,l+o));l=l+o;const v=e.slice(l,e.byteLength),d=a===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,y={type:this.BROADCAST_EVENT,event:h,payload:d};return o>0&&(y.meta=JSON.parse(p)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class J5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Kt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Kt||(Kt={}));const g1=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=g4(o,t,e,s),i),{}):{}},g4=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Y5(i,o):ud(o)},Y5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return w4(e,r)}switch(t){case Kt.bool:return m4(e);case Kt.float4:case Kt.float8:case Kt.int2:case Kt.int4:case Kt.int8:case Kt.numeric:case Kt.oid:return v4(e);case Kt.json:case Kt.jsonb:return y4(e);case Kt.timestamp:return b4(e);case Kt.abstime:case Kt.date:case Kt.daterange:case Kt.int4range:case Kt.int8range:case Kt.money:case Kt.reltime:case Kt.text:case Kt.time:case Kt.timestamptz:case Kt.timetz:case Kt.tsrange:case Kt.tstzrange:return ud(e);default:return ud(e)}},ud=t=>t,m4=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},v4=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},y4=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},w4=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Y5(e,a))}return t},b4=t=>typeof t=="string"?t.replace(" ","T"):t,X5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class af{constructor(e,r,n={},s=ld){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var m1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(m1||(m1={}));class Al{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Al.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Al.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Al.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,h)=>{o[c]||(l[c]=h)}),this.map(o,(c,h)=>{const p=i[c];if(p){const v=h.map(S=>S.presence_ref),d=p.map(S=>S.presence_ref),y=h.filter(S=>d.indexOf(S.presence_ref)<0),w=p.filter(S=>v.indexOf(S.presence_ref)<0);y.length>0&&(a[c]=y),w.length>0&&(l[c]=w)}else a[c]=h}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const h=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),h.length>0){const p=e[a].map(d=>d.presence_ref),v=h.filter(d=>p.indexOf(d.presence_ref)<0);e[a].unshift(...v)}n(a,h,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const h=l.map(p=>p.presence_ref);c=c.filter(p=>h.indexOf(p.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var v1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(v1||(v1={}));var xl;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(xl||(xl={}));var si;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(si||(si={}));class pa{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Lr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new af(this,ss.join,this.params,this.timeout),this.rejoinTimer=new J5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Lr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Lr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Lr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ss.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Al(this),this.broadcastEndpointURL=X5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Lr.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[xl.PRESENCE]&&this.bindings[xl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,p={},v={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:h}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(d=>e==null?void 0:e(si.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(si.CLOSED)),this.updateJoinPayload(Object.assign({config:v},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){e==null||e(si.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,S=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,_=[];for(let j=0;j<S;j++){const T=w[j],{filter:{event:R,schema:K,table:se,filter:ie}}=T,J=d&&d[j];if(J&&J.event===R&&pa.isFilterValueEqual(J.schema,K)&&pa.isFilterValueEqual(J.table,se)&&pa.isFilterValueEqual(J.filter,ie))_.push(Object.assign(Object.assign({},T),{id:J.id}));else{this.unsubscribe(),this.state=Lr.errored,e==null||e(si.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(si.SUBSCRIBED);return}}).receive("error",d=>{this.state=Lr.errored,e==null||e(si.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(si.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Lr.joined&&e===xl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const c=await a.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Lr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ss.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new af(this,ss.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Lr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new af(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>d4){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:h}=ss;if(n&&[a,l,c,h].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(d=>{var y,w,S;return((y=d.filter)===null||y===void 0?void 0:y.event)==="*"||((S=(w=d.filter)===null||w===void 0?void 0:w.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(d=>d.callback(v,n)):(i=this.bindings[o])===null||i===void 0||i.filter(d=>{var y,w,S,_,j,T,R,K;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in d){const se=d.id,ie=(y=d.filter)===null||y===void 0?void 0:y.event;return se&&((w=r.ids)===null||w===void 0?void 0:w.includes(se))&&(ie==="*"||(ie==null?void 0:ie.toLocaleLowerCase())===((S=r.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))&&(!(!((_=d.filter)===null||_===void 0)&&_.table)||d.filter.table===((j=r.data)===null||j===void 0?void 0:j.table))}else{const se=(R=(T=d==null?void 0:d.filter)===null||T===void 0?void 0:T.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return se==="*"||se===((K=r==null?void 0:r.event)===null||K===void 0?void 0:K.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===o}).map(d=>{if(typeof v=="object"&&"ids"in v){const y=v.data,{schema:w,table:S,commit_timestamp:_,type:j,errors:T}=y;v=Object.assign(Object.assign({},{schema:w,table:S,commit_timestamp:_,eventType:j,new:{},old:{},errors:T}),this._getPayloadRecords(y))}d.callback(v,n)})}_isClosed(){return this.state===Lr.closed}_isJoined(){return this.state===Lr.joined}_isJoining(){return this.state===Lr.joining}_isLeaving(){return this.state===Lr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&pa.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ss.close,{},e)}_onError(e){this._on(ss.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Lr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=g1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=g1(e.columns,e.old_record)),r}}const lf=()=>{},Hc={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_4=[1e3,2e3,5e3,1e4],S4=1e4,A4=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x4{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ld,this.transport=null,this.heartbeatIntervalMs=Hc.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lf,this.ref=0,this.reconnectTimer=null,this.vsn=p1,this.logger=lf,this.conn=null,this.sendBuffer=[],this.serializer=new p4,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${cd.websocket}`,this.httpEndpoint=X5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l4.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ji.connecting:return So.Connecting;case ji.open:return So.Open;case ji.closing:return So.Closing;default:return So.Closed}}isConnected(){return this.connectionState()===So.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new pa(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(f4,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Hc.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",c)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===ji.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ji.open||this.conn.readyState===ji.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ss.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([A4],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:u4};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(ss.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new J5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hc.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c,h,p,v,d;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:ld,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Hc.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:lf,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:p1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:y=>_4[y-1]||S4,this.vsn){case K5:this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(y,w)=>w(JSON.stringify(y)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:(y,w)=>w(JSON.parse(y));break;case h4:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var jl=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function E4(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function N4(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function k4(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const a=E4(t.baseUrl,n,s),l=await N4(t.auth),c=await e(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),h=await c.text(),p=(c.headers.get("content-type")||"").includes("application/json"),v=p&&h?JSON.parse(h):h;if(!c.ok){const d=p?v:void 0,y=d==null?void 0:d.error;throw new jl((y==null?void 0:y.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:d})}return{status:c.status,headers:c.headers,data:v}}}}function zc(t){return t.join("")}var L4=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:zc(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${zc(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${zc(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${zc(t.namespace)}`}),!0}catch(e){if(e instanceof jl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof jl&&r.status===409)return;throw r}}};function Zo(t){return t.join("")}var P4=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zo(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zo(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Zo(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Zo(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Zo(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Zo(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof jl&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof jl&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},O4=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=k4({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new L4(this.client,e),this.tableOps=new P4(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},sh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function tr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var T4=class extends sh{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hd=class extends sh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const ep=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),R4=()=>Response,fd=t=>{if(Array.isArray(t))return t.map(r=>fd(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=fd(n)}),e},C4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},I4=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Fl(t){"@babel/helpers - typeof";return Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fl(t)}function j4(t,e){if(Fl(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fl(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F4(t){var e=j4(t,"string");return Fl(e)=="symbol"?e:e+""}function D4(t,e,r){return(e=F4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ot(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?y1(Object(r),!0).forEach(function(n){D4(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const cf=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},B4=async(t,e,r)=>{t instanceof await R4()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const s=t.status||500,i=(n==null?void 0:n.statusCode)||s+"";e(new T4(cf(n),s,i))}).catch(n=>{e(new hd(cf(n),n))}):e(new hd(cf(t),t))},U4=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(C4(n)?(s.headers=ot({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),ot(ot({},s),r))};async function Ql(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,U4(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>B4(l,a,n))})}async function Dl(t,e,r,n){return Ql(t,"GET",e,r,n)}async function ns(t,e,r,n,s){return Ql(t,"POST",e,n,s,r)}async function dd(t,e,r,n,s){return Ql(t,"PUT",e,n,s,r)}async function M4(t,e,r,n){return Ql(t,"HEAD",e,ot(ot({},r),{},{noResolveJson:!0}),n)}async function tp(t,e,r,n,s){return Ql(t,"DELETE",e,n,s,r)}var q4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(tr(e))return{data:null,error:e};throw e}}};let Z5;Z5=Symbol.toStringTag;var $4=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Z5]="BlobDownloadBuilder",this.promise=null}asStream(){return new q4(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(tr(e))return{data:null,error:e};throw e}}};const H4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},w1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var z4=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=ep(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var s=this;try{let i;const o=ot(ot({},w1),n);let a=ot(ot({},s.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=ot(ot({},a),n.headers));const c=s._removeEmptyFolders(e),h=s._getFinalPath(c),p=await(t=="PUT"?dd:ns)(s.fetch,`${s.url}/object/${h}`,i,ot({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:p.Id,fullPath:p.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(tr(i))return{data:null,error:i};throw i}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var s=this;const i=s._removeEmptyFolders(t),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let l;const c=ot({upsert:w1.upsert},n),h=ot(ot({},s.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType),{data:{path:i,fullPath:(await dd(s.fetch,a.toString(),l,{headers:h})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(tr(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const s=ot({},r.headers);e!=null&&e.upsert&&(s["x-upsert"]="true");const i=await ns(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new sh("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await ns(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}}async copy(t,e,r){var n=this;try{return{data:{path:(await ns(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}}async createSignedUrl(t,e,r){var n=this;try{let s=n._getFinalPath(t),i=await ns(n.fetch,`${n.url}/object/sign/${s}`,ot({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}}async createSignedUrls(t,e,r){var n=this;try{const s=await ns(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>ot(ot({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(t),o=()=>Dl(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new $4(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:fd(await Dl(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await M4(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(tr(n)&&n instanceof hd){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],s=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&n.push(s);const i=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await tp(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const s=ot(ot(ot({},H4),e),{},{prefix:t||""});return{data:await ns(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(tr(s))return{data:null,error:s};throw s}}async listV2(t,e){var r=this;try{const n=ot({},t);return{data:await ns(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const Q5="2.90.1",em={"X-Client-Info":`storage-js/${Q5}`};var W4=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const s=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=ot(ot({},em),e),this.fetch=ep(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Dl(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Dl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await ns(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await dd(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(tr(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await ns(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await tp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},V4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ot(ot({},em),e),this.fetch=ep(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ns(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),s=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Dl(e.fetch,s,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await tp(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tr(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!I4(t))throw new sh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new O4({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const o=s[i];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(s,a),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const rp={"X-Client-Info":`storage-js/${Q5}`,"Content-Type":"application/json"};var tm=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function On(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var uf=class extends tm{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G4=class extends tm{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const np=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),K4=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b1=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),J4=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,s=t;if(typeof s.json=="function")s.json().then(i=>{const o=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";e(new uf(b1(i),n,o))}).catch(()=>{const i=n+"";e(new uf(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";e(new uf(s.statusText||`HTTP ${n} error`,n,i))}}else e(new G4(b1(t),t))},Y4=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(K4(n)?(s.headers=ot({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,ot(ot({},s),r)):s};async function X4(t,e,r,n,s,i){return new Promise((o,a)=>{t(r,Y4(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>J4(l,a,n))})}async function Tn(t,e,r,n,s){return X4(t,"POST",e,n,s,r)}var Z4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ot(ot({},rp),e),this.fetch=np(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await Tn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await Tn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(On(n))return{data:null,error:n};throw n}}},Q4=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ot(ot({},rp),e),this.fetch=np(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Tn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Tn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Tn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}},eS=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=ot(ot({},rp),e),this.fetch=np(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(On(r))return{data:null,error:r};throw r}}},tS=class extends eS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new rS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},rS=class extends Z4{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,ot(ot({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,ot(ot({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new nS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},nS=class extends Q4{constructor(t,e,r,n,s){super(t,e,s),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,ot(ot({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,ot(ot({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,ot(ot({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,ot(ot({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,ot(ot({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},sS=class extends W4{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new z4(this.url,this.headers,t,this.fetch)}get vectors(){return new tS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new V4(this.url+"/iceberg",this.headers,this.fetch)}};const rm="2.90.1",ua=30*1e3,pd=3,hf=pd*ua,iS="http://localhost:9999",oS="supabase.auth.token",aS={"X-Client-Info":`gotrue-js/${rm}`},gd="X-Supabase-Api-Version",nm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cS=10*60*1e3;class Bl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Xe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class uS extends Bl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function hS(t){return Xe(t)&&t.name==="AuthApiError"}class Ao extends Bl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ui extends Bl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class En extends ui{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function fS(t){return Xe(t)&&t.name==="AuthSessionMissingError"}class Qo extends ui{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wc extends ui{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vc extends ui{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function dS(t){return Xe(t)&&t.name==="AuthImplicitGrantRedirectError"}class _1 extends ui{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class pS extends ui{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class md extends ui{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ff(t){return Xe(t)&&t.name==="AuthRetryableFetchError"}class S1 extends ui{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vd extends ui{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),A1=` 	
\r=`.split(""),gS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<A1.length;e+=1)t[A1[e].charCodeAt(0)]=-2;for(let e=0;e<Pu.length;e+=1)t[Pu[e].charCodeAt(0)]=e;return t})();function x1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pu[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pu[n]),e.queuedBits-=6}}function sm(t,e,r){const n=gS[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function E1(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{yS(o,n,r)};for(let o=0;o<t.length;o+=1)sm(t.charCodeAt(o),s,i);return e.join("")}function mS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function vS(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}mS(n,e)}}function yS(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Aa(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)sm(t.charCodeAt(s),r,n);return new Uint8Array(e)}function wS(t){const e=[];return vS(t,r=>e.push(r)),new Uint8Array(e)}function ko(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>x1(s,r,n)),x1(null,r,n),e.join("")}function bS(t){return Math.round(Date.now()/1e3)+t}function _S(){return Symbol("auth-callback")}const Mr=()=>typeof window<"u"&&typeof document<"u",po={tested:!1,writable:!1},im=()=>{if(!Mr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(po.tested)return po.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),po.tested=!0,po.writable=!0}catch{po.tested=!0,po.writable=!1}return po.writable};function SS(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const om=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ha=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},go=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ur=async(t,e)=>{await t.removeItem(e)};class ih{constructor(){this.promise=new ih.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ih.promiseConstructor=Promise;function df(t){const e=t.split(".");if(e.length!==3)throw new vd("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!lS.test(e[n]))throw new vd("JWT not in base64url format");return{header:JSON.parse(E1(e[0])),payload:JSON.parse(E1(e[1])),signature:Aa(e[2]),raw:{header:e[0],payload:e[1]}}}async function xS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ES(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function NS(t){return("0"+t.toString(16)).substr(-2)}function kS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,NS).join("")}async function LS(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function PS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await LS(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ea(t,e,r=!1){const n=kS();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await ha(t,`${e}-code-verifier`,s);const i=await PS(n);return[i,n===i?"plain":"s256"]}const OS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TS(t){const e=t.headers.get(gd);if(!e||!e.match(OS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function RS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function CS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const IS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ta(t){if(!IS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function pf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function jS(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function N1(t){return JSON.parse(JSON.stringify(t))}const yo=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),FS=[502,503,504];async function k1(t){var e;if(!AS(t))throw new md(yo(t),0);if(FS.includes(t.status))throw new md(yo(t),t.status);let r;try{r=await t.json()}catch(i){throw new Ao(yo(i),i)}let n;const s=TS(t);if(s&&s.getTime()>=nm["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new S1(yo(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new En}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new S1(yo(r),t.status,r.weak_password.reasons);throw new uS(yo(r),t.status||500,n)}const DS=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function it(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[gd]||(i[gd]=nm["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await BS(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function BS(t,e,r,n,s,i){const o=DS(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new md(yo(l),0)}if(a.ok||await k1(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await k1(l)}}function rs(t){var e;let r=null;qS(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=bS(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function L1(t){const e=rs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Fi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function US(t){return{data:t,error:null}}function MS(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=nh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function P1(t){return t}function qS(t){return t.access_token&&t.refresh_token&&t.expires_in}const gf=["global","local","others"];class $S{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=om(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=gf[0]){if(gf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gf.join(", ")}`);try{return await it(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await it(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Fi})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=nh(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await it(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:MS,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Xe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await it(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Fi})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await it(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:P1});if(h.error)throw h.error;const p=await h.json(),v=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);c[`${S}Page`]=w}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Xe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){ta(e);try{return await it(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Fi})}catch(r){if(Xe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ta(e);try{return await it(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Fi})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ta(e);try{return await it(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Fi})}catch(n){if(Xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ta(e.userId);try{const{data:r,error:n}=await it(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ta(e.userId),ta(e.id);try{return{data:await it(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},h=await it(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:P1});if(h.error)throw h.error;const p=await h.json(),v=(o=h.headers.get("x-total-count"))!==null&&o!==void 0?o:0,d=(l=(a=h.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(y.split(";")[1].split("=")[1]);c[`${S}Page`]=w}),c.total=parseInt(v)),{data:Object.assign(Object.assign({},p),c),error:null}}catch(c){if(Xe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await it(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await it(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Xe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await it(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Xe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await it(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Xe(r))return{data:null,error:r};throw r}}}function O1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ra={debug:!!(globalThis&&im()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class am extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class HS extends am{}async function zS(t,e,r){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ra.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ra.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new HS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ra.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function WS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function lm(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function VS(t){return parseInt(t,16)}function GS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function KS(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:c,scheme:h,uri:p,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!p)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const d=lm(t.address),y=h?`${h}://${n}`:n,w=t.statement?`${t.statement}
`:"",S=`${y} wants you to sign in with your Ethereum account:
${d}

${w}`;let _=`URI: ${p}
Version: ${v}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(_+=`
Expiration Time: ${s.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),l&&(_+=`
Request ID: ${l}`),c){let j=`
Resources:`;for(const T of c){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);j+=`
- ${T}`}_+=j}return`${S}
${_}`}class br extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ou extends br{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function JS({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new br({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new br({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new br({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new br({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new br({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new br({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new br({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new br({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(cm(o)){if(i.rp.id!==o)return new br({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new br({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function YS({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new br({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new br({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(cm(n)){if(r.rpId!==n)return new br({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new br({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new br({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new br({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class XS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const ZS=new XS;function QS(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=nh(t,["challenge","user","excludeCredentials"]),i=Aa(e).buffer,o=Object.assign(Object.assign({},r),{id:Aa(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const c=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:Aa(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return a}function eA(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=nh(t,["challenge","allowCredentials"]),s=Aa(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Aa(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function tA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ko(new Uint8Array(t.response.attestationObject)),clientDataJSON:ko(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function rA(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ko(new Uint8Array(s.authenticatorData)),clientDataJSON:ko(new Uint8Array(s.clientDataJSON)),signature:ko(new Uint8Array(s.signature)),userHandle:s.userHandle?ko(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function cm(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function T1(){var t,e;return!!(Mr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function nA(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ou("Browser returned unexpected credential type",e)}:{data:null,error:new Ou("Empty credential response",e)}}catch(e){return{data:null,error:JS({error:e,options:t})}}}async function sA(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Ou("Browser returned unexpected credential type",e)}:{data:null,error:new Ou("Empty credential response",e)}}catch(e){return{data:null,error:YS({error:e,options:t})}}}const iA={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},oA={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Tu(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Tu(a,o):n[i]=Tu(o)}else n[i]=o}return n}function aA(t,e){return Tu(iA,t,e||{})}function lA(t,e){return Tu(oA,t,e||{})}class cA{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??ZS.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:c}=o.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${n}`),c.displayName||(c.displayName=c.name)}switch(o.webauthn.type){case"create":{const c=aA(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:p}=await nA({publicKey:c,signal:l});return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}case"request":{const c=lA(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:p}=await sA(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:c,signal:l}));return h?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:h}},error:null}:{data:null,error:p}}}}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new Ao("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Bl("rpId is required for WebAuthn authentication")};try{if(!T1())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new Ao("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new Bl("rpId is required for WebAuthn registration")};try{if(!T1())return{data:null,error:new Ao("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(h=>{var p;return(p=h.data)===null||p===void 0?void 0:p.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:a};const{data:l,error:c}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(o){return Xe(o)?{data:null,error:o}:{data:null,error:new Ao("Unexpected error in register",o)}}}}WS();const uA={url:iS,storageKey:oS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:aS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function R1(t,e,r){return await r()}const na={};class Ul{get jwks(){var e,r;return(r=(e=na[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){na[this.storageKey]=Object.assign(Object.assign({},na[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=na[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){na[this.storageKey]=Object.assign(Object.assign({},na[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},uA),e);if(this.storageKey=i.storageKey,this.instanceID=(r=Ul.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ul.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Mr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $S({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=om(i.fetch),this.lock=i.lock||R1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Mr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zS:this.lock=R1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cA(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:im()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=O1(this.memoryStorage)),Mr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rm}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Mr()&&(r=SS(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Mr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),dS(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Xe(r)?this._returnResult({error:r}):this._returnResult({error:new Ao("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:rs}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:h,password:p,options:v}=e;let d=null,y=null;this.flowType==="pkce"&&([d,y]=await ea(this.storage,this.storageKey)),i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:h,password:p,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:d,code_challenge_method:y},xform:rs})}else if("phone"in e){const{phone:h,password:p,options:v}=e;i=await it(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:rs})}else throw new Wc("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return await Ur(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Xe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:L1})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await it(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:L1})}else throw new Wc("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Qo;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,c,h,p,v;let d,y;if("message"in e)d=e.message,y=e.signature;else{const{chain:w,wallet:S,statement:_,options:j}=e;let T;if(Mr())if(typeof S=="object")T=S;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")T=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(j!=null&&j.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=S}const R=new URL((r=j==null?void 0:j.url)!==null&&r!==void 0?r:window.location.href),K=await T.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const se=lm(K[0]);let ie=(n=j==null?void 0:j.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!ie){const C=await T.request({method:"eth_chainId"});ie=VS(C)}const J={domain:R.host,address:se,statement:_,uri:R.href,version:"1",chainId:ie,nonce:(s=j==null?void 0:j.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=j==null?void 0:j.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=j==null?void 0:j.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=j==null?void 0:j.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=j==null?void 0:j.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(h=j==null?void 0:j.signInWithEthereum)===null||h===void 0?void 0:h.resources};d=KS(J),y=await T.request({method:"personal_sign",params:[GS(d),se]})}try{const{data:w,error:S}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:y},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:rs});if(S)throw S;if(!w||!w.session||!w.user){const _=new Qo;return this._returnResult({data:{user:null,session:null},error:_})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:S})}catch(w){if(Xe(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,c,h,p,v,d;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:S,wallet:_,statement:j,options:T}=e;let R;if(Mr())if(typeof _=="object")R=_;else{const se=window;if("solana"in se&&typeof se.solana=="object"&&("signIn"in se.solana&&typeof se.solana.signIn=="function"||"signMessage"in se.solana&&typeof se.solana.signMessage=="function"))R=se.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=_}const K=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const se=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),j?{statement:j}:null));let ie;if(Array.isArray(se)&&se[0]&&typeof se[0]=="object")ie=se[0];else if(se&&typeof se=="object"&&"signedMessage"in se&&"signature"in se)ie=se;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ie&&"signature"in ie&&(typeof ie.signedMessage=="string"||ie.signedMessage instanceof Uint8Array)&&ie.signature instanceof Uint8Array)y=typeof ie.signedMessage=="string"?ie.signedMessage:new TextDecoder().decode(ie.signedMessage),w=ie.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${K.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(s=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((a=T==null?void 0:T.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((p=(h=T==null?void 0:T.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...T.signInWithSolana.resources.map(ie=>`- ${ie}`)]:[]].join(`
`);const se=await R.signMessage(new TextEncoder().encode(y),"utf8");if(!se||!(se instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=se}}try{const{data:S,error:_}=await it(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ko(w)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:rs});if(_)throw _;if(!S||!S.session||!S.user){const j=new Qo;return this._returnResult({data:{user:null,session:null},error:j})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(Xe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async _exchangeCodeForSession(e){const r=await go(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new pS;const{data:i,error:o}=await it(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:rs});if(await Ur(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new Qo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Xe(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rs}),{data:l,error:c}=a;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const h=new Qo;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,h=null;this.flowType==="pkce"&&([c,h]=await ea(this.storage,this.storageKey));const{error:p}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:h}=await it(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new Wc("You must provide either an email or phone number.")}catch(a){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await it(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:rs});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(Xe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await ea(this.storage,this.storageKey));const c=await it(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:US});return!((i=c.data)===null||i===void 0)&&i.url&&Mr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(a){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Xe(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new En;const{error:s}=await it(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(Xe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await it(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await it(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Wc("You must provide either an email or phone number and a type")}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await go(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<hf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await go(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=pf()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=jS(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Fi}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new En}:await it(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Fi})})}catch(r){if(Xe(r))return fS(r)&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new En;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await ea(this.storage,this.storageKey));const{data:c,error:h}=await it(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Fi});if(h)throw h;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Xe(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new En;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=df(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Xe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new En;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Xe(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Mr())throw new Vc("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vc(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _1("No code detected.");const{data:j,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Vc("No session defined in URL");const h=Math.round(Date.now()/1e3),p=parseInt(a);let v=h+p;l&&(v=parseInt(l));const d=v-h;d*1e3<=ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${p}s`);const y=v-p;h-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,v,h):h-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,v,h);const{data:w,error:S}=await this._getUser(i);if(S)throw S;const _={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:p,expires_at:v,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Xe(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await go(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(hS(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Ur(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=_S(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ea(this.storage,this.storageKey,!0));try{return await it(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Xe(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,h;const{data:p,error:v}=i;if(v)throw v;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await it(this.fetch,"GET",d,{headers:this.headers,jwt:(h=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return Mr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Xe(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:c,nonce:h}=e,p=await it(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:c,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rs}),{data:v,error:d}=p;return d?this._returnResult({data:{user:null,session:null},error:d}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Qo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:d}))}catch(s){if(await Ur(this.storage,`${this.storageKey}-code-verifier`),Xe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await it(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ES(async s=>(s>0&&await xS(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await it(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:rs})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ff(i)&&Date.now()+o-n<ua})}catch(n){if(this._debug(r,"error",n),Xe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Mr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await go(this.storage,this.storageKey);if(s&&this.userStorage){let o=await go(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await ha(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:pf()}else if(s&&!s.user&&!s.user){const o=await go(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Ur(this.storage,this.storageKey+"-user"),await ha(this.storage,this.storageKey,s)):s.user=pf()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<hf;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${hf}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ff(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new En;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ih;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new En;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),Xe(i)){const o={data:null,error:i};return ff(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ur(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ha(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=N1(s);await ha(this.storage,this.storageKey,i)}else{const s=N1(r);await ha(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ur(this.storage,this.storageKey),await Ur(this.storage,this.storageKey+"-code-verifier"),await Ur(this.storage,this.storageKey+"-user"),this.userStorage&&await Ur(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Mr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ua);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ua}ms, refresh threshold is ${pd} ticks`),s<=pd&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof am)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Mr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ea(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await it(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await it(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?tA(e.webauthn.credential_response):rA(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await it(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:QS(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:eA(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=df(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const c=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await it(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new En})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new En});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Mr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new En});const o=await it(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&Mr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await it(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new En})})}catch(e){if(Xe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await it(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new En})})}catch(r){if(Xe(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+cS>s)return n;const{data:i,error:o}=await it(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:d,error:y}=await this.getSession();if(y||!d.session)return this._returnResult({data:null,error:y});n=d.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=df(n);r!=null&&r.allowExpired||RS(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:i,header:s,signature:o},error:null}}const h=CS(s.alg),p=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,o,wS(`${a}.${l}`)))throw new vd("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(Xe(n))return this._returnResult({data:null,error:n});throw n}}}Ul.nextInstanceID={};const hA=Ul,fA="2.90.1";let gl="";typeof Deno<"u"?gl="deno":typeof document<"u"?gl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gl="react-native":gl="node";const dA={"X-Client-Info":`supabase-js-${gl}/${fA}`},pA={headers:dA},gA={schema:"public"},mA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vA={};function Ml(t){"@babel/helpers - typeof";return Ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ml(t)}function yA(t,e){if(Ml(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ml(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wA(t){var e=yA(t,"string");return Ml(e)=="symbol"?e:e+""}function bA(t,e,r){return(e=wA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ar(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(r),!0).forEach(function(n){bA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const _A=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),SA=()=>Headers,AA=(t,e,r)=>{const n=_A(r),s=SA();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,ar(ar({},o),{},{headers:c}))}};function xA(t){return t.endsWith("/")?t:t+"/"}function EA(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:h,global:p}=e,v={db:ar(ar({},l),s),auth:ar(ar({},c),i),realtime:ar(ar({},h),o),storage:{},global:ar(ar(ar({},p),a),{},{headers:ar(ar({},(r=p==null?void 0:p.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function NA(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(xA(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var kA=class extends hA{constructor(t){super(t)}},LA=class{constructor(t,e,r){var n,s;this.supabaseUrl=t,this.supabaseKey=e;const i=NA(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const o=`sb-${i.hostname.split(".")[0]}-auth-token`,a={db:gA,realtime:vA,auth:ar(ar({},mA),{},{storageKey:o}),global:pA},l=EA(r??{},a);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=AA(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ar({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new a4(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new sS(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new r4(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:c},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new kA({url:this.authUrl.href,headers:ar(ar({},v),h),storageKey:i,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:c,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new x4(this.realtimeUrl.href,ar(ar({},t),{},{params:ar(ar({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const PA=(t,e,r)=>new LA(t,e,r);function OA(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}OA()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const TA="https://cujoefujusokpixizmfi.supabase.co",RA="sb_publishable_aIeS4GXhP6tkxE5ccGzhdA_6b0AEQ9W",Kr=PA(TA,RA),sp=async(t,e,r,n="euw1")=>{try{const s=await fetch(`${Yl}/api/db/player/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({puuid:t,gameName:e,tagLine:r,region:n})});if(!s.ok)throw new Error(`Worker error ${s.status}`);const i=await s.json();return Array.isArray(i)?i[0]:i}catch(s){throw console.error("Error syncing player:",s.message),s}},CA=async(t,e)=>{try{const r=await fetch(`${Yl}/api/db/stats/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:t,summonerData:e})});if(!r.ok){const s=await r.text().catch(()=>"");throw new Error(`Worker error ${r.status}${s?`: ${s}`:""}`)}return await r.json()}catch(r){throw console.error("Error saving summoner stats:",r.message),r}},oh=async t=>{try{const{data:e,error:r}=await Kr.from("players").select("*").eq("puuid",t).single();if(r&&r.code!=="PGRST116")throw r;return e||null}catch(e){throw console.error("Error fetching player:",e.message),e}},IA=async t=>{try{const e=await oh(t);if(!e)return[];const{data:r,error:n}=await Kr.from("summoner_stats").select("recorded_at").eq("player_id",e.player_id).order("recorded_at",{ascending:!1});if(n)throw n;return r||[]}catch(e){throw console.error("Error fetching player snapshots:",e.message),e}},jA=async(t,e)=>{try{const r=await oh(t);if(!r)return null;const{data:n,error:s}=await Kr.from("summoner_stats").select("*").eq("player_id",r.player_id).eq("recorded_at",e).single();if(s&&s.code!=="PGRST116")throw s;return n||null}catch(r){throw console.error("Error fetching summoner stats by date:",r.message),r}},FA=async(t,e)=>{try{const r=await fetch(`${Yl}/api/db/champion-stats/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:t,championMasteryData:e})});if(!r.ok){const s=await r.text().catch(()=>"");throw new Error(`Worker error ${r.status}${s?`: ${s}`:""}`)}return await r.json()}catch(r){throw console.error("Error saving champion stats:",r.message),r}},DA=async(t,e)=>{try{const r=await fetch(`${Yl}/api/db/rank-stats/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:t,rankedData:e})});if(!r.ok){const s=await r.text().catch(()=>"");throw new Error(`Worker error ${r.status}${s?`: ${s}`:""}`)}return await r.json()}catch(r){throw console.error("Error saving rank stats:",r.message),r}},BA=async(t,e=Zl)=>{try{const n=(await Xl.get("/api/account/by-puuid",{params:{puuid:t,region:e}})).data;try{await sp(n.puuid,n.gameName,n.tagLine,e),console.log(" Player saved to database:",n.gameName)}catch(s){console.warn("Database sync failed:",s.message)}return n}catch(r){throw console.error("Error fetching Riot ID by PUUID:",r.message),r}},UA=async(t,e=Zl)=>{try{const n=(await Xl.get("/api/lol/summoner/by-puuid",{params:{puuid:t,region:e}})).data;try{let s=await oh(t);s||(s=await sp(t,n.name,"unknown",e)),await CA(s.player_id,{summonerLevel:n.summonerLevel,accountId:n.accountId,profileIconId:n.profileIconId})}catch(s){console.warn("Database sync failed:",s.message)}return n}catch(r){throw console.error("Error fetching summoner by PUUID:",r.message),r}},MA="modulepreload",qA=function(t){return"/summonersheet/"+t},I1={},mf=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(c){return Promise.all(c.map(h=>Promise.resolve(h).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=o(r.map(c=>{if(c=qA(c),c in I1)return;I1[c]=!0;const h=c.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${p}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":MA,h||(v.as="script"),v.crossOrigin="",v.href=c,l&&v.setAttribute("nonce",l),document.head.appendChild(v),h)return new Promise((d,y)=>{v.addEventListener("load",d),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};function Ut(t){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ut(t)}var cs=Uint8Array,In=Uint16Array,ip=Int32Array,op=new cs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ap=new cs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),j1=new cs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),um=function(t,e){for(var r=new In(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new ip(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},hm=um(op,2),$A=hm.b,yd=hm.r;$A[28]=258,yd[258]=28;var HA=um(ap,0),F1=HA.r,wd=new In(32768);for(var Xt=0;Xt<32768;++Xt){var Pi=(Xt&43690)>>1|(Xt&21845)<<1;Pi=(Pi&52428)>>2|(Pi&13107)<<2,Pi=(Pi&61680)>>4|(Pi&3855)<<4,wd[Xt]=((Pi&65280)>>8|(Pi&255)<<8)>>1}var El=function(t,e,r){for(var n=t.length,s=0,i=new In(e);s<n;++s)t[s]&&++i[t[s]-1];var o=new In(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var a;if(r){a=new In(1<<e);var l=15-e;for(s=0;s<n;++s)if(t[s])for(var c=s<<4|t[s],h=e-t[s],p=o[t[s]-1]++<<h,v=p|(1<<h)-1;p<=v;++p)a[wd[p]>>l]=c}else for(a=new In(n),s=0;s<n;++s)t[s]&&(a[s]=wd[o[t[s]-1]++]>>15-t[s]);return a},Io=new cs(288);for(var Xt=0;Xt<144;++Xt)Io[Xt]=8;for(var Xt=144;Xt<256;++Xt)Io[Xt]=9;for(var Xt=256;Xt<280;++Xt)Io[Xt]=7;for(var Xt=280;Xt<288;++Xt)Io[Xt]=8;var Ru=new cs(32);for(var Xt=0;Xt<32;++Xt)Ru[Xt]=5;var zA=El(Io,9,0),WA=El(Ru,5,0),fm=function(t){return(t+7)/8|0},VA=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new cs(t.subarray(e,r))},ti=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},fl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},vf=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:pm,l:0};if(s==1){var o=new cs(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(K,se){return K.f-se.f}),r.push({s:-1,f:25001});var a=r[0],l=r[1],c=0,h=1,p=2;for(r[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=r[r[c].f<r[p].f?c++:p++],l=r[c!=h&&r[c].f<r[p].f?c++:p++],r[h++]={s:-1,f:a.f+l.f,l:a,r:l};for(var v=i[0].s,n=1;n<s;++n)i[n].s>v&&(v=i[n].s);var d=new In(v+1),y=bd(r[h-1],d,0);if(y>e){var n=0,w=0,S=y-e,_=1<<S;for(i.sort(function(se,ie){return d[ie.s]-d[se.s]||se.f-ie.f});n<s;++n){var j=i[n].s;if(d[j]>e)w+=_-(1<<y-d[j]),d[j]=e;else break}for(w>>=S;w>0;){var T=i[n].s;d[T]<e?w-=1<<e-d[T]++-1:++n}for(;n>=0&&w;--n){var R=i[n].s;d[R]==e&&(--d[R],++w)}y=e}return{t:new cs(d),l:y}},bd=function(t,e,r){return t.s==-1?Math.max(bd(t.l,e,r+1),bd(t.r,e,r+1)):e[t.s]=r},D1=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new In(++e),n=0,s=t[0],i=1,o=function(l){r[n++]=l},a=1;a<=e;++a)if(t[a]==s&&a!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[a]}return{c:r.subarray(0,n),n:e}},dl=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},dm=function(t,e,r){var n=r.length,s=fm(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},B1=function(t,e,r,n,s,i,o,a,l,c,h){ti(e,h++,r),++s[256];for(var p=vf(s,15),v=p.t,d=p.l,y=vf(i,15),w=y.t,S=y.l,_=D1(v),j=_.c,T=_.n,R=D1(w),K=R.c,se=R.n,ie=new In(19),J=0;J<j.length;++J)++ie[j[J]&31];for(var J=0;J<K.length;++J)++ie[K[J]&31];for(var C=vf(ie,7),G=C.t,L=C.l,O=19;O>4&&!G[j1[O-1]];--O);var z=c+5<<3,W=dl(s,Io)+dl(i,Ru)+o,pe=dl(s,v)+dl(i,w)+o+14+3*O+dl(ie,G)+2*ie[16]+3*ie[17]+7*ie[18];if(l>=0&&z<=W&&z<=pe)return dm(e,h,t.subarray(l,l+c));var ue,ae,re,we;if(ti(e,h,1+(pe<W)),h+=2,pe<W){ue=El(v,d,0),ae=v,re=El(w,S,0),we=w;var Ce=El(G,L,0);ti(e,h,T-257),ti(e,h+5,se-1),ti(e,h+10,O-4),h+=14;for(var J=0;J<O;++J)ti(e,h+3*J,G[j1[J]]);h+=3*O;for(var _e=[j,K],N=0;N<2;++N)for(var U=_e[N],J=0;J<U.length;++J){var V=U[J]&31;ti(e,h,Ce[V]),h+=G[V],V>15&&(ti(e,h,U[J]>>5&127),h+=U[J]>>12)}}else ue=zA,ae=Io,re=WA,we=Ru;for(var J=0;J<a;++J){var Z=n[J];if(Z>255){var V=Z>>18&31;fl(e,h,ue[V+257]),h+=ae[V+257],V>7&&(ti(e,h,Z>>23&31),h+=op[V]);var ne=Z&31;fl(e,h,re[ne]),h+=we[ne],ne>3&&(fl(e,h,Z>>5&8191),h+=ap[ne])}else fl(e,h,ue[Z]),h+=ae[Z]}return fl(e,h,ue[256]),h+ae[256]},GA=new ip([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),pm=new cs(0),KA=function(t,e,r,n,s,i){var o=i.z||t.length,a=new cs(n+o+5*(1+Math.ceil(o/7e3))+s),l=a.subarray(n,a.length-s),c=i.l,h=(i.r||0)&7;if(e){h&&(l[0]=i.r>>3);for(var p=GA[e-1],v=p>>13,d=p&8191,y=(1<<r)-1,w=i.p||new In(32768),S=i.h||new In(y+1),_=Math.ceil(r/3),j=2*_,T=function(Y){return(t[Y]^t[Y+1]<<_^t[Y+2]<<j)&y},R=new ip(25e3),K=new In(288),se=new In(32),ie=0,J=0,C=i.i||0,G=0,L=i.w||0,O=0;C+2<o;++C){var z=T(C),W=C&32767,pe=S[z];if(w[W]=pe,S[z]=W,L<=C){var ue=o-C;if((ie>7e3||G>24576)&&(ue>423||!c)){h=B1(t,l,0,R,K,se,J,G,O,C-O,h),G=ie=J=0,O=C;for(var ae=0;ae<286;++ae)K[ae]=0;for(var ae=0;ae<30;++ae)se[ae]=0}var re=2,we=0,Ce=d,_e=W-pe&32767;if(ue>2&&z==T(C-_e))for(var N=Math.min(v,ue)-1,U=Math.min(32767,C),V=Math.min(258,ue);_e<=U&&--Ce&&W!=pe;){if(t[C+re]==t[C+re-_e]){for(var Z=0;Z<V&&t[C+Z]==t[C+Z-_e];++Z);if(Z>re){if(re=Z,we=_e,Z>N)break;for(var ne=Math.min(_e,Z-2),$=0,ae=0;ae<ne;++ae){var ee=C-_e+ae&32767,Q=w[ee],fe=ee-Q&32767;fe>$&&($=fe,pe=ee)}}}W=pe,pe=w[W],_e+=W-pe&32767}if(we){R[G++]=268435456|yd[re]<<18|F1[we];var Ae=yd[re]&31,F=F1[we]&31;J+=op[Ae]+ap[F],++K[257+Ae],++se[F],L=C+re,++ie}else R[G++]=t[C],++K[t[C]]}}for(C=Math.max(C,L);C<o;++C)R[G++]=t[C],++K[t[C]];h=B1(t,l,c,R,K,se,J,G,O,C-O,h),c||(i.r=h&7|l[h/8|0]<<3,h-=7,i.h=S,i.p=w,i.i=C,i.w=L)}else{for(var C=i.w||0;C<o+c;C+=65535){var B=C+65535;B>=o&&(l[h/8|0]=c,B=o),h=dm(l,h+1,t.subarray(C,B))}i.i=o}return VA(a,0,n+fm(h)+s)},gm=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,o=0;o!=i;){for(var a=Math.min(o+2655,i);o<a;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},JA=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new cs(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return KA(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},mm=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},YA=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=gm();s.p(e.dictionary),mm(t,2,s.d())}};function _d(t,e){e||(e={});var r=gm();r.p(t);var n=JA(t,e,e.dictionary?6:2,4);return YA(n,e),mm(n,n.length-4,r.d()),n}var XA=typeof TextDecoder<"u"&&new TextDecoder,ZA=0;try{XA.decode(pm,{stream:!0}),ZA=1}catch{}function QA(t){if(Array.isArray(t))return t}function e6(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,a=[],l=!0,c=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(l=(n=i.call(r)).done)&&(a.push(n.value),a.length!==e);l=!0);}catch(h){c=!0,s=h}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(c)throw s}}return a}}function U1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function t6(t,e){if(t){if(typeof t=="string")return U1(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?U1(t,e):void 0}}function r6(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M1(t,e){return QA(t)||e6(t,e)||t6(t,e)||r6()}function q1(t,e="utf8"){return new TextDecoder(e).decode(t)}const n6=new TextEncoder;function s6(t){return n6.encode(t)}const i6=1024*8,o6=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),yf={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lp{constructor(e=i6,r={}){Bt(this,"buffer");Bt(this,"byteLength");Bt(this,"byteOffset");Bt(this,"length");Bt(this,"offset");Bt(this,"lastWrittenByte");Bt(this,"littleEndian");Bt(this,"_data");Bt(this,"_mark");Bt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,i=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof lp)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=yf[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===o6&&r!=="uint8"&&r!=="int8"){const a=new Uint8Array(this.buffer.slice(s,s+n));a.reverse();const l=new yf[r](a.buffer);return this.offset+=n,l.reverse(),l}const o=new yf[r](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return q1(this.readBytes(e))}decodeText(e=1,r="utf8"){return q1(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(s6(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Ca(t){let e=t.length;for(;--e>=0;)t[e]=0}const a6=3,l6=258,vm=29,c6=256,u6=c6+1+vm,ym=30,h6=512,f6=new Array((u6+2)*2);Ca(f6);const d6=new Array(ym*2);Ca(d6);const p6=new Array(h6);Ca(p6);const g6=new Array(l6-a6+1);Ca(g6);const m6=new Array(vm);Ca(m6);const v6=new Array(ym);Ca(v6);const y6=(t,e,r,n)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+e[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var Sd=y6;const w6=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},b6=new Uint32Array(w6()),_6=(t,e,r,n)=>{const s=b6,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var xs=_6,Ad={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},wm={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const S6=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var A6=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)S6(r,n)&&(t[n]=r[n])}}return t},x6=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,i=t.length;n<i;n++){let o=t[n];r.set(o,s),s+=o.length}return r},bm={assign:A6,flattenChunks:x6};let _m=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{_m=!1}const ql=new Uint8Array(256);for(let t=0;t<256;t++)ql[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;ql[254]=ql[254]=1;var E6=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,i,o=t.length,a=0;for(s=0;s<o;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),a+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(a),i=0,s=0;i<a;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const N6=(t,e)=>{if(e<65534&&t.subarray&&_m)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var k6=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=t[n++];if(o<128){i[s++]=o;continue}let a=ql[o];if(a>4){i[s++]=65533,n+=a-1;continue}for(o&=a===2?31:a===3?15:7;a>1&&n<r;)o=o<<6|t[n++]&63,a--;if(a>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return N6(i,s)},L6=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+ql[t[r]]>e?r:e},xd={string2buf:E6,buf2string:k6,utf8border:L6};function P6(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var O6=P6;const Gc=16209,T6=16191;var R6=function(e,r){let n,s,i,o,a,l,c,h,p,v,d,y,w,S,_,j,T,R,K,se,ie,J,C,G;const L=e.state;n=e.next_in,C=e.input,s=n+(e.avail_in-5),i=e.next_out,G=e.output,o=i-(r-e.avail_out),a=i+(e.avail_out-257),l=L.dmax,c=L.wsize,h=L.whave,p=L.wnext,v=L.window,d=L.hold,y=L.bits,w=L.lencode,S=L.distcode,_=(1<<L.lenbits)-1,j=(1<<L.distbits)-1;e:do{y<15&&(d+=C[n++]<<y,y+=8,d+=C[n++]<<y,y+=8),T=w[d&_];t:for(;;){if(R=T>>>24,d>>>=R,y-=R,R=T>>>16&255,R===0)G[i++]=T&65535;else if(R&16){K=T&65535,R&=15,R&&(y<R&&(d+=C[n++]<<y,y+=8),K+=d&(1<<R)-1,d>>>=R,y-=R),y<15&&(d+=C[n++]<<y,y+=8,d+=C[n++]<<y,y+=8),T=S[d&j];r:for(;;){if(R=T>>>24,d>>>=R,y-=R,R=T>>>16&255,R&16){if(se=T&65535,R&=15,y<R&&(d+=C[n++]<<y,y+=8,y<R&&(d+=C[n++]<<y,y+=8)),se+=d&(1<<R)-1,se>l){e.msg="invalid distance too far back",L.mode=Gc;break e}if(d>>>=R,y-=R,R=i-o,se>R){if(R=se-R,R>h&&L.sane){e.msg="invalid distance too far back",L.mode=Gc;break e}if(ie=0,J=v,p===0){if(ie+=c-R,R<K){K-=R;do G[i++]=v[ie++];while(--R);ie=i-se,J=G}}else if(p<R){if(ie+=c+p-R,R-=p,R<K){K-=R;do G[i++]=v[ie++];while(--R);if(ie=0,p<K){R=p,K-=R;do G[i++]=v[ie++];while(--R);ie=i-se,J=G}}}else if(ie+=p-R,R<K){K-=R;do G[i++]=v[ie++];while(--R);ie=i-se,J=G}for(;K>2;)G[i++]=J[ie++],G[i++]=J[ie++],G[i++]=J[ie++],K-=3;K&&(G[i++]=J[ie++],K>1&&(G[i++]=J[ie++]))}else{ie=i-se;do G[i++]=G[ie++],G[i++]=G[ie++],G[i++]=G[ie++],K-=3;while(K>2);K&&(G[i++]=G[ie++],K>1&&(G[i++]=G[ie++]))}}else if((R&64)===0){T=S[(T&65535)+(d&(1<<R)-1)];continue r}else{e.msg="invalid distance code",L.mode=Gc;break e}break}}else if((R&64)===0){T=w[(T&65535)+(d&(1<<R)-1)];continue t}else if(R&32){L.mode=T6;break e}else{e.msg="invalid literal/length code",L.mode=Gc;break e}break}}while(n<s&&i<a);K=y>>3,n-=K,y-=K<<3,d&=(1<<y)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<a?257+(a-i):257-(i-a),L.hold=d,L.bits=y};const sa=15,$1=852,H1=592,z1=0,wf=1,W1=2,C6=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),I6=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),j6=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),F6=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),D6=(t,e,r,n,s,i,o,a)=>{const l=a.bits;let c=0,h=0,p=0,v=0,d=0,y=0,w=0,S=0,_=0,j=0,T,R,K,se,ie,J=null,C;const G=new Uint16Array(sa+1),L=new Uint16Array(sa+1);let O=null,z,W,pe;for(c=0;c<=sa;c++)G[c]=0;for(h=0;h<n;h++)G[e[r+h]]++;for(d=l,v=sa;v>=1&&G[v]===0;v--);if(d>v&&(d=v),v===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,a.bits=1,0;for(p=1;p<v&&G[p]===0;p++);for(d<p&&(d=p),S=1,c=1;c<=sa;c++)if(S<<=1,S-=G[c],S<0)return-1;if(S>0&&(t===z1||v!==1))return-1;for(L[1]=0,c=1;c<sa;c++)L[c+1]=L[c]+G[c];for(h=0;h<n;h++)e[r+h]!==0&&(o[L[e[r+h]]++]=h);if(t===z1?(J=O=o,C=20):t===wf?(J=C6,O=I6,C=257):(J=j6,O=F6,C=0),j=0,h=0,c=p,ie=i,y=d,w=0,K=-1,_=1<<d,se=_-1,t===wf&&_>$1||t===W1&&_>H1)return 1;for(;;){z=c-w,o[h]+1<C?(W=0,pe=o[h]):o[h]>=C?(W=O[o[h]-C],pe=J[o[h]-C]):(W=96,pe=0),T=1<<c-w,R=1<<y,p=R;do R-=T,s[ie+(j>>w)+R]=z<<24|W<<16|pe|0;while(R!==0);for(T=1<<c-1;j&T;)T>>=1;if(T!==0?(j&=T-1,j+=T):j=0,h++,--G[c]===0){if(c===v)break;c=e[r+o[h]]}if(c>d&&(j&se)!==K){for(w===0&&(w=d),ie+=p,y=c-w,S=1<<y;y+w<v&&(S-=G[y+w],!(S<=0));)y++,S<<=1;if(_+=1<<y,t===wf&&_>$1||t===W1&&_>H1)return 1;K=j&se,s[K]=d<<24|y<<16|ie-i|0}}return j!==0&&(s[ie+j]=c-w<<24|64<<16|0),a.bits=d,0};var Nl=D6;const B6=0,Sm=1,Am=2,{Z_FINISH:V1,Z_BLOCK:U6,Z_TREES:Kc,Z_OK:jo,Z_STREAM_END:M6,Z_NEED_DICT:q6,Z_STREAM_ERROR:Vn,Z_DATA_ERROR:xm,Z_MEM_ERROR:Em,Z_BUF_ERROR:$6,Z_DEFLATED:G1}=wm,ah=16180,K1=16181,J1=16182,Y1=16183,X1=16184,Z1=16185,Q1=16186,eg=16187,tg=16188,rg=16189,Cu=16190,ri=16191,bf=16192,ng=16193,_f=16194,sg=16195,ig=16196,og=16197,ag=16198,Jc=16199,Yc=16200,lg=16201,cg=16202,ug=16203,hg=16204,fg=16205,Sf=16206,dg=16207,pg=16208,Qt=16209,Nm=16210,km=16211,H6=852,z6=592,W6=15,V6=W6,gg=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function G6(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Fo=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<ah||e.mode>km?1:0},Lm=t=>{if(Fo(t))return Vn;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=ah,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(H6),e.distcode=e.distdyn=new Int32Array(z6),e.sane=1,e.back=-1,jo},Pm=t=>{if(Fo(t))return Vn;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Lm(t)},Om=(t,e)=>{let r;if(Fo(t))return Vn;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Vn:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Pm(t))},Tm=(t,e)=>{if(!t)return Vn;const r=new G6;t.state=r,r.strm=t,r.window=null,r.mode=ah;const n=Om(t,e);return n!==jo&&(t.state=null),n},K6=t=>Tm(t,V6);let mg=!0,Af,xf;const J6=t=>{if(mg){Af=new Int32Array(512),xf=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Nl(Sm,t.lens,0,288,Af,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Nl(Am,t.lens,0,32,xf,0,t.work,{bits:5}),mg=!1}t.lencode=Af,t.lenbits=9,t.distcode=xf,t.distbits=5},Rm=(t,e,r,n)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},Y6=(t,e)=>{let r,n,s,i,o,a,l,c,h,p,v,d,y,w,S=0,_,j,T,R,K,se,ie,J;const C=new Uint8Array(4);let G,L;const O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Fo(t)||!t.output||!t.input&&t.avail_in!==0)return Vn;r=t.state,r.mode===ri&&(r.mode=bf),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,a=t.avail_in,c=r.hold,h=r.bits,p=a,v=l,J=jo;e:for(;;)switch(r.mode){case ah:if(r.wrap===0){r.mode=bf;break}for(;h<16;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(r.wrap&2&&c===35615){r.wbits===0&&(r.wbits=15),r.check=0,C[0]=c&255,C[1]=c>>>8&255,r.check=xs(r.check,C,2,0),c=0,h=0,r.mode=K1;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((c&255)<<8)+(c>>8))%31){t.msg="incorrect header check",r.mode=Qt;break}if((c&15)!==G1){t.msg="unknown compression method",r.mode=Qt;break}if(c>>>=4,h-=4,ie=(c&15)+8,r.wbits===0&&(r.wbits=ie),ie>15||ie>r.wbits){t.msg="invalid window size",r.mode=Qt;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=c&512?rg:ri,c=0,h=0;break;case K1:for(;h<16;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(r.flags=c,(r.flags&255)!==G1){t.msg="unknown compression method",r.mode=Qt;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Qt;break}r.head&&(r.head.text=c>>8&1),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=xs(r.check,C,2,0)),c=0,h=0,r.mode=J1;case J1:for(;h<32;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}r.head&&(r.head.time=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,C[2]=c>>>16&255,C[3]=c>>>24&255,r.check=xs(r.check,C,4,0)),c=0,h=0,r.mode=Y1;case Y1:for(;h<16;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=c&255,r.head.os=c>>8),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=xs(r.check,C,2,0)),c=0,h=0,r.mode=X1;case X1:if(r.flags&1024){for(;h<16;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}r.length=c,r.head&&(r.head.extra_len=c),r.flags&512&&r.wrap&4&&(C[0]=c&255,C[1]=c>>>8&255,r.check=xs(r.check,C,2,0)),c=0,h=0}else r.head&&(r.head.extra=null);r.mode=Z1;case Z1:if(r.flags&1024&&(d=r.length,d>a&&(d=a),d&&(r.head&&(ie=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+d),ie)),r.flags&512&&r.wrap&4&&(r.check=xs(r.check,n,d,i)),a-=d,i+=d,r.length-=d),r.length))break e;r.length=0,r.mode=Q1;case Q1:if(r.flags&2048){if(a===0)break e;d=0;do ie=n[i+d++],r.head&&ie&&r.length<65536&&(r.head.name+=String.fromCharCode(ie));while(ie&&d<a);if(r.flags&512&&r.wrap&4&&(r.check=xs(r.check,n,d,i)),a-=d,i+=d,ie)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=eg;case eg:if(r.flags&4096){if(a===0)break e;d=0;do ie=n[i+d++],r.head&&ie&&r.length<65536&&(r.head.comment+=String.fromCharCode(ie));while(ie&&d<a);if(r.flags&512&&r.wrap&4&&(r.check=xs(r.check,n,d,i)),a-=d,i+=d,ie)break e}else r.head&&(r.head.comment=null);r.mode=tg;case tg:if(r.flags&512){for(;h<16;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(r.wrap&4&&c!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Qt;break}c=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ri;break;case rg:for(;h<32;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}t.adler=r.check=gg(c),c=0,h=0,r.mode=Cu;case Cu:if(r.havedict===0)return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,r.hold=c,r.bits=h,q6;t.adler=r.check=1,r.mode=ri;case ri:if(e===U6||e===Kc)break e;case bf:if(r.last){c>>>=h&7,h-=h&7,r.mode=Sf;break}for(;h<3;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}switch(r.last=c&1,c>>>=1,h-=1,c&3){case 0:r.mode=ng;break;case 1:if(J6(r),r.mode=Jc,e===Kc){c>>>=2,h-=2;break e}break;case 2:r.mode=ig;break;case 3:t.msg="invalid block type",r.mode=Qt}c>>>=2,h-=2;break;case ng:for(c>>>=h&7,h-=h&7;h<32;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if((c&65535)!==(c>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Qt;break}if(r.length=c&65535,c=0,h=0,r.mode=_f,e===Kc)break e;case _f:r.mode=sg;case sg:if(d=r.length,d){if(d>a&&(d=a),d>l&&(d=l),d===0)break e;s.set(n.subarray(i,i+d),o),a-=d,i+=d,l-=d,o+=d,r.length-=d;break}r.mode=ri;break;case ig:for(;h<14;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(r.nlen=(c&31)+257,c>>>=5,h-=5,r.ndist=(c&31)+1,c>>>=5,h-=5,r.ncode=(c&15)+4,c>>>=4,h-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Qt;break}r.have=0,r.mode=og;case og:for(;r.have<r.ncode;){for(;h<3;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}r.lens[O[r.have++]]=c&7,c>>>=3,h-=3}for(;r.have<19;)r.lens[O[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,G={bits:r.lenbits},J=Nl(B6,r.lens,0,19,r.lencode,0,r.work,G),r.lenbits=G.bits,J){t.msg="invalid code lengths set",r.mode=Qt;break}r.have=0,r.mode=ag;case ag:for(;r.have<r.nlen+r.ndist;){for(;S=r.lencode[c&(1<<r.lenbits)-1],_=S>>>24,j=S>>>16&255,T=S&65535,!(_<=h);){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(T<16)c>>>=_,h-=_,r.lens[r.have++]=T;else{if(T===16){for(L=_+2;h<L;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(c>>>=_,h-=_,r.have===0){t.msg="invalid bit length repeat",r.mode=Qt;break}ie=r.lens[r.have-1],d=3+(c&3),c>>>=2,h-=2}else if(T===17){for(L=_+3;h<L;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}c>>>=_,h-=_,ie=0,d=3+(c&7),c>>>=3,h-=3}else{for(L=_+7;h<L;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}c>>>=_,h-=_,ie=0,d=11+(c&127),c>>>=7,h-=7}if(r.have+d>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Qt;break}for(;d--;)r.lens[r.have++]=ie}}if(r.mode===Qt)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Qt;break}if(r.lenbits=9,G={bits:r.lenbits},J=Nl(Sm,r.lens,0,r.nlen,r.lencode,0,r.work,G),r.lenbits=G.bits,J){t.msg="invalid literal/lengths set",r.mode=Qt;break}if(r.distbits=6,r.distcode=r.distdyn,G={bits:r.distbits},J=Nl(Am,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,G),r.distbits=G.bits,J){t.msg="invalid distances set",r.mode=Qt;break}if(r.mode=Jc,e===Kc)break e;case Jc:r.mode=Yc;case Yc:if(a>=6&&l>=258){t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,r.hold=c,r.bits=h,R6(t,v),o=t.next_out,s=t.output,l=t.avail_out,i=t.next_in,n=t.input,a=t.avail_in,c=r.hold,h=r.bits,r.mode===ri&&(r.back=-1);break}for(r.back=0;S=r.lencode[c&(1<<r.lenbits)-1],_=S>>>24,j=S>>>16&255,T=S&65535,!(_<=h);){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(j&&(j&240)===0){for(R=_,K=j,se=T;S=r.lencode[se+((c&(1<<R+K)-1)>>R)],_=S>>>24,j=S>>>16&255,T=S&65535,!(R+_<=h);){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}c>>>=R,h-=R,r.back+=R}if(c>>>=_,h-=_,r.back+=_,r.length=T,j===0){r.mode=fg;break}if(j&32){r.back=-1,r.mode=ri;break}if(j&64){t.msg="invalid literal/length code",r.mode=Qt;break}r.extra=j&15,r.mode=lg;case lg:if(r.extra){for(L=r.extra;h<L;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}r.length+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=cg;case cg:for(;S=r.distcode[c&(1<<r.distbits)-1],_=S>>>24,j=S>>>16&255,T=S&65535,!(_<=h);){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if((j&240)===0){for(R=_,K=j,se=T;S=r.distcode[se+((c&(1<<R+K)-1)>>R)],_=S>>>24,j=S>>>16&255,T=S&65535,!(R+_<=h);){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}c>>>=R,h-=R,r.back+=R}if(c>>>=_,h-=_,r.back+=_,j&64){t.msg="invalid distance code",r.mode=Qt;break}r.offset=T,r.extra=j&15,r.mode=ug;case ug:if(r.extra){for(L=r.extra;h<L;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}r.offset+=c&(1<<r.extra)-1,c>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Qt;break}r.mode=hg;case hg:if(l===0)break e;if(d=v-l,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Qt;break}d>r.wnext?(d-=r.wnext,y=r.wsize-d):y=r.wnext-d,d>r.length&&(d=r.length),w=r.window}else w=s,y=o-r.offset,d=r.length;d>l&&(d=l),l-=d,r.length-=d;do s[o++]=w[y++];while(--d);r.length===0&&(r.mode=Yc);break;case fg:if(l===0)break e;s[o++]=r.length,l--,r.mode=Yc;break;case Sf:if(r.wrap){for(;h<32;){if(a===0)break e;a--,c|=n[i++]<<h,h+=8}if(v-=l,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?xs(r.check,s,v,o-v):Sd(r.check,s,v,o-v)),v=l,r.wrap&4&&(r.flags?c:gg(c))!==r.check){t.msg="incorrect data check",r.mode=Qt;break}c=0,h=0}r.mode=dg;case dg:if(r.wrap&&r.flags){for(;h<32;){if(a===0)break e;a--,c+=n[i++]<<h,h+=8}if(r.wrap&4&&c!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Qt;break}c=0,h=0}r.mode=pg;case pg:J=M6;break e;case Qt:J=xm;break e;case Nm:return Em;case km:default:return Vn}return t.next_out=o,t.avail_out=l,t.next_in=i,t.avail_in=a,r.hold=c,r.bits=h,(r.wsize||v!==t.avail_out&&r.mode<Qt&&(r.mode<Sf||e!==V1))&&Rm(t,t.output,t.next_out,v-t.avail_out),p-=t.avail_in,v-=t.avail_out,t.total_in+=p,t.total_out+=v,r.total+=v,r.wrap&4&&v&&(t.adler=r.check=r.flags?xs(r.check,s,v,t.next_out-v):Sd(r.check,s,v,t.next_out-v)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ri?128:0)+(r.mode===Jc||r.mode===_f?256:0),(p===0&&v===0||e===V1)&&J===jo&&(J=$6),J},X6=t=>{if(Fo(t))return Vn;let e=t.state;return e.window&&(e.window=null),t.state=null,jo},Z6=(t,e)=>{if(Fo(t))return Vn;const r=t.state;return(r.wrap&2)===0?Vn:(r.head=e,e.done=!1,jo)},Q6=(t,e)=>{const r=e.length;let n,s,i;return Fo(t)||(n=t.state,n.wrap!==0&&n.mode!==Cu)?Vn:n.mode===Cu&&(s=1,s=Sd(s,e,r,0),s!==n.check)?xm:(i=Rm(t,e,r,r),i?(n.mode=Nm,Em):(n.havedict=1,jo))};var ex=Pm,tx=Om,rx=Lm,nx=K6,sx=Tm,ix=Y6,ox=X6,ax=Z6,lx=Q6,cx="pako inflate (from Nodeca project)",ii={inflateReset:ex,inflateReset2:tx,inflateResetKeep:rx,inflateInit:nx,inflateInit2:sx,inflate:ix,inflateEnd:ox,inflateGetHeader:ax,inflateSetDictionary:lx,inflateInfo:cx};function ux(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var hx=ux;const Cm=Object.prototype.toString,{Z_NO_FLUSH:fx,Z_FINISH:dx,Z_OK:$l,Z_STREAM_END:Ef,Z_NEED_DICT:Nf,Z_STREAM_ERROR:px,Z_DATA_ERROR:vg,Z_MEM_ERROR:gx}=wm;function ec(t){this.options=bm.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new O6,this.strm.avail_out=0;let r=ii.inflateInit2(this.strm,e.windowBits);if(r!==$l)throw new Error(Ad[r]);if(this.header=new hx,ii.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=xd.string2buf(e.dictionary):Cm.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ii.inflateSetDictionary(this.strm,e.dictionary),r!==$l)))throw new Error(Ad[r])}ec.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,a;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?dx:fx,Cm.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=ii.inflate(r,o),i===Nf&&s&&(i=ii.inflateSetDictionary(r,s),i===$l?i=ii.inflate(r,o):i===vg&&(i=Nf));r.avail_in>0&&i===Ef&&r.state.wrap>0&&t[r.next_in]!==0;)ii.inflateReset(r),i=ii.inflate(r,o);switch(i){case px:case vg:case Nf:case gx:return this.onEnd(i),this.ended=!0,!1}if(a=r.avail_out,r.next_out&&(r.avail_out===0||i===Ef))if(this.options.to==="string"){let l=xd.utf8border(r.output,r.next_out),c=r.next_out-l,h=xd.buf2string(r.output,l);r.next_out=c,r.avail_out=n-c,c&&r.output.set(r.output.subarray(l,l+c),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===$l&&a===0)){if(i===Ef)return i=ii.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ec.prototype.onData=function(t){this.chunks.push(t)};ec.prototype.onEnd=function(t){t===$l&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=bm.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function mx(t,e){const r=new ec(e);if(r.push(t),r.err)throw r.msg||Ad[r.err];return r.result}var vx=ec,yx=mx,wx={Inflate:vx,inflate:yx};const{Inflate:bx,inflate:_x}=wx;var yg=bx,Sx=_x;const Im=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Im[t]=e}const wg=4294967295;function Ax(t,e,r){let n=t;for(let s=0;s<r;s++)n=Im[(n^e[s])&255]^n>>>8;return n}function xx(t,e){return(Ax(wg,t,e)^wg)>>>0}function bg(t,e,r){const n=t.readUint32(),s=xx(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function jm(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Fm(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function Dm(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function Bm(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-s]+r[i]>>1)&255}}function Um(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+Ex(e[i-s],r[i],r[i-s])&255}}function Ex(t,e,r){const n=t+e-r,s=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-r);return s<=i&&s<=o?t:i<=o?e:r}function Nx(t,e,r,n,s,i){switch(t){case 0:jm(e,r,s);break;case 1:Fm(e,r,s,i);break;case 2:Dm(e,r,n,s);break;case 3:Bm(e,r,n,s,i);break;case 4:Um(e,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const kx=new Uint16Array([255]),Lx=new Uint8Array(kx.buffer),Px=Lx[0]===255;function Ox(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],a=Math.ceil(i/8)*s,l=new Uint8Array(n*r*a);let c=0;for(let h=0;h<7;h++){const p=o[h],v=Math.ceil((r-p.x)/p.xStep),d=Math.ceil((n-p.y)/p.yStep);if(v<=0||d<=0)continue;const y=v*a,w=new Uint8Array(y);for(let S=0;S<d;S++){const _=e[c++],j=e.subarray(c,c+y);c+=y;const T=new Uint8Array(y);Nx(_,j,T,w,y,a),w.set(T);for(let R=0;R<v;R++){const K=p.x+R*p.xStep,se=p.y+S*p.yStep;if(!(K>=r||se>=n))for(let ie=0;ie<a;ie++)l[(se*r+K)*a+ie]=T[R*a+ie]}}}if(i===16){const h=new Uint16Array(l.buffer);if(Px)for(let p=0;p<h.length;p++)h[p]=Tx(h[p]);return h}else return l}function Tx(t){return(t&255)<<8|t>>8&255}const Rx=new Uint16Array([255]),Cx=new Uint8Array(Rx.buffer),Ix=Cx[0]===255,jx=new Uint8Array(0);function _g(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,o=Math.ceil(i/8)*s,a=Math.ceil(i/8*s*r),l=new Uint8Array(n*a);let c=jx,h=0,p,v;for(let d=0;d<n;d++){switch(p=e.subarray(h+1,h+1+a),v=l.subarray(d*a,(d+1)*a),e[h]){case 0:jm(p,v,a);break;case 1:Fm(p,v,a,o);break;case 2:Dm(p,v,c,a);break;case 3:Bm(p,v,c,a,o);break;case 4:Um(p,v,c,a,o);break;default:throw new Error(`Unsupported filter: ${e[h]}`)}c=v,h+=a+1}if(i===16){const d=new Uint16Array(l.buffer);if(Ix)for(let y=0;y<d.length;y++)d[y]=Fx(d[y]);return d}else return l}function Fx(t){return(t&255)<<8|t>>8&255}const fu=Uint8Array.of(137,80,78,71,13,10,26,10);function Sg(t){if(!Dx(t.readBytes(fu.length)))throw new Error("wrong PNG signature")}function Dx(t){if(t.length<fu.length)return!1;for(let e=0;e<fu.length;e++)if(t[e]!==fu[e])return!1;return!0}const Bx="tEXt",Ux=0,Mm=new TextDecoder("latin1");function Mx(t){if($x(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const qx=/^[\u0000-\u00FF]*$/;function $x(t){if(!qx.test(t))throw new Error("invalid latin1 text")}function Hx(t,e,r){const n=qm(e);t[n]=zx(e,r-n.length-1)}function qm(t){for(t.mark();t.readByte()!==Ux;);const e=t.offset;t.reset();const r=Mm.decode(t.readBytes(e-t.offset-1));return t.skip(1),Mx(r),r}function zx(t,e){return Mm.decode(t.readBytes(e))}const xn={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},kf={UNKNOWN:-1,DEFLATE:0},Ag={UNKNOWN:-1,ADAPTIVE:0},Lf={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Xc={NONE:0,BACKGROUND:1,PREVIOUS:2},Pf={SOURCE:0,OVER:1};class Wx extends lp{constructor(r,n={}){super(r);Bt(this,"_checkCrc");Bt(this,"_inflator");Bt(this,"_png");Bt(this,"_apng");Bt(this,"_end");Bt(this,"_hasPalette");Bt(this,"_palette");Bt(this,"_hasTransparency");Bt(this,"_transparency");Bt(this,"_compressionMethod");Bt(this,"_filterMethod");Bt(this,"_interlaceMethod");Bt(this,"_colorType");Bt(this,"_isAnimated");Bt(this,"_numberOfFrames");Bt(this,"_numberOfPlays");Bt(this,"_frames");Bt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new yg,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=kf.UNKNOWN,this._filterMethod=Ag.UNKNOWN,this._interlaceMethod=Lf.UNKNOWN,this._colorType=xn.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Sg(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Sg(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Bx:Hx(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?bg(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?bg(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=Vx(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case xn.GREYSCALE:s=1;break;case xn.TRUECOLOUR:s=3;break;case xn.INDEXED_COLOUR:s=1;break;case xn.GREYSCALE_ALPHA:s=2;break;case xn.TRUECOLOUR_ALPHA:s=4;break;case xn.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==kf.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case xn.GREYSCALE:case xn.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case xn.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case xn.UNKNOWN:case xn.GREYSCALE_ALPHA:case xn.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=qm(this),s=this.readUint8();if(s!==kf.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Sx(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=_g({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case Xc.NONE:break;case Xc.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const a=(i*r.width+o)*this._png.channels;for(let l=0;l<this._png.channels;l++)s.data[a+l]=0}break;case Xc.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,a)=>{const l=((o+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,c=(o*n.width+a)*this._png.channels;return{index:l,frameIndex:c}};switch(n.blendOp){case Pf.SOURCE:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let h=0;h<this._png.channels;h++)r.data[l+h]=n.data[c+h]}break;case Pf.OVER:for(let o=0;o<n.height;o++)for(let a=0;a<n.width;a++){const{index:l,frameIndex:c}=i(o,a);for(let h=0;h<this._png.channels;h++){const p=n.data[c+this._png.channels-1]/s,v=h%(this._png.channels-1)===0?1:n.data[c+h],d=Math.floor(p*v+(1-p)*r.data[l+h]);r.data[l+h]+=d}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Ag.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Lf.NO_INTERLACE)this._png.data=_g({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Lf.ADAM7)this._png.data=Ox({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Xc.NONE,blendOp:Pf.SOURCE,data:r}),this._inflator=new yg,this._writingDataChunks=!1}}function Vx(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var xg;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(xg||(xg={}));function Gx(t,e){return new Wx(t,e).decode()}var lt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Of(){lt.console&&typeof lt.console.log=="function"&&lt.console.log.apply(lt.console,arguments)}var $t={log:Of,warn:function(t){lt.console&&(typeof lt.console.warn=="function"?lt.console.warn.apply(lt.console,arguments):Of.call(null,arguments))},error:function(t){lt.console&&(typeof lt.console.error=="function"?lt.console.error.apply(lt.console,arguments):Of(t))}};function Tf(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){wo(n.response,e,r)},n.onerror=function(){$t.error("could not download file")},n.send()}function Eg(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Zc(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var wo=lt.saveAs||((typeof window>"u"?"undefined":Ut(window))!=="object"||window!==lt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=lt.URL||lt.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?Eg(s.href)?Tf(t,e,r):Zc(s,s.target="_blank"):Zc(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){Zc(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Eg(t))Tf(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Zc(n)})}else navigator.msSaveOrOpenBlob(function(s,i){return i===void 0?i={autoBom:!1}:Ut(i)!=="object"&&($t.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Tf(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(lt.HTMLElement)||lt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Ut(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var h=a.result;h=o?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},a.readAsDataURL(t)}else{var l=lt.URL||lt.webkitURL,c=l.createObjectURL(t);n?n.location=c:location.href=c,n=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $m(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+a+l+c}}var du=lt.atob.bind(lt),Ng=lt.btoa.bind(lt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Rf(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=zr(r,n,s,i,e[0],7,-680876936),i=zr(i,r,n,s,e[1],12,-389564586),s=zr(s,i,r,n,e[2],17,606105819),n=zr(n,s,i,r,e[3],22,-1044525330),r=zr(r,n,s,i,e[4],7,-176418897),i=zr(i,r,n,s,e[5],12,1200080426),s=zr(s,i,r,n,e[6],17,-1473231341),n=zr(n,s,i,r,e[7],22,-45705983),r=zr(r,n,s,i,e[8],7,1770035416),i=zr(i,r,n,s,e[9],12,-1958414417),s=zr(s,i,r,n,e[10],17,-42063),n=zr(n,s,i,r,e[11],22,-1990404162),r=zr(r,n,s,i,e[12],7,1804603682),i=zr(i,r,n,s,e[13],12,-40341101),s=zr(s,i,r,n,e[14],17,-1502002290),r=Wr(r,n=zr(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=Wr(i,r,n,s,e[6],9,-1069501632),s=Wr(s,i,r,n,e[11],14,643717713),n=Wr(n,s,i,r,e[0],20,-373897302),r=Wr(r,n,s,i,e[5],5,-701558691),i=Wr(i,r,n,s,e[10],9,38016083),s=Wr(s,i,r,n,e[15],14,-660478335),n=Wr(n,s,i,r,e[4],20,-405537848),r=Wr(r,n,s,i,e[9],5,568446438),i=Wr(i,r,n,s,e[14],9,-1019803690),s=Wr(s,i,r,n,e[3],14,-187363961),n=Wr(n,s,i,r,e[8],20,1163531501),r=Wr(r,n,s,i,e[13],5,-1444681467),i=Wr(i,r,n,s,e[2],9,-51403784),s=Wr(s,i,r,n,e[7],14,1735328473),r=Vr(r,n=Wr(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=Vr(i,r,n,s,e[8],11,-2022574463),s=Vr(s,i,r,n,e[11],16,1839030562),n=Vr(n,s,i,r,e[14],23,-35309556),r=Vr(r,n,s,i,e[1],4,-1530992060),i=Vr(i,r,n,s,e[4],11,1272893353),s=Vr(s,i,r,n,e[7],16,-155497632),n=Vr(n,s,i,r,e[10],23,-1094730640),r=Vr(r,n,s,i,e[13],4,681279174),i=Vr(i,r,n,s,e[0],11,-358537222),s=Vr(s,i,r,n,e[3],16,-722521979),n=Vr(n,s,i,r,e[6],23,76029189),r=Vr(r,n,s,i,e[9],4,-640364487),i=Vr(i,r,n,s,e[12],11,-421815835),s=Vr(s,i,r,n,e[15],16,530742520),r=Gr(r,n=Vr(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=Gr(i,r,n,s,e[7],10,1126891415),s=Gr(s,i,r,n,e[14],15,-1416354905),n=Gr(n,s,i,r,e[5],21,-57434055),r=Gr(r,n,s,i,e[12],6,1700485571),i=Gr(i,r,n,s,e[3],10,-1894986606),s=Gr(s,i,r,n,e[10],15,-1051523),n=Gr(n,s,i,r,e[1],21,-2054922799),r=Gr(r,n,s,i,e[8],6,1873313359),i=Gr(i,r,n,s,e[15],10,-30611744),s=Gr(s,i,r,n,e[6],15,-1560198380),n=Gr(n,s,i,r,e[13],21,1309151649),r=Gr(r,n,s,i,e[4],6,-145523070),i=Gr(i,r,n,s,e[11],10,-1120210379),s=Gr(s,i,r,n,e[2],15,718787259),n=Gr(n,s,i,r,e[9],21,-343485551),t[0]=Di(r,t[0]),t[1]=Di(n,t[1]),t[2]=Di(s,t[2]),t[3]=Di(i,t[3])}function lh(t,e,r,n,s,i){return e=Di(Di(e,t),Di(n,i)),Di(e<<s|e>>>32-s,r)}function zr(t,e,r,n,s,i,o){return lh(e&r|~e&n,t,e,s,i,o)}function Wr(t,e,r,n,s,i,o){return lh(e&n|r&~n,t,e,s,i,o)}function Vr(t,e,r,n,s,i,o){return lh(e^r^n,t,e,s,i,o)}function Gr(t,e,r,n,s,i,o){return lh(r^(e|~n),t,e,s,i,o)}function Hm(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Rf(n,Kx(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Rf(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,Rf(n,s),n}function Kx(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var kg="0123456789abcdef".split("");function Jx(t){for(var e="",r=0;r<4;r++)e+=kg[t>>8*r+4&15]+kg[t>>8*r&15];return e}function Yx(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Ed(t){return Hm(t).map(Yx).join("")}var Xx=function(t){for(var e=0;e<t.length;e++)t[e]=Jx(t[e]);return t.join("")}(Hm("hello"))!="5d41402abc4b2a76b9719d911017c592";function Di(t,e){if(Xx){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Nd(t,e){var r,n,s,i;if(t!==r){for(var o=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),a=[],l=0;l<256;l++)a[l]=l;var c=0;for(l=0;l<256;l++){var h=a[l];c=(c+h+o.charCodeAt(l))%256,a[l]=a[c],a[c]=h}r=t,n=a}else a=n;var p=e.length,v=0,d=0,y="";for(l=0;l<p;l++)d=(d+(h=a[v=(v+1)%256]))%256,a[v]=a[d],a[d]=h,o=a[(a[v]+a[d])%256],y+=String.fromCharCode(e.charCodeAt(l)^o);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Lg={print:4,modify:8,copy:16,"annot-forms":32};function fa(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(a){if(Lg.perm!==void 0)throw new Error("Invalid permission: "+a);s+=Lg[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=Ed(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Nd(this.encryptionKey,this.padding)}function da(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function Pg(t){if(Ut(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(a){lt.console&&$t.error("jsPDF PubSub Error",a.message,a)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Iu(t){if(!(this instanceof Iu))return new Iu(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function zm(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function xo(t,e,r,n,s){if(!(this instanceof xo))return new xo(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,zm.call(this,n,s)}function ga(t,e,r,n,s){if(!(this instanceof ga))return new ga(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,zm.call(this,n,s)}function Ze(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],a=1,l=16,c="S",h=null;Ut(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(h=t.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,v={},d={internal:{},__private__:{}};d.__private__.PubSub=Pg;var y="1.3",w=d.__private__.getPdfVersion=function(){return y};d.__private__.setPdfVersion=function(g){y=g};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return S};var _=d.__private__.getPageFormat=function(g){return S[g]};s=s||"a4";var j="compat",T="advanced",R=j;function K(){this.saveGraphicsState(),E(new st(Qe,0,0,-Qe,0,Qi()*Qe).toString()+" cm"),this.setFontSize(this.getFontSize()/Qe),c="n",R=T}function se(){this.restoreGraphicsState(),c="S",R=j}var ie=d.__private__.combineFontStyleAndFontWeight=function(g,A){if(g=="bold"&&A=="normal"||g=="bold"&&A==400||g=="normal"&&A=="italic"||g=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(g=A==400||A==="normal"?g==="italic"?"italic":"normal":A!=700&&A!=="bold"||g!=="normal"?(A==700?"bold":A)+""+g:"bold"),g};d.advancedAPI=function(g){var A=R===j;return A&&K.call(this),typeof g!="function"||(g(this),A&&se.call(this)),this},d.compatAPI=function(g){var A=R===T;return A&&se.call(this),typeof g!="function"||(g(this),A&&K.call(this)),this},d.isAdvancedAPI=function(){return R===T};var J,C=function(g){if(R!==T)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},G=d.roundToPrecision=d.__private__.roundToPrecision=function(g,A){var H=e||A;if(isNaN(g)||isNaN(H))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(H).replace(/0+$/,"")};J=d.hpf=d.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return G(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return G(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return G(g,16)};var L=d.f2=d.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return G(g,2)},O=d.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return G(g,3)},z=d.scale=d.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return R===j?g*Qe:R===T?g:void 0},W=function(g){return z(function(A){return R===j?Qi()-A:R===T?A:void 0}(g))};d.__private__.setPrecision=d.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var pe,ue="00000000000000000000000000000000",ae=d.__private__.getFileId=function(){return ue},re=d.__private__.setFileId=function(g){return ue=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(_r=new fa(h.userPermissions,h.userPassword,h.ownerPassword,ue)),ue};d.setFileId=function(g){return re(g),this},d.getFileId=function(){return ae()};var we=d.__private__.convertDateToPDFDate=function(g){var A=g.getTimezoneOffset(),H=A<0?"+":"-",X=Math.floor(Math.abs(A/60)),he=Math.abs(A%60),Le=[H,V(X),"'",V(he),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),Le].join("")},Ce=d.__private__.convertPDFDateToDate=function(g){var A=parseInt(g.substr(2,4),10),H=parseInt(g.substr(6,2),10)-1,X=parseInt(g.substr(8,2),10),he=parseInt(g.substr(10,2),10),Le=parseInt(g.substr(12,2),10),Te=parseInt(g.substr(14,2),10);return new Date(A,H,X,he,Le,Te,0)},_e=d.__private__.setCreationDate=function(g){var A;if(g===void 0&&(g=new Date),g instanceof Date)A=we(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=g}return pe=A},N=d.__private__.getCreationDate=function(g){var A=pe;return g==="jsDate"&&(A=Ce(pe)),A};d.setCreationDate=function(g){return _e(g),this},d.getCreationDate=function(g){return N(g)};var U,V=d.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Z=d.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ne=0,$=[],ee=[],Q=0,fe=[],Ae=[],F=!1,B=ee;d.__private__.setCustomOutputDestination=function(g){F=!0,B=g};var Y=function(g){F||(B=g)};d.__private__.resetCustomOutputDestination=function(){F=!1,B=ee};var E=d.__private__.out=function(g){return g=g.toString(),Q+=g.length+1,B.push(g),B},le=d.__private__.write=function(g){return E(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},ye=d.__private__.getArrayBuffer=function(g){for(var A=g.length,H=new ArrayBuffer(A),X=new Uint8Array(H);A--;)X[A]=g.charCodeAt(A);return H},Ee=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Ee};var ce=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(g){return ce=R===T?g/Qe:g,this};var Se,me=d.__private__.getFontSize=d.getFontSize=function(){return R===j?ce:ce*Qe},Ie=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(g){return Ie=g,this},d.__private__.getR2L=d.getR2L=function(){return Ie};var Ne,Fe=d.__private__.setZoomMode=function(g){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))Se=g;else if(isNaN(g)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');Se=g}else Se=parseInt(g,10)};d.__private__.getZoomMode=function(){return Se};var De,Ue=d.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Ne=g};d.__private__.getPageMode=function(){return Ne};var Ve=d.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');De=g};d.__private__.getLayoutMode=function(){return De},d.__private__.setDisplayMode=d.setDisplayMode=function(g,A,H){return Fe(g),Ve(A),Ue(H),this};var $e={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(g){if(Object.keys($e).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return $e[g]},d.__private__.getDocumentProperties=function(){return $e},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(g){for(var A in $e)$e.hasOwnProperty(A)&&g[A]&&($e[A]=g[A]);return this},d.__private__.setDocumentProperty=function(g,A){if(Object.keys($e).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return $e[g]=A};var Me,Qe,qe,Ot,St,mt={},tt={},Et=[],et={},Wt={},at={},ft={},Zt=null,xt=0,nt=[],Rt=new Pg(d),Wi=t.hotfixes||[],$r={},Is={},ds=[],st=function g(A,H,X,he,Le,Te){if(!(this instanceof g))return new g(A,H,X,he,Le,Te);isNaN(A)&&(A=1),isNaN(H)&&(H=0),isNaN(X)&&(X=0),isNaN(he)&&(he=1),isNaN(Le)&&(Le=0),isNaN(Te)&&(Te=0),this._matrix=[A,H,X,he,Le,Te]};Object.defineProperty(st.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(st.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(st.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(st.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(st.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(st.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(st.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(st.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(st.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(st.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),st.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(J).join(g)},st.prototype.multiply=function(g){var A=g.sx*this.sx+g.shy*this.shx,H=g.sx*this.shy+g.shy*this.sy,X=g.shx*this.sx+g.sy*this.shx,he=g.shx*this.shy+g.sy*this.sy,Le=g.tx*this.sx+g.ty*this.shx+this.tx,Te=g.tx*this.shy+g.ty*this.sy+this.ty;return new st(A,H,X,he,Le,Te)},st.prototype.decompose=function(){var g=this.sx,A=this.shy,H=this.shx,X=this.sy,he=this.tx,Le=this.ty,Te=Math.sqrt(g*g+A*A),We=(g/=Te)*H+(A/=Te)*X;H-=g*We,X-=A*We;var Je=Math.sqrt(H*H+X*X);return We/=Je,g*(X/=Je)<A*(H/=Je)&&(g=-g,A=-A,We=-We,Te=-Te),{scale:new st(Te,0,0,Je,0,0),translate:new st(1,0,0,1,he,Le),rotate:new st(g,A,-A,g,0,0),skew:new st(1,0,We,1,0,0)}},st.prototype.toString=function(g){return this.join(" ")},st.prototype.inversed=function(){var g=this.sx,A=this.shy,H=this.shx,X=this.sy,he=this.tx,Le=this.ty,Te=1/(g*X-A*H),We=X*Te,Je=-A*Te,ct=-H*Te,vt=g*Te;return new st(We,Je,ct,vt,-We*he-ct*Le,-Je*he-vt*Le)},st.prototype.applyToPoint=function(g){var A=g.x*this.sx+g.y*this.shx+this.tx,H=g.x*this.shy+g.y*this.sy+this.ty;return new qs(A,H)},st.prototype.applyToRectangle=function(g){var A=this.applyToPoint(g),H=this.applyToPoint(new qs(g.x+g.w,g.y+g.h));return new $a(A.x,A.y,H.x-A.x,H.y-A.y)},st.prototype.clone=function(){var g=this.sx,A=this.shy,H=this.shx,X=this.sy,he=this.tx,Le=this.ty;return new st(g,A,H,X,he,Le)},d.Matrix=st;var js=d.matrixMult=function(g,A){return A.multiply(g)},Fs=new st(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Fs;var jn=function(g,A){if(!Wt[g]){var H=(A instanceof xo?"Sh":"P")+(Object.keys(et).length+1).toString(10);A.id=H,Wt[g]=H,et[H]=A,Rt.publish("addPattern",A)}};d.ShadingPattern=xo,d.TilingPattern=ga,d.addShadingPattern=function(g,A){return C("addShadingPattern()"),jn(g,A),this},d.beginTilingPattern=function(g){C("beginTilingPattern()"),Ha(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},d.endTilingPattern=function(g,A){C("endTilingPattern()"),A.stream=Ae[U].join(`
`),jn(g,A),Rt.publish("endTilingPattern",A),ds.pop().restore()};var Fn,rr=d.__private__.newObject=function(){var g=Pr();return Cr(g,!0),g},Pr=d.__private__.newObjectDeferred=function(){return ne++,$[ne]=function(){return Q},ne},Cr=function(g,A){return A=typeof A=="boolean"&&A,$[g]=Q,A&&E(g+" 0 obj"),g},Vi=d.__private__.newAdditionalObject=function(){var g={objId:Pr(),content:""};return fe.push(g),g},hi=Pr(),Gn=Pr(),ps=d.__private__.decodeColorString=function(g){var A=g.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length!==5||A[4]!=="k"&&A[4]!=="K"||(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var H=parseFloat(A[0]);A=[H,H,H,"r"]}for(var X="#",he=0;he<3;he++)X+=("0"+Math.floor(255*parseFloat(A[he])).toString(16)).slice(-2);return X},Kn=d.__private__.encodeColorString=function(g){var A;typeof g=="string"&&(g={ch1:g});var H=g.ch1,X=g.ch2,he=g.ch3,Le=g.ch4,Te=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof H=="string"&&H.charAt(0)!=="#"){var We=new $m(H);if(We.ok)H=We.toHex();else if(!/^\d*\.?\d*$/.test(H))throw new Error('Invalid color "'+H+'" passed to jsPDF.encodeColorString.')}if(typeof H=="string"&&/^#[0-9A-Fa-f]{3}$/.test(H)&&(H="#"+H[1]+H[1]+H[2]+H[2]+H[3]+H[3]),typeof H=="string"&&/^#[0-9A-Fa-f]{6}$/.test(H)){var Je=parseInt(H.substr(1),16);H=Je>>16&255,X=Je>>8&255,he=255&Je}if(X===void 0||Le===void 0&&H===X&&X===he)A=typeof H=="string"?H+" "+Te[0]:g.precision===2?L(H/255)+" "+Te[0]:O(H/255)+" "+Te[0];else if(Le===void 0||Ut(Le)==="object"){if(Le&&!isNaN(Le.a)&&Le.a===0)return["1.","1.","1.",Te[1]].join(" ");A=typeof H=="string"?[H,X,he,Te[1]].join(" "):g.precision===2?[L(H/255),L(X/255),L(he/255),Te[1]].join(" "):[O(H/255),O(X/255),O(he/255),Te[1]].join(" ")}else A=typeof H=="string"?[H,X,he,Le,Te[2]].join(" "):g.precision===2?[L(H),L(X),L(he),L(Le),Te[2]].join(" "):[O(H),O(X),O(he),O(Le),Te[2]].join(" ");return A},Jn=d.__private__.getFilters=function(){return o},Dn=d.__private__.putStream=function(g){var A=(g=g||{}).data||"",H=g.filters||Jn(),X=g.alreadyAppliedFilters||[],he=g.addLength1||!1,Le=A.length,Te=g.objectId,We=function(Sr){return Sr};if(h!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(We=_r.encryptor(Te,0));var Je={};H===!0&&(H=["FlateEncode"]);var ct=g.additionalKeyValues||[],vt=(Je=Ze.API.processDataByFilters!==void 0?Ze.API.processDataByFilters(A,H):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(X)?X.join(" "):X.toString());if(Je.data.length!==0&&(ct.push({key:"Length",value:Je.data.length}),he===!0&&ct.push({key:"Length1",value:Le})),vt.length!=0)if(vt.split("/").length-1==1)ct.push({key:"Filter",value:vt});else{ct.push({key:"Filter",value:"["+vt+"]"});for(var Lt=0;Lt<ct.length;Lt+=1)if(ct[Lt].key==="DecodeParms"){for(var er=[],yr=0;yr<Je.reverseChain.split("/").length-1;yr+=1)er.push("null");er.push(ct[Lt].value),ct[Lt].value="["+er.join(" ")+"]"}}E("<<");for(var Vt=0;Vt<ct.length;Vt++)E("/"+ct[Vt].key+" "+ct[Vt].value);E(">>"),Je.data.length!==0&&(E("stream"),E(We(Je.data)),E("endstream"))},Gi=d.__private__.putPage=function(g){var A=g.number,H=g.data,X=g.objId,he=g.contentsObjId;Cr(X,!0),E("<</Type /Page"),E("/Parent "+g.rootDictionaryObjId+" 0 R"),E("/Resources "+g.resourceDictionaryObjId+" 0 R"),E("/MediaBox ["+parseFloat(J(g.mediaBox.bottomLeftX))+" "+parseFloat(J(g.mediaBox.bottomLeftY))+" "+J(g.mediaBox.topRightX)+" "+J(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&E("/CropBox ["+J(g.cropBox.bottomLeftX)+" "+J(g.cropBox.bottomLeftY)+" "+J(g.cropBox.topRightX)+" "+J(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&E("/BleedBox ["+J(g.bleedBox.bottomLeftX)+" "+J(g.bleedBox.bottomLeftY)+" "+J(g.bleedBox.topRightX)+" "+J(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&E("/TrimBox ["+J(g.trimBox.bottomLeftX)+" "+J(g.trimBox.bottomLeftY)+" "+J(g.trimBox.topRightX)+" "+J(g.trimBox.topRightY)+"]"),g.artBox!==null&&E("/ArtBox ["+J(g.artBox.bottomLeftX)+" "+J(g.artBox.bottomLeftY)+" "+J(g.artBox.topRightX)+" "+J(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&E("/UserUnit "+g.userUnit),Rt.publish("putPage",{objId:X,pageContext:nt[A],pageNumber:A,page:H}),E("/Contents "+he+" 0 R"),E(">>"),E("endobj");var Le=H.join(`
`);return R===T&&(Le+=`
Q`),Cr(he,!0),Dn({data:Le,filters:Jn(),objectId:he}),E("endobj"),X},gs=d.__private__.putPages=function(){var g,A,H=[];for(g=1;g<=xt;g++)nt[g].objId=Pr(),nt[g].contentsObjId=Pr();for(g=1;g<=xt;g++)H.push(Gi({number:g,data:Ae[g],objId:nt[g].objId,contentsObjId:nt[g].contentsObjId,mediaBox:nt[g].mediaBox,cropBox:nt[g].cropBox,bleedBox:nt[g].bleedBox,trimBox:nt[g].trimBox,artBox:nt[g].artBox,userUnit:nt[g].userUnit,rootDictionaryObjId:hi,resourceDictionaryObjId:Gn}));Cr(hi,!0),E("<</Type /Pages");var X="/Kids [";for(A=0;A<xt;A++)X+=H[A]+" 0 R ";E(X+"]"),E("/Count "+xt),E(">>"),E("endobj"),Rt.publish("postPutPages")},Ki=function(g){Rt.publish("putFont",{font:g,out:E,newObject:rr,putStream:Dn}),g.isAlreadyPutted!==!0&&(g.objectNumber=rr(),E("<<"),E("/Type /Font"),E("/BaseFont /"+da(g.postScriptName)),E("/Subtype /Type1"),typeof g.encoding=="string"&&E("/Encoding /"+g.encoding),E("/FirstChar 32"),E("/LastChar 255"),E(">>"),E("endobj"))},Bo=function(g){g.objectNumber=rr();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[J(g.x),J(g.y),J(g.x+g.width),J(g.y+g.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var H=g.pages[1].join(`
`);Dn({data:H,additionalKeyValues:A,objectId:g.objectNumber}),E("endobj")},Uo=function(g,A){A||(A=21);var H=rr(),X=function(Te,We){var Je,ct=[],vt=1/(We-1);for(Je=0;Je<1;Je+=vt)ct.push(Je);if(ct.push(1),Te[0].offset!=0){var Lt={offset:0,color:Te[0].color};Te.unshift(Lt)}if(Te[Te.length-1].offset!=1){var er={offset:1,color:Te[Te.length-1].color};Te.push(er)}for(var yr="",Vt=0,Sr=0;Sr<ct.length;Sr++){for(Je=ct[Sr];Je>Te[Vt+1].offset;)Vt++;var wr=Te[Vt].offset,Ir=(Je-wr)/(Te[Vt+1].offset-wr),zs=Te[Vt].color,Xn=Te[Vt+1].color;yr+=Z(Math.round((1-Ir)*zs[0]+Ir*Xn[0]).toString(16))+Z(Math.round((1-Ir)*zs[1]+Ir*Xn[1]).toString(16))+Z(Math.round((1-Ir)*zs[2]+Ir*Xn[2]).toString(16))}return yr.trim()}(g.colors,A),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+A+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Dn({data:X,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:H}),E("endobj"),g.objectNumber=rr(),E("<< /ShadingType "+g.type),E("/ColorSpace /DeviceRGB");var Le="/Coords ["+J(parseFloat(g.coords[0]))+" "+J(parseFloat(g.coords[1]))+" ";g.type===2?Le+=J(parseFloat(g.coords[2]))+" "+J(parseFloat(g.coords[3])):Le+=J(parseFloat(g.coords[2]))+" "+J(parseFloat(g.coords[3]))+" "+J(parseFloat(g.coords[4]))+" "+J(parseFloat(g.coords[5])),E(Le+="]"),g.matrix&&E("/Matrix ["+g.matrix.toString()+"]"),E("/Function "+H+" 0 R"),E("/Extend [true true]"),E(">>"),E("endobj")},Mo=function(g,A){var H=Pr(),X=rr();A.push({resourcesOid:H,objectOid:X}),g.objectNumber=X;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+g.boundingBox.map(J).join(" ")+"]"}),he.push({key:"XStep",value:J(g.xStep)}),he.push({key:"YStep",value:J(g.yStep)}),he.push({key:"Resources",value:H+" 0 R"}),g.matrix&&he.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Dn({data:g.stream,additionalKeyValues:he,objectId:g.objectNumber}),E("endobj")},ch=function(g){for(var A in g.objectNumber=rr(),E("<<"),g)switch(A){case"opacity":E("/ca "+L(g[A]));break;case"stroke-opacity":E("/CA "+L(g[A]))}E(">>"),E("endobj")},Ia=function(g){Cr(g.resourcesOid,!0),E("<<"),E("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var A in E("/Font <<"),mt)mt.hasOwnProperty(A)&&(p===!1||p===!0&&v.hasOwnProperty(A))&&E("/"+A+" "+mt[A].objectNumber+" 0 R");E(">>")}(),function(){if(Object.keys(et).length>0){for(var A in E("/Shading <<"),et)et.hasOwnProperty(A)&&et[A]instanceof xo&&et[A].objectNumber>=0&&E("/"+A+" "+et[A].objectNumber+" 0 R");Rt.publish("putShadingPatternDict"),E(">>")}}(),function(A){if(Object.keys(et).length>0){for(var H in E("/Pattern <<"),et)et.hasOwnProperty(H)&&et[H]instanceof d.TilingPattern&&et[H].objectNumber>=0&&et[H].objectNumber<A&&E("/"+H+" "+et[H].objectNumber+" 0 R");Rt.publish("putTilingPatternDict"),E(">>")}}(g.objectOid),function(){if(Object.keys(at).length>0){var A;for(A in E("/ExtGState <<"),at)at.hasOwnProperty(A)&&at[A].objectNumber>=0&&E("/"+A+" "+at[A].objectNumber+" 0 R");Rt.publish("putGStateDict"),E(">>")}}(),function(){for(var A in E("/XObject <<"),$r)$r.hasOwnProperty(A)&&$r[A].objectNumber>=0&&E("/"+A+" "+$r[A].objectNumber+" 0 R");Rt.publish("putXobjectDict"),E(">>")}(),E(">>"),E("endobj")},rc=function(g){tt[g.fontName]=tt[g.fontName]||{},tt[g.fontName][g.fontStyle]=g.id},nc=function(g,A,H,X,he){var Le={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:g,fontName:A,fontStyle:H,encoding:X,isStandardFont:he||!1,metadata:{}};return Rt.publish("addFont",{font:Le,instance:this}),mt[Le.id]=Le,rc(Le),Le.id},Bn=d.__private__.pdfEscape=d.pdfEscape=function(g,A){return function(H,X){var he,Le,Te,We,Je,ct,vt,Lt,er;if(Te=(X=X||{}).sourceEncoding||"Unicode",Je=X.outputEncoding,(X.autoencode||Je)&&mt[Me].metadata&&mt[Me].metadata[Te]&&mt[Me].metadata[Te].encoding&&(We=mt[Me].metadata[Te].encoding,!Je&&mt[Me].encoding&&(Je=mt[Me].encoding),!Je&&We.codePages&&(Je=We.codePages[0]),typeof Je=="string"&&(Je=We[Je]),Je)){for(vt=!1,ct=[],he=0,Le=H.length;he<Le;he++)(Lt=Je[H.charCodeAt(he)])?ct.push(String.fromCharCode(Lt)):ct.push(H[he]),ct[he].charCodeAt(0)>>8&&(vt=!0);H=ct.join("")}for(he=H.length;vt===void 0&&he!==0;)H.charCodeAt(he-1)>>8&&(vt=!0),he--;if(!vt)return H;for(ct=X.noBOM?[]:[254,255],he=0,Le=H.length;he<Le;he++){if((er=(Lt=H.charCodeAt(he))>>8)>>8)throw new Error("Character at position "+he+" of string '"+H+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ct.push(er),ct.push(Lt-(er<<8))}return String.fromCharCode.apply(void 0,ct)}(g,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ja=d.__private__.beginPage=function(g){Ae[++xt]=[],nt[xt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},ic(xt),Y(Ae[U])},sc=function(g,A){var H,X,he;switch(r=A||r,typeof g=="string"&&(H=_(g.toLowerCase()),Array.isArray(H)&&(X=H[0],he=H[1])),Array.isArray(g)&&(X=g[0]*Qe,he=g[1]*Qe),isNaN(X)&&(X=s[0],he=s[1]),(X>14400||he>14400)&&($t.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),X=Math.min(14400,X),he=Math.min(14400,he)),s=[X,he],r.substr(0,1)){case"l":he>X&&(s=[he,X]);break;case"p":X>he&&(s=[he,X])}ja(s),ut(Ba),E(zo),Ma!==0&&E(Ma+" J"),qa!==0&&E(qa+" j"),Rt.publish("addPage",{pageNumber:xt})},Fa=function(g){g>0&&g<=xt&&(Ae.splice(g,1),nt.splice(g,1),xt--,U>xt&&(U=xt),this.setPage(U))},ic=function(g){g>0&&g<=xt&&(U=g)},oc=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Ae.length-1},ac=function(g,A,H){var X,he=void 0;return H=H||{},g=g!==void 0?g:mt[Me].fontName,A=A!==void 0?A:mt[Me].fontStyle,X=g.toLowerCase(),tt[X]!==void 0&&tt[X][A]!==void 0?he=tt[X][A]:tt[g]!==void 0&&tt[g][A]!==void 0?he=tt[g][A]:H.disableWarning===!1&&$t.warn("Unable to look up font label for font '"+g+"', '"+A+"'. Refer to getFontList() for available fonts."),he||H.noFallback||(he=tt.times[A])==null&&(he=tt.times.normal),he},ms=d.__private__.putInfo=function(){var g=rr(),A=function(X){return X};for(var H in h!==null&&(A=_r.encryptor(g,0)),E("<<"),E("/Producer ("+Bn(A("jsPDF "+Ze.version))+")"),$e)$e.hasOwnProperty(H)&&$e[H]&&E("/"+H.substr(0,1).toUpperCase()+H.substr(1)+" ("+Bn(A($e[H]))+")");E("/CreationDate ("+Bn(A(pe))+")"),E(">>"),E("endobj")},qo=d.__private__.putCatalog=function(g){var A=(g=g||{}).rootDictionaryObjId||hi;switch(rr(),E("<<"),E("/Type /Catalog"),E("/Pages "+A+" 0 R"),Se||(Se="fullwidth"),Se){case"fullwidth":E("/OpenAction [3 0 R /FitH null]");break;case"fullheight":E("/OpenAction [3 0 R /FitV null]");break;case"fullpage":E("/OpenAction [3 0 R /Fit]");break;case"original":E("/OpenAction [3 0 R /XYZ null null 1]");break;default:var H=""+Se;H.substr(H.length-1)==="%"&&(Se=parseInt(Se)/100),typeof Se=="number"&&E("/OpenAction [3 0 R /XYZ null null "+L(Se)+"]")}switch(De||(De="continuous"),De){case"continuous":E("/PageLayout /OneColumn");break;case"single":E("/PageLayout /SinglePage");break;case"two":case"twoleft":E("/PageLayout /TwoColumnLeft");break;case"tworight":E("/PageLayout /TwoColumnRight")}Ne&&E("/PageMode /"+Ne),Rt.publish("putCatalog"),E(">>"),E("endobj")},uh=d.__private__.putTrailer=function(){E("trailer"),E("<<"),E("/Size "+(ne+1)),E("/Root "+ne+" 0 R"),E("/Info "+(ne-1)+" 0 R"),h!==null&&E("/Encrypt "+_r.oid+" 0 R"),E("/ID [ <"+ue+"> <"+ue+"> ]"),E(">>")},vr=d.__private__.putHeader=function(){E("%PDF-"+y),E("%")},lc=d.__private__.putXRef=function(){var g="0000000000";E("xref"),E("0 "+(ne+1)),E("0000000000 65535 f ");for(var A=1;A<=ne;A++)typeof $[A]=="function"?E((g+$[A]()).slice(-10)+" 00000 n "):$[A]!==void 0?E((g+$[A]).slice(-10)+" 00000 n "):E("0000000000 00000 n ")},vs=d.__private__.buildDocument=function(){var g;ne=0,Q=0,ee=[],$=[],fe=[],hi=Pr(),Gn=Pr(),Y(ee),Rt.publish("buildDocument"),vr(),gs(),function(){Rt.publish("putAdditionalObjects");for(var H=0;H<fe.length;H++){var X=fe[H];Cr(X.objId,!0),E(X.content),E("endobj")}Rt.publish("postPutAdditionalObjects")}(),g=[],function(){for(var H in mt)mt.hasOwnProperty(H)&&(p===!1||p===!0&&v.hasOwnProperty(H))&&Ki(mt[H])}(),function(){var H;for(H in at)at.hasOwnProperty(H)&&ch(at[H])}(),function(){for(var H in $r)$r.hasOwnProperty(H)&&Bo($r[H])}(),function(H){var X;for(X in et)et.hasOwnProperty(X)&&(et[X]instanceof xo?Uo(et[X]):et[X]instanceof ga&&Mo(et[X],H))}(g),Rt.publish("putResources"),g.forEach(Ia),Ia({resourcesOid:Gn,objectOid:Number.MAX_SAFE_INTEGER}),Rt.publish("postPutResources"),h!==null&&(_r.oid=rr(),E("<<"),E("/Filter /Standard"),E("/V "+_r.v),E("/R "+_r.r),E("/U <"+_r.toHexString(_r.U)+">"),E("/O <"+_r.toHexString(_r.O)+">"),E("/P "+_r.P),E(">>"),E("endobj")),ms(),qo();var A=Q;return lc(),uh(),E("startxref"),E(""+A),E("%%EOF"),Y(Ae[U]),ee.join(`
`)},$o=d.__private__.getBlob=function(g){return new Blob([ye(g)],{type:"application/pdf"})},cc=d.output=d.__private__.output=(Fn=function(g,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",g){case void 0:return vs();case"save":d.save(A.filename);break;case"arraybuffer":return ye(vs());case"blob":return $o(vs());case"bloburi":case"bloburl":if(lt.URL!==void 0&&typeof lt.URL.createObjectURL=="function")return lt.URL&&lt.URL.createObjectURL($o(vs()))||void 0;$t.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var H="",X=vs();try{H=Ng(X)}catch{H=Ng(unescape(encodeURIComponent(X)))}return"data:application/pdf;filename="+A.filename+";base64,"+H;case"pdfobjectnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Le=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(he=A.pdfObjectUrl,Le="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+Le+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",We=lt.open();return We!==null&&We.document.write(Te),We}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(lt)==="[object Window]"){var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',ct=lt.open();if(ct!==null){ct.document.write(Je);var vt=this;ct.document.documentElement.querySelector("#pdfViewer").onload=function(){ct.document.title=A.filename,ct.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(vt.output("bloburl"))}}return ct}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(lt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Lt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',er=lt.open();if(er!==null&&(er.document.write(Lt),er.document.title=A.filename),er||typeof safari>"u")return er;break;case"datauri":case"dataurl":return lt.document.location.href=this.output("datauristring",A);default:return null}},Fn.foo=function(){try{return Fn.apply(this,arguments)}catch(H){var g=H.stack||"";~g.indexOf(" at ")&&(g=g.split(" at ")[1]);var A="Error in function "+g.split(`
`)[0].split("<")[0]+": "+H.message;if(!lt.console)throw new Error(A);lt.console.error(A,H),lt.alert&&alert(A)}},Fn.foo.bar=Fn,Fn.foo),Un=function(g){return Array.isArray(Wi)===!0&&Wi.indexOf(g)>-1};switch(n){case"pt":Qe=1;break;case"mm":Qe=72/25.4;break;case"cm":Qe=72/2.54;break;case"in":Qe=72;break;case"px":Qe=Un("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qe=12;break;case"ex":Qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Qe=n}var _r=null;_e(),re();var Ds=d.__private__.getPageInfo=d.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:nt[g].objId,pageNumber:g,pageContext:nt[g]}},uc=d.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in nt)if(nt[A].objId===g)break;return Ds(A)},hh=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:nt[U].objId,pageNumber:U,pageContext:nt[U]}};d.addPage=function(){return sc.apply(this,arguments),this},d.setPage=function(){return ic.apply(this,arguments),Y.call(this,Ae[U]),this},d.insertPage=function(g){return this.addPage(),this.movePage(U,g),this},d.movePage=function(g,A){var H,X;if(g>A){H=Ae[g],X=nt[g];for(var he=g;he>A;he--)Ae[he]=Ae[he-1],nt[he]=nt[he-1];Ae[A]=H,nt[A]=X,this.setPage(A)}else if(g<A){H=Ae[g],X=nt[g];for(var Le=g;Le<A;Le++)Ae[Le]=Ae[Le+1],nt[Le]=nt[Le+1];Ae[A]=H,nt[A]=X,this.setPage(A)}return this},d.deletePage=function(){return Fa.apply(this,arguments),this},d.__private__.text=d.text=function(g,A,H,X,he){var Le,Te,We,Je,ct,vt,Lt,er,yr,Vt=(X=X||{}).scope||this;if(typeof g=="number"&&typeof A=="number"&&(typeof H=="string"||Array.isArray(H))){var Sr=H;H=A,A=g,g=Sr}if(arguments[3]instanceof st==0?(We=arguments[4],Je=arguments[5],Ut(Lt=arguments[3])==="object"&&Lt!==null||(typeof We=="string"&&(Je=We,We=null),typeof Lt=="string"&&(Je=Lt,Lt=null),typeof Lt=="number"&&(We=Lt,Lt=null),X={flags:Lt,angle:We,align:Je})):(C("The transform parameter of text() with a Matrix value"),yr=he),isNaN(A)||isNaN(H)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return Vt;var wr,Ir="",zs=typeof X.lineHeightFactor=="number"?X.lineHeightFactor:Yi,Xn=Vt.internal.scaleFactor;function Ws(Ct){return Ct=Ct.split("	").join(Array(X.TabLen||9).join(" ")),Bn(Ct,Lt)}function Wa(Ct){for(var Mt,cr=Ct.concat(),Ar=[],Ks=cr.length;Ks--;)typeof(Mt=cr.shift())=="string"?Ar.push(Mt):Array.isArray(Ct)&&(Mt.length===1||Mt[1]===void 0&&Mt[2]===void 0)?Ar.push(Mt[0]):Ar.push([Mt[0],Mt[1],Mt[2]]);return Ar}function Vo(Ct,Mt){var cr;if(typeof Ct=="string")cr=Mt(Ct)[0];else if(Array.isArray(Ct)){for(var Ar,Ks,tl=Ct.concat(),Jo=[],_c=tl.length;_c--;)typeof(Ar=tl.shift())=="string"?Jo.push(Mt(Ar)[0]):Array.isArray(Ar)&&typeof Ar[0]=="string"&&(Ks=Mt(Ar[0],Ar[1],Ar[2]),Jo.push([Ks[0],Ks[1],Ks[2]]));cr=Jo}return cr}var fi=!1,eo=!0;if(typeof g=="string")fi=!0;else if(Array.isArray(g)){var to=g.concat();Te=[];for(var di,jr=to.length;jr--;)(typeof(di=to.shift())!="string"||Array.isArray(di)&&typeof di[0]!="string")&&(eo=!1);fi=eo}if(fi===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var ro=ce/Vt.internal.scaleFactor,no=ro*(zs-1);switch(X.baseline){case"bottom":H-=no;break;case"top":H+=ro-no;break;case"hanging":H+=ro-2*no;break;case"middle":H+=ro/2-no}if((vt=X.maxWidth||0)>0&&(typeof g=="string"?g=Vt.splitTextToSize(g,vt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Ct,Mt){return Ct.concat(Vt.splitTextToSize(Mt,vt))},[]))),Le={text:g,x:A,y:H,options:X,mutex:{pdfEscape:Bn,activeFontKey:Me,fonts:mt,activeFontSize:ce}},Rt.publish("preProcessText",Le),g=Le.text,We=(X=Le.options).angle,yr instanceof st==0&&We&&typeof We=="number"){We*=Math.PI/180,X.rotationDirection===0&&(We=-We),R===T&&(We=-We);var Va=Math.cos(We),Ga=Math.sin(We);yr=new st(Va,Ga,-Ga,Va,0,0)}else We&&We instanceof st&&(yr=We);R!==T||yr||(yr=Fs),(ct=X.charSpace||Ms)!==void 0&&(Ir+=J(z(ct))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(er=X.horizontalScale)!==void 0&&(Ir+=J(100*er)+` Tz
`),X.lang;var tn=-1,Vs=X.renderingMode!==void 0?X.renderingMode:X.stroke,Go=Vt.internal.getCurrentPageInfo().pageContext;switch(Vs){case 0:case!1:case"fill":tn=0;break;case 1:case!0:case"stroke":tn=1;break;case 2:case"fillThenStroke":tn=2;break;case 3:case"invisible":tn=3;break;case 4:case"fillAndAddForClipping":tn=4;break;case 5:case"strokeAndAddPathForClipping":tn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":tn=6;break;case 7:case"addToPathForClipping":tn=7}var wc=Go.usedRenderingMode!==void 0?Go.usedRenderingMode:-1;tn!==-1?Ir+=tn+` Tr
`:wc!==-1&&(Ir+=`0 Tr
`),tn!==-1&&(Go.usedRenderingMode=tn),Je=X.align||"left";var Mn,so=ce*zs,Ka=Vt.internal.pageSize.getWidth(),Ja=mt[Me];ct=X.charSpace||Ms,vt=X.maxWidth||0,Lt=Object.assign({autoencode:!0,noBOM:!0},X.flags);var pi=[],io=function(Ct){return Vt.getStringUnitWidth(Ct,{font:Ja,charSpace:ct,fontSize:ce,doKerning:!1})*ce/Xn};if(Object.prototype.toString.call(g)==="[object Array]"){var mn;Te=Wa(g),Je!=="left"&&(Mn=Te.map(io));var vn,gi=0;if(Je==="right"){A-=Mn[0],g=[],jr=Te.length;for(var Gs=0;Gs<jr;Gs++)Gs===0?(vn=Bs(A),mn=Us(H)):(vn=z(gi-Mn[Gs]),mn=-so),g.push([Te[Gs],vn,mn]),gi=Mn[Gs]}else if(Je==="center"){A-=Mn[0]/2,g=[],jr=Te.length;for(var mi=0;mi<jr;mi++)mi===0?(vn=Bs(A),mn=Us(H)):(vn=z((gi-Mn[mi])/2),mn=-so),g.push([Te[mi],vn,mn]),gi=Mn[mi]}else if(Je==="left"){g=[],jr=Te.length;for(var Ya=0;Ya<jr;Ya++)g.push(Te[Ya])}else if(Je==="justify"&&Ja.encoding==="Identity-H"){g=[],jr=Te.length,vt=vt!==0?vt:Ka;for(var Ko=0,lr=0;lr<jr;lr++)if(mn=lr===0?Us(H):-so,vn=lr===0?Bs(A):Ko,lr<jr-1){var bc=z((vt-Mn[lr])/(Te[lr].split(" ").length-1)),ws=Te[lr].split(" ");g.push([ws[0]+" ",vn,mn]),Ko=0;for(var bs=1;bs<ws.length;bs++){var Xa=(io(ws[bs-1]+" "+ws[bs])-io(ws[bs]))*Xn+bc;bs==ws.length-1?g.push([ws[bs],Xa,0]):g.push([ws[bs]+" ",Xa,0]),Ko-=Xa}}else g.push([Te[lr],vn,mn]);g.push(["",Ko,0])}else{if(Je!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],jr=Te.length,vt=vt!==0?vt:Ka,lr=0;lr<jr;lr++){mn=lr===0?Us(H):-so,vn=lr===0?Bs(A):0;var Za=Te[lr].split(" ").length-1,Qa=Za>0?(vt-Mn[lr])/Za:0;lr<jr-1?pi.push(J(z(Qa))):pi.push(0),g.push([Te[lr],vn,mn])}}}(typeof X.R2L=="boolean"?X.R2L:Ie)===!0&&(g=Vo(g,function(Ct,Mt,cr){return[Ct.split("").reverse().join(""),Mt,cr]})),Le={text:g,x:A,y:H,options:X,mutex:{pdfEscape:Bn,activeFontKey:Me,fonts:mt,activeFontSize:ce}},Rt.publish("postProcessText",Le),g=Le.text,wr=Le.mutex.isHex||!1;var el=mt[Me].encoding;el!=="WinAnsiEncoding"&&el!=="StandardEncoding"||(g=Vo(g,function(Ct,Mt,cr){return[Ws(Ct),Mt,cr]})),Te=Wa(g),g=[];for(var vi,yi,wi,oo=Array.isArray(Te[0])?1:0,bi="",ao=function(Ct,Mt,cr){var Ar="";return cr instanceof st?(cr=typeof X.angle=="number"?js(cr,new st(1,0,0,1,Ct,Mt)):js(new st(1,0,0,1,Ct,Mt),cr),R===T&&(cr=js(new st(1,0,0,-1,0,0),cr)),Ar=cr.join(" ")+` Tm
`):Ar=J(Ct)+" "+J(Mt)+` Td
`,Ar},qn=0;qn<Te.length;qn++){switch(bi="",oo){case 1:wi=(wr?"<":"(")+Te[qn][0]+(wr?">":")"),vi=parseFloat(Te[qn][1]),yi=parseFloat(Te[qn][2]);break;case 0:wi=(wr?"<":"(")+Te[qn]+(wr?">":")"),vi=Bs(A),yi=Us(H)}pi!==void 0&&pi[qn]!==void 0&&(bi=pi[qn]+` Tw
`),qn===0?g.push(bi+ao(vi,yi,yr)+wi):oo===0?g.push(bi+wi):oo===1&&g.push(bi+ao(vi,yi,yr)+wi)}g=oo===0?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var _s=`BT
/`;return _s+=Me+" "+ce+` Tf
`,_s+=J(ce*zs)+` TL
`,_s+=Xi+`
`,_s+=Ir,_s+=g,E(_s+="ET"),v[Me]=!0,Vt};var fh=d.__private__.clip=d.clip=function(g){return E(g==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return fh("evenodd")},d.__private__.discardPath=d.discardPath=function(){return E("n"),this};var ys=d.__private__.isValidStyle=function(g){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(A=!0),A};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(g){return ys(g)&&(c=g),this};var hc=d.__private__.getStyle=d.getStyle=function(g){var A=c;switch(g){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=g}return A},fc=d.close=function(){return E("h"),this};d.stroke=function(){return E("S"),this},d.fill=function(g){return Ho("f",g),this},d.fillEvenOdd=function(g){return Ho("f*",g),this},d.fillStroke=function(g){return Ho("B",g),this},d.fillStrokeEvenOdd=function(g){return Ho("B*",g),this};var Ho=function(g,A){Ut(A)==="object"?ph(A,g):E(g)},Ji=function(g){g===null||R===T&&g===void 0||(g=hc(g),E(g))};function dh(g,A,H,X,he){var Le=new ga(A||this.boundingBox,H||this.xStep,X||this.yStep,this.gState,he||this.matrix);Le.stream=this.stream;var Te=g+"$$"+this.cloneIndex+++"$$";return jn(Te,Le),Le}var ph=function(g,A){var H=Wt[g.key],X=et[H];if(X instanceof xo)E("q"),E(gh(A)),X.gState&&d.setGState(X.gState),E(g.matrix.toString()+" cm"),E("/"+H+" sh"),E("Q");else if(X instanceof ga){var he=new st(1,0,0,-1,0,Qi());g.matrix&&(he=he.multiply(g.matrix||Fs),H=dh.call(X,g.key,g.boundingBox,g.xStep,g.yStep,he).id),E("q"),E("/Pattern cs"),E("/"+H+" scn"),X.gState&&d.setGState(X.gState),E(A),E("Q")}},gh=function(g){switch(g){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Da=d.moveTo=function(g,A){return E(J(z(g))+" "+J(W(A))+" m"),this},dc=d.lineTo=function(g,A){return E(J(z(g))+" "+J(W(A))+" l"),this},Yn=d.curveTo=function(g,A,H,X,he,Le){return E([J(z(g)),J(W(A)),J(z(H)),J(W(X)),J(z(he)),J(W(Le)),"c"].join(" ")),this};d.__private__.line=d.line=function(g,A,H,X,he){if(isNaN(g)||isNaN(A)||isNaN(H)||isNaN(X)||!ys(he))throw new Error("Invalid arguments passed to jsPDF.line");return R===j?this.lines([[H-g,X-A]],g,A,[1,1],he||"S"):this.lines([[H-g,X-A]],g,A,[1,1]).stroke()},d.__private__.lines=d.lines=function(g,A,H,X,he,Le){var Te,We,Je,ct,vt,Lt,er,yr,Vt,Sr,wr,Ir;if(typeof g=="number"&&(Ir=H,H=A,A=g,g=Ir),X=X||[1,1],Le=Le||!1,isNaN(A)||isNaN(H)||!Array.isArray(g)||!Array.isArray(X)||!ys(he)||typeof Le!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Da(A,H),Te=X[0],We=X[1],ct=g.length,Sr=A,wr=H,Je=0;Je<ct;Je++)(vt=g[Je]).length===2?(Sr=vt[0]*Te+Sr,wr=vt[1]*We+wr,dc(Sr,wr)):(Lt=vt[0]*Te+Sr,er=vt[1]*We+wr,yr=vt[2]*Te+Sr,Vt=vt[3]*We+wr,Sr=vt[4]*Te+Sr,wr=vt[5]*We+wr,Yn(Lt,er,yr,Vt,Sr,wr));return Le&&fc(),Ji(he),this},d.path=function(g){for(var A=0;A<g.length;A++){var H=g[A],X=H.c;switch(H.op){case"m":Da(X[0],X[1]);break;case"l":dc(X[0],X[1]);break;case"c":Yn.apply(this,X);break;case"h":fc()}}return this},d.__private__.rect=d.rect=function(g,A,H,X,he){if(isNaN(g)||isNaN(A)||isNaN(H)||isNaN(X)||!ys(he))throw new Error("Invalid arguments passed to jsPDF.rect");return R===j&&(X=-X),E([J(z(g)),J(W(A)),J(z(H)),J(z(X)),"re"].join(" ")),Ji(he),this},d.__private__.triangle=d.triangle=function(g,A,H,X,he,Le,Te){if(isNaN(g)||isNaN(A)||isNaN(H)||isNaN(X)||isNaN(he)||isNaN(Le)||!ys(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[H-g,X-A],[he-H,Le-X],[g-he,A-Le]],g,A,[1,1],Te,!0),this},d.__private__.roundedRect=d.roundedRect=function(g,A,H,X,he,Le,Te){if(isNaN(g)||isNaN(A)||isNaN(H)||isNaN(X)||isNaN(he)||isNaN(Le)||!ys(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var We=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*H),Le=Math.min(Le,.5*X),this.lines([[H-2*he,0],[he*We,0,he,Le-Le*We,he,Le],[0,X-2*Le],[0,Le*We,-he*We,Le,-he,Le],[2*he-H,0],[-he*We,0,-he,-Le*We,-he,-Le],[0,2*Le-X],[0,-Le*We,he*We,-Le,he,-Le]],g+he,A,[1,1],Te,!0),this},d.__private__.ellipse=d.ellipse=function(g,A,H,X,he){if(isNaN(g)||isNaN(A)||isNaN(H)||isNaN(X)||!ys(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Le=4/3*(Math.SQRT2-1)*H,Te=4/3*(Math.SQRT2-1)*X;return Da(g+H,A),Yn(g+H,A-Te,g+Le,A-X,g,A-X),Yn(g-Le,A-X,g-H,A-Te,g-H,A),Yn(g-H,A+Te,g-Le,A+X,g,A+X),Yn(g+Le,A+X,g+H,A+Te,g+H,A),Ji(he),this},d.__private__.circle=d.circle=function(g,A,H,X){if(isNaN(g)||isNaN(A)||isNaN(H)||!ys(X))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,A,H,H,X)},d.setFont=function(g,A,H){return H&&(A=ie(A,H)),Me=ac(g,A,{disableWarning:!1}),this};var mh=d.__private__.getFont=d.getFont=function(){return mt[ac.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var g,A,H={};for(g in tt)if(tt.hasOwnProperty(g))for(A in H[g]=[],tt[g])tt[g].hasOwnProperty(A)&&H[g].push(A);return H},d.addFont=function(g,A,H,X,he){var Le=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Le.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&Le.indexOf(arguments[3])==-1&&(H=ie(H,X)),nc.call(this,g,A,H,he=he||"Identity-H")};var Yi,Ba=t.lineWidth||.200025,vh=d.__private__.getLineWidth=d.getLineWidth=function(){return Ba},ut=d.__private__.setLineWidth=d.setLineWidth=function(g){return Ba=g,E(J(z(g))+" w"),this};d.__private__.setLineDash=Ze.API.setLineDash=Ze.API.setLineDashPattern=function(g,A){if(g=g||[],A=A||0,isNaN(A)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(H){return J(z(H))}).join(" "),A=J(z(A)),E("["+g+"] "+A+" d"),this};var yh=d.__private__.getLineHeight=d.getLineHeight=function(){return ce*Yi};d.__private__.getLineHeight=d.getLineHeight=function(){return ce*Yi};var wh=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(Yi=g),this},bh=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Yi};wh(t.lineHeight);var Bs=d.__private__.getHorizontalCoordinate=function(g){return z(g)},Us=d.__private__.getVerticalCoordinate=function(g){return R===T?g:nt[U].mediaBox.topRightY-nt[U].mediaBox.bottomLeftY-z(g)},_h=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(g){return J(Bs(g))},Sh=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(g){return J(Us(g))},zo=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return ps(zo)},d.__private__.setStrokeColor=d.setDrawColor=function(g,A,H,X){return zo=Kn({ch1:g,ch2:A,ch3:H,ch4:X,pdfColorType:"draw",precision:2}),E(zo),this};var Ua=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return ps(Ua)},d.__private__.setFillColor=d.setFillColor=function(g,A,H,X){return Ua=Kn({ch1:g,ch2:A,ch3:H,ch4:X,pdfColorType:"fill",precision:2}),E(Ua),this};var Xi=t.textColor||"0 g",Ah=d.__private__.getTextColor=d.getTextColor=function(){return ps(Xi)};d.__private__.setTextColor=d.setTextColor=function(g,A,H,X){return Xi=Kn({ch1:g,ch2:A,ch3:H,ch4:X,pdfColorType:"text",precision:3}),this};var Ms=t.charSpace,xh=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ms||0)};d.__private__.setCharSpace=d.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ms=g,this};var Ma=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(g){var A=d.CapJoinStyles[g];if(A===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ma=A,E(A+" J"),this};var qa=0;d.__private__.setLineJoin=d.setLineJoin=function(g){var A=d.CapJoinStyles[g];if(A===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return qa=A,E(A+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return E(J(z(g))+" M"),this},d.GState=Iu,d.setGState=function(g){(g=typeof g=="string"?at[ft[g]]:pc(null,g)).equals(Zt)||(E("/"+g.id+" gs"),Zt=g)};var pc=function(g,A){if(!g||!ft[g]){var H=!1;for(var X in at)if(at.hasOwnProperty(X)&&at[X].equals(A)){H=!0;break}if(H)A=at[X];else{var he="GS"+(Object.keys(at).length+1).toString(10);at[he]=A,A.id=he}return g&&(ft[g]=A.id),Rt.publish("addGState",A),A}};d.addGState=function(g,A){return pc(g,A),this},d.saveGraphicsState=function(){return E("q"),Et.push({key:Me,size:ce,color:Xi}),this},d.restoreGraphicsState=function(){E("Q");var g=Et.pop();return Me=g.key,ce=g.size,Xi=g.color,Zt=null,this},d.setCurrentTransformationMatrix=function(g){return E(g.toString()+" cm"),this},d.comment=function(g){return E("#"+g),this};var qs=function(g,A){var H=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(Le){isNaN(Le)||(H=parseFloat(Le))}});var X=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return X},set:function(Le){isNaN(Le)||(X=parseFloat(Le))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(Le){he=Le.toString()}}),this},$a=function(g,A,H,X){qs.call(this,g,A),this.type="rect";var he=H||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Te){isNaN(Te)||(he=parseFloat(Te))}});var Le=X||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Le},set:function(Te){isNaN(Te)||(Le=parseFloat(Te))}}),this},Wo=function(){this.page=xt,this.currentPage=U,this.pages=Ae.slice(0),this.pagesContext=nt.slice(0),this.x=qe,this.y=Ot,this.matrix=St,this.width=za(U),this.height=mc(U),this.outputDestination=B,this.id="",this.objectNumber=-1};Wo.prototype.restore=function(){xt=this.page,U=this.currentPage,nt=this.pagesContext,Ae=this.pages,qe=this.x,Ot=this.y,St=this.matrix,gc(U,this.width),$s(U,this.height),B=this.outputDestination};var Ha=function(g,A,H,X,he){ds.push(new Wo),xt=U=0,Ae=[],qe=g,Ot=A,St=he,ja([H,X])};for(var Zi in d.beginFormObject=function(g,A,H,X,he){return Ha(g,A,H,X,he),this},d.endFormObject=function(g){return function(A){if(Is[A])ds.pop().restore();else{var H=new Wo,X="Xo"+(Object.keys($r).length+1).toString(10);H.id=X,Is[A]=X,$r[X]=H,Rt.publish("addFormObject",H),ds.pop().restore()}}(g),this},d.doFormObject=function(g,A){var H=$r[Is[g]];return E("q"),E(A.toString()+" cm"),E("/"+H.id+" Do"),E("Q"),this},d.getFormObject=function(g){var A=$r[Is[g]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},d.save=function(g,A){return g=g||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(wo($o(vs()),g),typeof wo.unload=="function"&&lt.setTimeout&&setTimeout(wo.unload,911),this):new Promise(function(H,X){try{var he=wo($o(vs()),g);typeof wo.unload=="function"&&lt.setTimeout&&setTimeout(wo.unload,911),H(he)}catch(Le){X(Le.message)}})},Ze.API)Ze.API.hasOwnProperty(Zi)&&(Zi==="events"&&Ze.API.events.length?function(g,A){var H,X,he;for(he=A.length-1;he!==-1;he--)H=A[he][0],X=A[he][1],g.subscribe.apply(g,[H].concat(typeof X=="function"?[X]:X))}(Rt,Ze.API.events):d[Zi]=Ze.API[Zi]);function za(g){return nt[g].mediaBox.topRightX-nt[g].mediaBox.bottomLeftX}function gc(g,A){nt[g].mediaBox.topRightX=A+nt[g].mediaBox.bottomLeftX}function mc(g){return nt[g].mediaBox.topRightY-nt[g].mediaBox.bottomLeftY}function $s(g,A){nt[g].mediaBox.topRightY=A+nt[g].mediaBox.bottomLeftY}var Hs=d.getPageWidth=function(g){return za(g=g||U)/Qe},vc=d.setPageWidth=function(g,A){gc(g,A*Qe)},Qi=d.getPageHeight=function(g){return mc(g=g||U)/Qe},yc=d.setPageHeight=function(g,A){$s(g,A*Qe)};return d.internal={pdfEscape:Bn,getStyle:hc,getFont:mh,getFontSize:me,getCharSpace:xh,getTextColor:Ah,getLineHeight:yh,getLineHeightFactor:bh,getLineWidth:vh,write:le,getHorizontalCoordinate:Bs,getVerticalCoordinate:Us,getCoordinateString:_h,getVerticalCoordinateString:Sh,collections:{},newObject:rr,newAdditionalObject:Vi,newObjectDeferred:Pr,newObjectDeferredBegin:Cr,getFilters:Jn,putStream:Dn,events:Rt,scaleFactor:Qe,pageSize:{getWidth:function(){return Hs(U)},setWidth:function(g){vc(U,g)},getHeight:function(){return Qi(U)},setHeight:function(g){yc(U,g)}},encryptionOptions:h,encryption:_r,getEncryptor:function(g){return h!==null?_r.encryptor(g,0):function(A){return A}},output:cc,getNumberOfPages:oc,get pages(){return Ae},out:E,f2:L,f3:O,getPageInfo:Ds,getPageInfoByObjId:uc,getCurrentPageInfo:hh,getPDFVersion:w,Point:qs,Rectangle:$a,Matrix:st,hasHotfix:Un},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Hs(U)},set:function(g){vc(U,g)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Qi(U)},set:function(g){yc(U,g)},enumerable:!0,configurable:!0}),(function(g){for(var A=0,H=Ee.length;A<H;A++){var X=nc.call(this,g[A][0],g[A][1],g[A][2],Ee[A][3],!0);p===!1&&(v[X]=!0);var he=g[A][0].split("-");rc({id:X,fontName:he[0],fontStyle:he[1]||""})}Rt.publish("addFonts",{fonts:mt,dictionary:tt})}).call(d,Ee),Me="F1",sc(s,r),Rt.publish("initialized"),d}fa.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},fa.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fa.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},fa.prototype.processOwnerPassword=function(t,e){return Nd(Ed(e).substr(0,5),t)},fa.prototype.encryptor=function(t,e){var r=Ed(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return Nd(r,n)}},Iu.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ut(t)!==Ut(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ze.API={events:[]},Ze.version="4.0.0";var or=Ze.API,cp=1,Do=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ia=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(t){return t.toFixed(2)},Oi=function(t){return t.toFixed(5)};or.__acroform__={};var gn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Og=function(t){return t*cp},Es=function(t){var e=new Vm,r=ze.internal.getHeight(t)||0,n=ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ht(n)),Number(ht(r))],e},Zx=or.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Qx=or.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},eE=or.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},fr=or.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eE(t,e-1)},dr=or.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Zx(t,e-1)},pr=or.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Qx(t,e-1)},tE=or.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=r(s)||0,l.lowerLeft_Y=n(i+a)||0,l.upperRight_X=r(s+o)||0,l.upperRight_Y=n(i)||0,[Number(ht(l.lowerLeft_X)),Number(ht(l.lowerLeft_Y)),Number(ht(l.upperRight_X)),Number(ht(l.upperRight_Y))]},rE=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=kd(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+ht(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Es(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},kd=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(L){return L.split(`
`)}):s.map(function(L){return[L]});var i=r,o=ze.internal.getHeight(t)||0;o=o<0?-o:o;var a=ze.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(L,O,z){if(L+1<s.length){var W=O+" "+s[L+1][0];return Qc(W,t,z).width<=a-4}return!1};i++;e:for(;i>0;){e="",i--;var c,h,p=Qc("3",t,i).height,v=t.multiline?o-i:(o-p)/2,d=v+=2,y=0,w=0,S=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+Qc(e,t,i=12).width+", FieldWidth:"+a+`
`;break}for(var _="",j=0,T=0;T<s.length;T++)if(s.hasOwnProperty(T)){var R=!1;if(s[T].length!==1&&S!==s[T].length-1){if((p+2)*(j+2)+2>o)continue e;_+=s[T][S],R=!0,w=T,T--}else{_=(_+=s[T][S]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var K=parseInt(T),se=l(K,_,i),ie=T>=s.length-1;if(se&&!ie){_+=" ",S=0;continue}if(se||ie){if(ie)w=K;else if(t.multiline&&(p+2)*(j+2)+2>o)continue e}else{if(!t.multiline||(p+2)*(j+2)+2>o)continue e;w=K}}for(var J="",C=y;C<=w;C++){var G=s[C];if(t.multiline){if(C===w){J+=G[S]+" ",S=(S+1)%G.length;continue}if(C===y){J+=G[G.length-1]+" ";continue}}J+=G[0]+" "}switch(J=J.substr(J.length-1)==" "?J.substr(0,J.length-1):J,h=Qc(J,t,i).width,t.textAlign){case"right":c=a-h-2;break;case"center":c=(a-h)/2;break;default:c=2}e+=ht(c)+" "+ht(d)+` Td
`,e+="("+Do(J)+`) Tj
`,e+=-ht(c)+` 0 Td
`,d=-(i+2),h=0,y=R?w:w+1,j++,_=""}break}return n.text=e,n.fontSize=i,n},Qc=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},nE={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sE=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},iE=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(hs.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(nE)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cp=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Gm,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&sE(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],l=[],c=a.Rect;if(a.Rect&&(a.Rect=tE(a.Rect,s)),s.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ze.createDefaultAppearanceStream(a),Ut(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=c,a.hasAppearanceStream&&!a.appearanceStreamContent){var h=rE(a);l.push({key:"AP",value:"<</N "+h+">>"}),s.internal.acroformPlugin.xForms.push(h)}if(a.appearanceStreamContent){var p="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var d=a.appearanceStreamContent[v];if(p+="/"+v+" ",p+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var y=d[o];typeof y=="function"&&(y=y.call(s,a)),p+="/"+o+" "+y+" ",s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y)}}else typeof(y=d)=="function"&&(y=y.call(s,a)),p+="/"+o+" "+y,s.internal.acroformPlugin.xForms.indexOf(y)>=0||s.internal.acroformPlugin.xForms.push(y);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}s.internal.putStream({additionalKeyValues:l,objectId:a.objId}),s.internal.out("endobj")}i&&function(w,S){for(var _ in w)if(w.hasOwnProperty(_)){var j=_,T=w[_];S.internal.newObjectDeferredBegin(T.objId,!0),Ut(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete w[j]}}(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Wm=or.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Ut(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+Do(n(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Cf=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Do(n(t))+")"},Ps=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ps.prototype.toString=function(){return this.objId+" 0 R"},Ps.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ps.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:Wm(s,this.objId,this.scope)}):s instanceof Ps?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var Vm=function(){Ps.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};gn(Vm,Ps);var Gm=function(){Ps.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Do(r(t))+")"}},set:function(r){t=r}})};gn(Gm,Ps);var hs=function t(){Ps.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!fr(e,3)},set:function(_){_?this.F=dr(e,3):this.F=pr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof ju)return;i="FieldObject"+t.FieldNum++}var _=function(j){return j};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Do(_(i))+")"},set:function(_){i=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(_){i=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/cp:c},set:function(_){c=_}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(_){h=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof ju||this instanceof Oo))return Cf(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Or==0?Cf(v,this.objId,this.scope):v},set:function(_){_=_.toString(),v=this instanceof Or==0?_.substr(0,1)==="("?ia(_.substr(1,_.length-2)):ia(_):_}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or==1?ia(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof Or==1?"/"+_:_}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Or==0?Cf(d,this.objId,this.scope):d},set:function(_){_=_.toString(),d=this instanceof Or==0?_.substr(0,1)==="("?ia(_.substr(1,_.length-2)):ia(_):_}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Or==1?ia(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof Or==1?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(_){_=!!_,w=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(_){y=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,1)},set:function(_){_?this.Ff=dr(this.Ff,1):this.Ff=pr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,2)},set:function(_){_?this.Ff=dr(this.Ff,2):this.Ff=pr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,3)},set:function(_){_?this.Ff=dr(this.Ff,3):this.Ff=pr(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');S=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(S){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};gn(hs,Ps);var xa=function(){hs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Wm(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=function(i,o,a){a||(a=1);for(var l,c=[];l=o.exec(i);)c.push(l[a]);return c}(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,18)},set:function(r){r?this.Ff=dr(this.Ff,18):this.Ff=pr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=dr(this.Ff,19):this.Ff=pr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,20)},set:function(r){r?(this.Ff=dr(this.Ff,20),e.sort()):this.Ff=pr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,22)},set:function(r){r?this.Ff=dr(this.Ff,22):this.Ff=pr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(r){r?this.Ff=dr(this.Ff,23):this.Ff=pr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,27)},set:function(r){r?this.Ff=dr(this.Ff,27):this.Ff=pr(this.Ff,27)}}),this.hasAppearanceStream=!1};gn(xa,hs);var Ea=function(){xa.call(this),this.fontName="helvetica",this.combo=!1};gn(Ea,xa);var Na=function(){Ea.call(this),this.combo=!0};gn(Na,Ea);var pu=function(){Na.call(this),this.edit=!0};gn(pu,Na);var Or=function(){hs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,15)},set:function(r){r?this.Ff=dr(this.Ff,15):this.Ff=pr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,16)},set:function(r){r?this.Ff=dr(this.Ff,16):this.Ff=pr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,17)},set:function(r){r?this.Ff=dr(this.Ff,17):this.Ff=pr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(r){r?this.Ff=dr(this.Ff,26):this.Ff=pr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Do(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Ut(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};gn(Or,hs);var gu=function(){Or.call(this),this.pushButton=!0};gn(gu,Or);var ka=function(){Or.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};gn(ka,Or);var ju=function(){var t,e;hs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(a){return a};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+Do(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Ut(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};gn(ju,hs),ka.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},ka.prototype.createOption=function(t){var e=new ju;return e.Parent=this,e.optionName=t,this.Kids.push(e),oE.call(this.scope,e),e};var mu=function(){Or.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};gn(mu,Or);var Oo=function(){hs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,13)},set:function(e){e?this.Ff=dr(this.Ff,13):this.Ff=pr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,21)},set:function(e){e?this.Ff=dr(this.Ff,21):this.Ff=pr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,23)},set:function(e){e?this.Ff=dr(this.Ff,23):this.Ff=pr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,24)},set:function(e){e?this.Ff=dr(this.Ff,24):this.Ff=pr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,25)},set:function(e){e?this.Ff=dr(this.Ff,25):this.Ff=pr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,26)},set:function(e){e?this.Ff=dr(this.Ff,26):this.Ff=pr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};gn(Oo,hs);var vu=function(){Oo.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!fr(this.Ff,14)},set:function(t){t?this.Ff=dr(this.Ff,14):this.Ff=pr(this.Ff,14)}}),this.password=!0};gn(vu,Oo);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Es(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=kd(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ht(ze.internal.getWidth(t))+" "+ht(ze.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ht(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Es(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=ze.internal.getHeight(t),o=ze.internal.getWidth(t),a=kd(t,t.caption);return s.push("1 g"),s.push("0 0 "+ht(o)+" "+ht(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+ht(o-1)+" "+ht(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+ht(a.fontSize)+" Tf "+n),s.push(a.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Es(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(ze.internal.getWidth(t))+" "+ht(ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ze.RadioButton.Circle.YesNormal,e.D[t]=ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Es(t);e.scope=t.scope;var r=[],n=ze.internal.getWidth(t)<=ze.internal.getHeight(t)?ze.internal.getWidth(t)/4:ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=ze.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Oi(ze.internal.getWidth(t)/2)+" "+Oi(ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Es(t);e.scope=t.scope;var r=[],n=ze.internal.getWidth(t)<=ze.internal.getHeight(t)?ze.internal.getWidth(t)/4:ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ze.internal.Bezier_C).toFixed(5)),o=Number((n*ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Oi(ze.internal.getWidth(t)/2)+" "+Oi(ze.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Oi(ze.internal.getWidth(t)/2)+" "+Oi(ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Es(t);e.scope=t.scope;var r=[],n=ze.internal.getWidth(t)<=ze.internal.getHeight(t)?ze.internal.getWidth(t)/4:ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Oi(ze.internal.getWidth(t)/2)+" "+Oi(ze.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ze.RadioButton.Cross.YesNormal,e.D[t]=ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Es(t);e.scope=t.scope;var r=[],n=ze.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ht(ze.internal.getWidth(t)-2)+" "+ht(ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ht(n.x1.x)+" "+ht(n.x1.y)+" m"),r.push(ht(n.x2.x)+" "+ht(n.x2.y)+" l"),r.push(ht(n.x4.x)+" "+ht(n.x4.y)+" m"),r.push(ht(n.x3.x)+" "+ht(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Es(t);e.scope=t.scope;var r=ze.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ht(ze.internal.getWidth(t))+" "+ht(ze.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ht(ze.internal.getWidth(t)-2)+" "+ht(ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ht(r.x1.x)+" "+ht(r.x1.y)+" m"),n.push(ht(r.x2.x)+" "+ht(r.x2.y)+" l"),n.push(ht(r.x4.x)+" "+ht(r.x4.y)+" m"),n.push(ht(r.x3.x)+" "+ht(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Es(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ht(ze.internal.getWidth(t))+" "+ht(ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ze.internal.getWidth(t),r=ze.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ze.internal.getWidth=function(t){var e=0;return Ut(t)==="object"&&(e=Og(t.Rect[2])),e},ze.internal.getHeight=function(t){var e=0;return Ut(t)==="object"&&(e=Og(t.Rect[3])),e};var oE=or.addField=function(t){if(iE(this,t),!(t instanceof hs))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};or.AcroFormChoiceField=xa,or.AcroFormListBox=Ea,or.AcroFormComboBox=Na,or.AcroFormEditBox=pu,or.AcroFormButton=Or,or.AcroFormPushButton=gu,or.AcroFormRadioButton=ka,or.AcroFormCheckBox=mu,or.AcroFormTextField=Oo,or.AcroFormPasswordField=vu,or.AcroFormAppearance=ze,or.AcroForm={ChoiceField:xa,ListBox:Ea,ComboBox:Na,EditBox:pu,Button:Or,PushButton:gu,RadioButton:ka,CheckBox:mu,TextField:Oo,PasswordField:vu,Appearance:ze},Ze.AcroForm={ChoiceField:xa,ListBox:Ea,ComboBox:Na,EditBox:pu,Button:Or,PushButton:gu,RadioButton:ka,CheckBox:mu,TextField:Oo,PasswordField:vu,Appearance:ze};Ze.AcroForm;function Km(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(L,O){var z,W,pe,ue,ae,re=r;if((O=O||r)==="RGBA"||L.data!==void 0&&L.data instanceof Uint8ClampedArray&&"height"in L&&"width"in L)return"RGBA";if(se(L))for(ae in n)for(pe=n[ae],z=0;z<pe.length;z+=1){for(ue=!0,W=0;W<pe[z].length;W+=1)if(pe[z][W]!==void 0&&pe[z][W]!==L[W]){ue=!1;break}if(ue===!0){re=ae;break}}else for(ae in n)for(pe=n[ae],z=0;z<pe.length;z+=1){for(ue=!0,W=0;W<pe[z].length;W+=1)if(pe[z][W]!==void 0&&pe[z][W]!==L.charCodeAt(W)){ue=!1;break}if(ue===!0){re=ae;break}}return re===r&&O!==r&&(re=O),re},i=function L(O){for(var z=this.internal.write,W=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);O.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:O.width}),ue.push({key:"Height",value:O.height}),O.colorSpace===_.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(O.palette.length/3-1)+" "+("sMask"in O&&O.sMask!==void 0?O.objectId+2:O.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+O.colorSpace}),O.colorSpace===_.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:O.bitsPerComponent}),"decodeParameters"in O&&O.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+O.decodeParameters+">>"}),"transparency"in O&&Array.isArray(O.transparency)&&O.transparency.length>0){for(var ae="",re=0,we=O.transparency.length;re<we;re++)ae+=O.transparency[re]+" "+O.transparency[re]+" ";ue.push({key:"Mask",value:"["+ae+"]"})}O.sMask!==void 0&&ue.push({key:"SMask",value:O.objectId+1+" 0 R"});var Ce=O.filter!==void 0?["/"+O.filter]:void 0;if(W({data:O.data,additionalKeyValues:ue,alreadyAppliedFilters:Ce,objectId:O.objectId}),z("endobj"),"sMask"in O&&O.sMask!==void 0){var _e,N=(_e=O.sMaskBitsPerComponent)!==null&&_e!==void 0?_e:O.bitsPerComponent,U={width:O.width,height:O.height,colorSpace:"DeviceGray",bitsPerComponent:N,data:O.sMask};"filter"in O&&(U.decodeParameters="/Predictor ".concat(O.predictor," /Colors 1 /BitsPerComponent ").concat(N," /Columns ").concat(O.width),U.filter=O.filter),L.call(this,U)}if(O.colorSpace===_.INDEXED){var V=this.internal.newObject();W({data:J(new Uint8Array(O.palette)),objectId:V}),z("endobj")}},o=function(){var L=this.internal.collections[e+"images"];for(var O in L)i.call(this,L[O])},a=function(){var L,O=this.internal.collections[e+"images"],z=this.internal.write;for(var W in O)z("/I"+(L=O[W]).index,L.objectId,"0","R")},l=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var L=this.internal.collections[e+"images"];return l.call(this),L},h=function(){return Object.keys(this.internal.collections[e+"images"]).length},p=function(L){return typeof t["process"+L.toUpperCase()]=="function"},v=function(L){return Ut(L)==="object"&&L.nodeType===1},d=function(L,O){if(L.nodeName==="IMG"&&L.hasAttribute("src")){var z=""+L.getAttribute("src");if(z.indexOf("data:image/")===0)return du(unescape(z).split("base64,").pop());var W=t.loadFile(z,!0);if(W!==void 0)return W}if(L.nodeName==="CANVAS"){if(L.width===0||L.height===0)throw new Error("Given canvas must have data. Canvas width: "+L.width+", height: "+L.height);var pe;switch(O){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;default:pe="image/jpeg"}return du(L.toDataURL(pe,1).split("base64,").pop())}},y=function(L){var O=this.internal.collections[e+"images"];if(O){for(var z in O)if(L===O[z].alias)return O[z]}},w=function(L,O,z){return L||O||(L=-96,O=-96),L<0&&(L=-1*z.width*72/L/this.internal.scaleFactor),O<0&&(O=-1*z.height*72/O/this.internal.scaleFactor),L===0&&(L=O*z.width/z.height),O===0&&(O=L*z.height/z.width),[L,O]},S=function(L,O,z,W,pe,ue){var ae=w.call(this,z,W,pe),re=this.internal.getCoordinateString,we=this.internal.getVerticalCoordinateString,Ce=c.call(this);if(z=ae[0],W=ae[1],Ce[pe.index]=pe,ue){ue*=Math.PI/180;var _e=Math.cos(ue),N=Math.sin(ue),U=function(Z){return Z.toFixed(4)},V=[U(_e),U(N),U(-1*N),U(_e),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,re(L),we(O+W),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([re(z),"0","0",re(W),"0","0","cm"].join(" "))):this.internal.write([re(z),"0","0",re(W),re(L),we(O+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var j=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(L){var O,z,W=0;if(typeof L=="string")for(z=L.length,O=0;O<z;O++)W=(W<<5)-W+L.charCodeAt(O),W|=0;else if(se(L))for(z=L.byteLength/2,O=0;O<z;O++)W=(W<<5)-W+L[O],W|=0;return W},R=t.__addimage__.validateStringAsBase64=function(L){(L=L||"").toString().trim();var O=!0;return L.length===0&&(O=!1),L.length%4!=0&&(O=!1),/^[A-Za-z0-9+/]+$/.test(L.substr(0,L.length-2))===!1&&(O=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(L.substr(-2))===!1&&(O=!1),O},K=t.__addimage__.extractImageFromDataUrl=function(L){if(L==null||!(L=L.trim()).startsWith("data:"))return null;var O=L.indexOf(",");return O<0?null:L.substring(0,O).trim().endsWith("base64")?L.substring(O+1):null};t.__addimage__.isArrayBuffer=function(L){return L instanceof ArrayBuffer};var se=t.__addimage__.isArrayBufferView=function(L){return L instanceof Int8Array||L instanceof Uint8Array||L instanceof Uint8ClampedArray||L instanceof Int16Array||L instanceof Uint16Array||L instanceof Int32Array||L instanceof Uint32Array||L instanceof Float32Array||L instanceof Float64Array},ie=t.__addimage__.binaryStringToUint8Array=function(L){for(var O=L.length,z=new Uint8Array(O),W=0;W<O;W++)z[W]=L.charCodeAt(W);return z},J=t.__addimage__.arrayBufferToBinaryString=function(L){for(var O="",z=se(L)?L:new Uint8Array(L),W=0;W<z.length;W+=8192)O+=String.fromCharCode.apply(null,z.subarray(W,W+8192));return O};t.addImage=function(){var L,O,z,W,pe,ue,ae,re,we;if(typeof arguments[1]=="number"?(O=r,z=arguments[1],W=arguments[2],pe=arguments[3],ue=arguments[4],ae=arguments[5],re=arguments[6],we=arguments[7]):(O=arguments[1],z=arguments[2],W=arguments[3],pe=arguments[4],ue=arguments[5],ae=arguments[6],re=arguments[7],we=arguments[8]),Ut(L=arguments[0])==="object"&&!v(L)&&"imageData"in L){var Ce=L;L=Ce.imageData,O=Ce.format||O||r,z=Ce.x||z||0,W=Ce.y||W||0,pe=Ce.w||Ce.width||pe,ue=Ce.h||Ce.height||ue,ae=Ce.alias||ae,re=Ce.compression||re,we=Ce.rotation||Ce.angle||we}var _e=this.internal.getFilters();if(re===void 0&&_e.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(z)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var N=C.call(this,L,O,ae,re);return S.call(this,z,W,pe,ue,N,we),this};var C=function(L,O,z,W){var pe,ue,ae;if(typeof L=="string"&&s(L)===r){L=unescape(L);var re=G(L,!1);(re!==""||(re=t.loadFile(L,!0))!==void 0)&&(L=re)}if(v(L)&&(L=d(L,O)),O=s(L,O),!p(O))throw new Error("addImage does not support files of type '"+O+"', please ensure that a plugin for '"+O+"' support is added.");if(((ae=z)==null||ae.length===0)&&(z=function(we){return typeof we=="string"||se(we)?T(we):se(we.data)?T(we.data):null}(L)),(pe=y.call(this,z))||(L instanceof Uint8Array||O==="RGBA"||(ue=L,L=ie(L)),pe=this["process"+O.toUpperCase()](L,h.call(this),z,function(we){return we&&typeof we=="string"&&(we=we.toUpperCase()),we in t.image_compression?we:j.NONE}(W),ue)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},G=t.__addimage__.convertBase64ToBinaryString=function(L,O){O=typeof O!="boolean"||O;var z,W="";if(typeof L=="string"){var pe;z=(pe=K(L))!==null&&pe!==void 0?pe:L;try{W=du(z)}catch(ue){if(O)throw R(z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return W};t.getImageProperties=function(L){var O,z,W="";if(v(L)&&(L=d(L)),typeof L=="string"&&s(L)===r&&((W=G(L,!1))===""&&(W=t.loadFile(L)||""),L=W),z=s(L),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(L instanceof Uint8Array||(L=ie(L)),!(O=this["process"+z.toUpperCase()](L)))throw new Error("An unknown error occurred whilst processing the image");return O.fileType=z,O}})(Ze.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ze.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),c=r.pageContext.annotations,h=!1,p=0;p<c.length&&!h;p++)switch((n=c[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var v=0;v<c.length;v++){n=c[v];var d=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(w.objId),j=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+d(_(n.contents))+")",i+=" /Popup "+S.objId+" 0 R",i+=" /P "+l.objId+" 0 R",i+=" /T ("+d(_(j))+") >>",w.content=i;var T=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(i+=" /Open true"),i+=" >>",S.content=i,this.internal.write(w.objId,"0 R",S.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+d(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var K=this.annotations._nameMap[n.options.name];n.options.pageNumber=K.page,n.options.top=K.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+d(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var se=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+se+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(r),y:c(n),w:l(r+s),h:c(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,s,i){var o,a,l=this.getTextWidth(r),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){a=i.maxWidth;var h=this.splitTextToSize(r,a).length;o=Math.ceil(c*h)}else a=l,o=c;return this.text(r,n,s,i),s+=.2*c,i.align==="center"&&(n-=l/2),i.align==="right"&&(n-=l),this.link(n,s-c,a,o,i),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ze.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},a=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var h=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(w){var S=0,_=r,j="",T=0;for(S=0;S<w.length;S+=1)_[w.charCodeAt(S)]!==void 0?(T++,typeof(_=_[w.charCodeAt(S)])=="number"&&(j+=String.fromCharCode(_),_=r,T=0),S===w.length-1&&(_=r,j+=w.charAt(S-(T-1)),S-=T-1,T=0)):(_=r,j+=w.charAt(S-T),S-=T,T=0);return j};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(w,S,_){return o(w)?i(w)===!1?-1:!c(w)||!o(S)&&!o(_)||!o(_)&&a(S)||a(w)&&!o(S)||a(w)&&l(S)||a(w)&&a(S)?0:h(w)&&o(S)&&!a(S)&&o(_)&&c(_)?3:a(w)||!o(_)?1:2:-1},d=function(w){var S=0,_=0,j=0,T="",R="",K="",se=(w=w||"").split("\\s+"),ie=[];for(S=0;S<se.length;S+=1){for(ie.push(""),_=0;_<se[S].length;_+=1)T=se[S][_],R=se[S][_-1],K=se[S][_+1],o(T)?(j=v(T,R,K),ie[S]+=j!==-1?String.fromCharCode(e[T.charCodeAt(0)][j]):T):ie[S]+=T;ie[S]=p(ie[S])}return ie.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var w,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(S)){var j=0;for(_=[],j=0;j<S.length;j+=1)Array.isArray(S[j])?_.push([d(S[j][0]),S[j][1],S[j][2]]):_.push([d(S[j])]);w=_}else w=d(S);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",y])}(Ze.API),Ze.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(a){s=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(a){i=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ze.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(w){l=w}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(w){h=w}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(w){v=w}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(w){y=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){n.call(this);var h=(c=c||{}).fontSize||this.getFontSize(),p=c.font||this.getFont(),v=c.scaleFactor||this.internal.scaleFactor,d=0,y=0,w=0,S=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=c.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(T,R){return T.concat(S.splitTextToSize(R,_))},[])):l=Array.isArray(l)?l:[l];for(var j=0;j<l.length;j++)d<(w=this.getStringUnitWidth(l[j],{font:p})*h)&&(d=w);return d!==0&&(y=l.length),{w:d/=v,h:Math.max((y*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var c=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,d&&v&&(this.printHeaderRow(l.lineNumber,!0),l.y+=v[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,h,p,v){if(n.call(this),!h)throw new Error("No data for PDF table.");var d,y,w,S,_=[],j=[],T=[],R={},K={},se=[],ie=[],J=(v=v||{}).autoSize||!1,C=v.printHeaders!==!1,G=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,L=v.margins||Object.assign({width:this.getPageWidth()},e),O=typeof v.padding=="number"?v.padding:3,z=v.headerBackgroundColor||"#c8c8c8",W=v.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=C,this.internal.__cell__.margins=L,this.internal.__cell__.table_font_size=G,this.internal.__cell__.padding=O,this.internal.__cell__.headerBackgroundColor=z,this.internal.__cell__.headerTextColor=W,this.setFontSize(G),p==null)j=_=Object.keys(h[0]),T=_.map(function(){return"left"});else if(Array.isArray(p)&&Ut(p[0])==="object")for(_=p.map(function(Ce){return Ce.name}),j=p.map(function(Ce){return Ce.prompt||Ce.name||""}),T=p.map(function(Ce){return Ce.align||"left"}),d=0;d<p.length;d+=1)K[p[d].name]=.7499990551181103*p[d].width;else Array.isArray(p)&&typeof p[0]=="string"&&(j=_=p,T=_.map(function(){return"left"}));if(J||Array.isArray(p)&&typeof p[0]=="string")for(d=0;d<_.length;d+=1){for(R[S=_[d]]=h.map(function(Ce){return Ce[S]}),this.setFont(void 0,"bold"),se.push(this.getTextDimensions(j[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=R[S],this.setFont(void 0,"normal"),w=0;w<y.length;w+=1)se.push(this.getTextDimensions(y[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);K[S]=Math.max.apply(null,se)+O+O,se=[]}if(C){var pe={};for(d=0;d<_.length;d+=1)pe[_[d]]={},pe[_[d]].text=j[d],pe[_[d]].align=T[d];var ue=a.call(this,pe,K);ie=_.map(function(Ce){return new i(l,c,K[Ce],ue,pe[Ce].text,void 0,pe[Ce].align)}),this.setTableHeaderRow(ie),this.printHeaderRow(1,!1)}var ae=p.reduce(function(Ce,_e){return Ce[_e.name]=_e.align,Ce},{});for(d=0;d<h.length;d+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:d,data:h[d]},this);var re=a.call(this,h[d],K);for(w=0;w<_.length;w+=1){var we=h[d][_[w]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:d,col:w,data:we},this),o.call(this,new i(l,c,K[_[w]],re,we,d+2,ae[_[w]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var a=function(l,c){var h=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(l).map(function(d){var y=l[d];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,c[d]-h-h)},this).map(function(d){return this.getLineHeightFactor()*d.length*p/v+h+h},this).reduce(function(d,y){return Math.max(d,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){h=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(h.y=this.internal.__cell__.margins.top||0,v.push(h)),h.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,h),this.setTextColor(y)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(Ze.API);var Jm={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ym=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ld=Km(Ym),Xm=[100,200,300,400,500,600,700,800,900],aE=Km(Xm);function If(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Jm[i=i||"normal"]?i:"normal"}(t.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(t.weight),s=function(i){return typeof Ld[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function Tg(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var lE={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Rg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Cg(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function Ig(t){return t.trimLeft()}function cE(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function uE(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var eu,jg,Fg,oa,tu,Dg,Bg,Ug,jf=["times"];function Mg(t,e,r,n,s){var i=4,o=$g;switch(s){case Ze.API.image_compression.FAST:i=1,o=qg;break;case Ze.API.image_compression.MEDIUM:i=6,o=Hg;break;case Ze.API.image_compression.SLOW:i=9,o=zg}t=function(l,c,h,p){for(var v,d=l.length/c,y=new Uint8Array(l.length+d),w=[hE,qg,$g,Hg,zg],S=0;S<d;S+=1){var _=S*c,j=l.subarray(_,_+c);if(p)y.set(p(j,h,v),_+S);else{for(var T=w.length,R=[],K=0;K<T;K+=1)R[K]=w[K](j,h,v);var se=dE(R.concat());y.set(R[se],_+S)}v=j}return y}(t,e,Math.ceil(r*n/8),o);var a=_d(t,{level:i});return Ze.API.__addimage__.arrayBufferToBinaryString(a)}function hE(t){var e=Array.apply([],t);return e.unshift(0),e}function qg(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=t[s-e]||0;n[s+1]=t[s]-i+256&255}return n}function $g(t,e,r){var n=t.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=t[i]-o+256&255}return s}function Hg(t,e,r){var n=t.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,a=r&&r[i]||0;s[i+1]=t[i]+256-(o+a>>>1)&255}return s}function zg(t,e,r){var n=t.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=fE(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);s[i+1]=t[i]-o+256&255}return s}function fE(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=s&&n<=i?t:s<=i?e:r}function dE(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Ff(t,e,r){var n=e*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return Zm(t,s)>>i&o}function Wg(t,e,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),a=(1<<n)-1,l=(e&a)<<o;(function(c,h,p){if(h+1<c.byteLength)c.setUint16(h,p,!1);else{var v=p>>8&255;c.setUint8(h,v)}})(t,i,Zm(t,i)&~(a<<o)&65535|l)}function Zm(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function pE(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<1+(7&s);t[e++],t[e++];var a=null,l=null;i&&(a=e,l=o,e+=3*o);var c=!0,h=[],p=0,v=null,d=0,y=null;for(this.width=r,this.height=n;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];p=t[e++]|t[e++]<<8,v=t[e++],1&w||(v=null),d=w>>2&7,e++;break;case 254:for(;;){if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var S=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,R=t[e++],K=R>>6&1,se=1<<1+(7&R),ie=a,J=l,C=!1;R>>7&&(C=!0,ie=e,J=se,e+=3*se);var G=e;for(e++;;){var L;if(!((L=t[e++])>=0))throw Error("Invalid block size");if(L===0)break;e+=L}h.push({x:S,y:_,width:j,height:T,has_local_palette:C,palette_offset:ie,palette_size:J,data_offset:G,data_length:e-G,transparent_index:v,interlaced:!!K,delay:p,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return y},this.frameInfo=function(O){if(O<0||O>=h.length)throw new Error("Frame index out of range.");return h[O]},this.decodeAndBlitFrameBGRA=function(O,z){var W=this.frameInfo(O),pe=W.width*W.height,ue=new Uint8Array(pe);Vg(t,W.data_offset,ue,pe);var ae=W.palette_offset,re=W.transparent_index;re===null&&(re=256);var we=W.width,Ce=r-we,_e=we,N=4*(W.y*r+W.x),U=4*((W.y+W.height)*r+W.x),V=N,Z=4*Ce;W.interlaced===!0&&(Z+=4*r*7);for(var ne=8,$=0,ee=ue.length;$<ee;++$){var Q=ue[$];if(_e===0&&(_e=we,(V+=Z)>=U&&(Z=4*Ce+4*r*(ne-1),V=N+(we+Ce)*(ne<<1),ne>>=1)),Q===re)V+=4;else{var fe=t[ae+3*Q],Ae=t[ae+3*Q+1],F=t[ae+3*Q+2];z[V++]=F,z[V++]=Ae,z[V++]=fe,z[V++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(O,z){var W=this.frameInfo(O),pe=W.width*W.height,ue=new Uint8Array(pe);Vg(t,W.data_offset,ue,pe);var ae=W.palette_offset,re=W.transparent_index;re===null&&(re=256);var we=W.width,Ce=r-we,_e=we,N=4*(W.y*r+W.x),U=4*((W.y+W.height)*r+W.x),V=N,Z=4*Ce;W.interlaced===!0&&(Z+=4*r*7);for(var ne=8,$=0,ee=ue.length;$<ee;++$){var Q=ue[$];if(_e===0&&(_e=we,(V+=Z)>=U&&(Z=4*Ce+4*r*(ne-1),V=N+(we+Ce)*(ne<<1),ne>>=1)),Q===re)V+=4;else{var fe=t[ae+3*Q],Ae=t[ae+3*Q+1],F=t[ae+3*Q+2];z[V++]=fe,z[V++]=Ae,z[V++]=F,z[V++]=255}--_e}}}function Vg(t,e,r,n){for(var s=t[e++],i=1<<s,o=i+1,a=o+1,l=s+1,c=(1<<l)-1,h=0,p=0,v=0,d=t[e++],y=new Int32Array(4096),w=null;;){for(;h<16&&d!==0;)p|=t[e++]<<h,h+=8,d===1?d=t[e++]:--d;if(h<l)break;var S=p&c;if(p>>=l,h-=l,S!==i){if(S===o)break;for(var _=S<a?S:w,j=0,T=_;T>i;)T=y[T]>>8,++j;var R=T;if(v+j+(_!==S?1:0)>n)return void $t.log("Warning, gif stream longer than expected.");r[v++]=R;var K=v+=j;for(_!==S&&(r[v++]=R),T=_;j--;)T=y[T],r[--K]=255&T,T>>=8;w!==null&&a<4096&&(y[a++]=w<<8|R,a>=c+1&&l<12&&(++l,c=c<<1|1)),w=S}else a=o+1,c=(1<<(l=s+1))-1,w=null}return v!==n&&$t.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Df(t){var e,r,n,s,i,o=Math.floor,a=new Array(64),l=new Array(64),c=new Array(64),h=new Array(64),p=new Array(65535),v=new Array(65535),d=new Array(64),y=new Array(64),w=[],S=0,_=7,j=new Array(64),T=new Array(64),R=new Array(64),K=new Array(256),se=new Array(2048),ie=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],J=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],C=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],L=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],O=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(N,U){for(var V=0,Z=0,ne=new Array,$=1;$<=16;$++){for(var ee=1;ee<=N[$];ee++)ne[U[Z]]=[],ne[U[Z]][0]=V,ne[U[Z]][1]=$,Z++,V++;V*=2}return ne}function ae(N){for(var U=N[0],V=N[1]-1;V>=0;)U&1<<V&&(S|=1<<_),V--,--_<0&&(S==255?(re(255),re(0)):re(S),_=7,S=0)}function re(N){w.push(N)}function we(N){re(N>>8&255),re(255&N)}function Ce(N,U,V,Z,ne){for(var $,ee=ne[0],Q=ne[240],fe=function(ce,Se){var me,Ie,Ne,Fe,De,Ue,Ve,$e,Me,Qe,qe=0;for(Me=0;Me<8;++Me){me=ce[qe],Ie=ce[qe+1],Ne=ce[qe+2],Fe=ce[qe+3],De=ce[qe+4],Ue=ce[qe+5],Ve=ce[qe+6];var Ot=me+($e=ce[qe+7]),St=me-$e,mt=Ie+Ve,tt=Ie-Ve,Et=Ne+Ue,et=Ne-Ue,Wt=Fe+De,at=Fe-De,ft=Ot+Wt,Zt=Ot-Wt,xt=mt+Et,nt=mt-Et;ce[qe]=ft+xt,ce[qe+4]=ft-xt;var Rt=.707106781*(nt+Zt);ce[qe+2]=Zt+Rt,ce[qe+6]=Zt-Rt;var Wi=.382683433*((ft=at+et)-(nt=tt+St)),$r=.5411961*ft+Wi,Is=1.306562965*nt+Wi,ds=.707106781*(xt=et+tt),st=St+ds,js=St-ds;ce[qe+5]=js+$r,ce[qe+3]=js-$r,ce[qe+1]=st+Is,ce[qe+7]=st-Is,qe+=8}for(qe=0,Me=0;Me<8;++Me){me=ce[qe],Ie=ce[qe+8],Ne=ce[qe+16],Fe=ce[qe+24],De=ce[qe+32],Ue=ce[qe+40],Ve=ce[qe+48];var Fs=me+($e=ce[qe+56]),jn=me-$e,Fn=Ie+Ve,rr=Ie-Ve,Pr=Ne+Ue,Cr=Ne-Ue,Vi=Fe+De,hi=Fe-De,Gn=Fs+Vi,ps=Fs-Vi,Kn=Fn+Pr,Jn=Fn-Pr;ce[qe]=Gn+Kn,ce[qe+32]=Gn-Kn;var Dn=.707106781*(Jn+ps);ce[qe+16]=ps+Dn,ce[qe+48]=ps-Dn;var Gi=.382683433*((Gn=hi+Cr)-(Jn=rr+jn)),gs=.5411961*Gn+Gi,Ki=1.306562965*Jn+Gi,Bo=.707106781*(Kn=Cr+rr),Uo=jn+Bo,Mo=jn-Bo;ce[qe+40]=Mo+gs,ce[qe+24]=Mo-gs,ce[qe+8]=Uo+Ki,ce[qe+56]=Uo-Ki,qe++}for(Me=0;Me<64;++Me)Qe=ce[Me]*Se[Me],d[Me]=Qe>0?Qe+.5|0:Qe-.5|0;return d}(N,U),Ae=0;Ae<64;++Ae)y[ie[Ae]]=fe[Ae];var F=y[0]-V;V=y[0],F==0?ae(Z[0]):(ae(Z[v[$=32767+F]]),ae(p[$]));for(var B=63;B>0&&y[B]==0;)B--;if(B==0)return ae(ee),V;for(var Y,E=1;E<=B;){for(var le=E;y[E]==0&&E<=B;)++E;var ye=E-le;if(ye>=16){Y=ye>>4;for(var Ee=1;Ee<=Y;++Ee)ae(Q);ye&=15}$=32767+y[E],ae(ne[(ye<<4)+v[$]]),ae(p[$]),E++}return B!=63&&ae(ee),V}function _e(N){N=Math.min(Math.max(N,1),100),i!=N&&(function(U){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var ne=o((V[Z]*U+50)/100);ne=Math.min(Math.max(ne,1),255),a[ie[Z]]=ne}for(var $=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ee=0;ee<64;ee++){var Q=o(($[ee]*U+50)/100);Q=Math.min(Math.max(Q,1),255),l[ie[ee]]=Q}for(var fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ae=0,F=0;F<8;F++)for(var B=0;B<8;B++)c[Ae]=1/(a[ie[Ae]]*fe[F]*fe[B]*8),h[Ae]=1/(l[ie[Ae]]*fe[F]*fe[B]*8),Ae++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),i=N)}this.encode=function(N,U){U&&_e(U),w=new Array,S=0,_=7,we(65496),we(65504),we(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),we(1),we(1),re(0),re(0),function(){we(65499),we(132),re(0);for(var Ie=0;Ie<64;Ie++)re(a[Ie]);re(1);for(var Ne=0;Ne<64;Ne++)re(l[Ne])}(),function(Ie,Ne){we(65472),we(17),re(8),we(Ne),we(Ie),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(N.width,N.height),function(){we(65476),we(418),re(0);for(var Ie=0;Ie<16;Ie++)re(J[Ie+1]);for(var Ne=0;Ne<=11;Ne++)re(C[Ne]);re(16);for(var Fe=0;Fe<16;Fe++)re(G[Fe+1]);for(var De=0;De<=161;De++)re(L[De]);re(1);for(var Ue=0;Ue<16;Ue++)re(O[Ue+1]);for(var Ve=0;Ve<=11;Ve++)re(z[Ve]);re(17);for(var $e=0;$e<16;$e++)re(W[$e+1]);for(var Me=0;Me<=161;Me++)re(pe[Me])}(),we(65498),we(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var V=0,Z=0,ne=0;S=0,_=7,this.encode.displayName="_encode_";for(var $,ee,Q,fe,Ae,F,B,Y,E,le=N.data,ye=N.width,Ee=N.height,ce=4*ye,Se=0;Se<Ee;){for($=0;$<ce;){for(Ae=ce*Se+$,B=-1,Y=0,E=0;E<64;E++)F=Ae+(Y=E>>3)*ce+(B=4*(7&E)),Se+Y>=Ee&&(F-=ce*(Se+1+Y-Ee)),$+B>=ce&&(F-=$+B-ce+4),ee=le[F++],Q=le[F++],fe=le[F++],j[E]=(se[ee]+se[Q+256|0]+se[fe+512|0]>>16)-128,T[E]=(se[ee+768|0]+se[Q+1024|0]+se[fe+1280|0]>>16)-128,R[E]=(se[ee+1280|0]+se[Q+1536|0]+se[fe+1792|0]>>16)-128;V=Ce(j,c,V,e,n),Z=Ce(T,h,Z,r,s),ne=Ce(R,h,ne,r,s),$+=32}Se+=8}if(_>=0){var me=[];me[1]=_+1,me[0]=(1<<_+1)-1,ae(me)}return we(65497),new Uint8Array(w)},t=t||50,function(){for(var N=String.fromCharCode,U=0;U<256;U++)K[U]=N(U)}(),e=ue(J,C),r=ue(O,z),n=ue(G,L),s=ue(W,pe),function(){for(var N=1,U=2,V=1;V<=15;V++){for(var Z=N;Z<U;Z++)v[32767+Z]=V,p[32767+Z]=[],p[32767+Z][1]=V,p[32767+Z][0]=Z;for(var ne=-(U-1);ne<=-N;ne++)v[32767+ne]=V,p[32767+ne]=[],p[32767+ne][1]=V,p[32767+ne][0]=U-1+ne;N<<=1,U<<=1}}(),function(){for(var N=0;N<256;N++)se[N]=19595*N,se[N+256|0]=38470*N,se[N+512|0]=7471*N+32768,se[N+768|0]=-11059*N,se[N+1024|0]=-21709*N,se[N+1280|0]=32768*N+8421375,se[N+1536|0]=-27439*N,se[N+1792|0]=-5329*N}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ts(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Gg(t){function e(C){if(!C)throw Error("assert :P")}function r(C,G,L){for(var O=0;4>O;O++)if(C[G+O]!=L.charCodeAt(O))return!0;return!1}function n(C,G,L,O,z){for(var W=0;W<z;W++)C[G+W]=L[O+W]}function s(C,G,L,O){for(var z=0;z<O;z++)C[G+z]=L}function i(C){return new Int32Array(C)}function o(C,G){for(var L=[],O=0;O<C;O++)L.push(new G);return L}function a(C,G){var L=[];return function O(z,W,pe){for(var ue=pe[W],ae=0;ae<ue&&(z.push(pe.length>W+1?[]:new G),!(pe.length<W+1));ae++)O(z[ae],W+1,pe)}(L,0,C),L}var l=function(){var C=this;function G(u,f){for(var m=1<<f-1>>>0;u&m;)m>>>=1;return m?(u&m-1)+m:u}function L(u,f,m,b,x){e(!(b%m));do u[f+(b-=m)]=x;while(0<b)}function O(u,f,m,b,x){if(e(2328>=x),512>=x)var k=i(512);else if((k=i(x))==null)return 0;return function(P,I,D,M,te,ve){var q,oe,de=I,xe=1<<D,ge=i(16),ke=i(16);for(e(te!=0),e(M!=null),e(P!=null),e(0<D),oe=0;oe<te;++oe){if(15<M[oe])return 0;++ge[M[oe]]}if(ge[0]==te)return 0;for(ke[1]=0,q=1;15>q;++q){if(ge[q]>1<<q)return 0;ke[q+1]=ke[q]+ge[q]}for(oe=0;oe<te;++oe)q=M[oe],0<M[oe]&&(ve[ke[q]++]=oe);if(ke[15]==1)return(M=new z).g=0,M.value=ve[0],L(P,de,1,xe,M),xe;var Pe,je=-1,Re=xe-1,Ye=0,He=1,bt=1,Ge=1<<D;for(oe=0,q=1,te=2;q<=D;++q,te<<=1){if(He+=bt<<=1,0>(bt-=ge[q]))return 0;for(;0<ge[q];--ge[q])(M=new z).g=q,M.value=ve[oe++],L(P,de+Ye,te,Ge,M),Ye=G(Ye,q)}for(q=D+1,te=2;15>=q;++q,te<<=1){if(He+=bt<<=1,0>(bt-=ge[q]))return 0;for(;0<ge[q];--ge[q]){if(M=new z,(Ye&Re)!=je){for(de+=Ge,Pe=1<<(je=q)-D;15>je&&!(0>=(Pe-=ge[je]));)++je,Pe<<=1;xe+=Ge=1<<(Pe=je-D),P[I+(je=Ye&Re)].g=Pe+D,P[I+je].value=de-I-je}M.g=q-D,M.value=ve[oe++],L(P,de+(Ye>>D),te,Ge,M),Ye=G(Ye,q)}}return He!=2*ke[15]-1?0:xe}(u,f,m,b,x,k)}function z(){this.value=this.g=0}function W(){this.value=this.g=0}function pe(){this.G=o(5,z),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(io,W)}function ue(u,f,m,b){e(u!=null),e(f!=null),e(2147483648>b),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=f,u.pa=m,u.Jd=f,u.Yc=m+b,u.Zc=4<=b?m+b-4+1:m,ee(u)}function ae(u,f){for(var m=0;0<f--;)m|=fe(u,128)<<f;return m}function re(u,f){var m=ae(u,f);return Q(u)?-m:m}function we(u,f,m,b){var x,k=0;for(e(u!=null),e(f!=null),e(4294967288>b),u.Sb=b,u.Ra=0,u.u=0,u.h=0,4<b&&(b=4),x=0;x<b;++x)k+=f[m+x]<<8*x;u.Ra=k,u.bb=b,u.oa=f,u.pa=m}function Ce(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<gi-8>>>0,++u.bb,u.u-=8;Z(u)&&(u.h=1,u.u=0)}function _e(u,f){if(e(0<=f),!u.h&&f<=vn){var m=V(u)&mn[f];return u.u+=f,Ce(u),m}return u.h=1,u.u=0}function N(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function V(u){return u.Ra>>>(u.u&gi-1)>>>0}function Z(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>gi}function ne(u,f){u.u=f,u.h=Z(u)}function $(u){u.u>=Gs&&(e(u.u>=Gs),Ce(u))}function ee(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function Q(u){return ae(u,1)}function fe(u,f){var m=u.Ca;0>u.b&&ee(u);var b=u.b,x=m*f>>>8,k=(u.I>>>b>x)+0;for(k?(m-=x,u.I-=x+1<<b>>>0):m=x+1,b=m,x=0;256<=b;)x+=8,b>>=8;return b=7^x+mi[b],u.b-=b,u.Ca=(m<<b)-1,k}function Ae(u,f,m){u[f+0]=m>>24&255,u[f+1]=m>>16&255,u[f+2]=m>>8&255,u[f+3]=255&m}function F(u,f){return u[f+0]|u[f+1]<<8}function B(u,f){return F(u,f)|u[f+2]<<16}function Y(u,f){return F(u,f)|F(u,f+2)<<16}function E(u,f){var m=1<<f;return e(u!=null),e(0<f),u.X=i(m),u.X==null?0:(u.Mb=32-f,u.Xa=f,1)}function le(u,f){e(u!=null),e(f!=null),e(u.Xa==f.Xa),n(f.X,0,u.X,0,1<<f.Xa)}function ye(){this.X=[],this.Xa=this.Mb=0}function Ee(u,f,m,b){e(m!=null),e(b!=null);var x=m[0],k=b[0];return x==0&&(x=(u*k+f/2)/f),k==0&&(k=(f*x+u/2)/u),0>=x||0>=k?0:(m[0]=x,b[0]=k,1)}function ce(u,f){return u+(1<<f)-1>>>f}function Se(u,f){return((4278255360&u)+(4278255360&f)>>>0&4278255360)+((16711935&u)+(16711935&f)>>>0&16711935)>>>0}function me(u,f){C[f]=function(m,b,x,k,P,I,D){var M;for(M=0;M<P;++M){var te=C[u](I[D+M-1],x,k+M);I[D+M]=Se(m[b+M],te)}}}function Ie(){this.ud=this.hd=this.jd=0}function Ne(u,f){return((4278124286&(u^f))>>>1)+(u&f)>>>0}function Fe(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function De(u,f){return Fe(u+(u-f+.5>>1))}function Ue(u,f,m){return Math.abs(f-m)-Math.abs(u-m)}function Ve(u,f,m,b,x,k,P){for(b=k[P-1],m=0;m<x;++m)k[P+m]=b=Se(u[f+m],b)}function $e(u,f,m,b,x){var k;for(k=0;k<m;++k){var P=u[f+k],I=P>>8&255,D=16711935&(D=(D=16711935&P)+((I<<16)+I));b[x+k]=(4278255360&P)+D>>>0}}function Me(u,f){f.jd=255&u,f.hd=u>>8&255,f.ud=u>>16&255}function Qe(u,f,m,b,x,k){var P;for(P=0;P<b;++P){var I=f[m+P],D=I>>>8,M=I,te=255&(te=(te=I>>>16)+((u.jd<<24>>24)*(D<<24>>24)>>>5));M=255&(M=(M+=(u.hd<<24>>24)*(D<<24>>24)>>>5)+((u.ud<<24>>24)*(te<<24>>24)>>>5)),x[k+P]=(4278255360&I)+(te<<16)+M}}function qe(u,f,m,b,x){C[f]=function(k,P,I,D,M,te,ve,q,oe){for(D=ve;D<q;++D)for(ve=0;ve<oe;++ve)M[te++]=x(I[b(k[P++])])},C[u]=function(k,P,I,D,M,te,ve){var q=8>>k.b,oe=k.Ea,de=k.K[0],xe=k.w;if(8>q)for(k=(1<<k.b)-1,xe=(1<<q)-1;P<I;++P){var ge,ke=0;for(ge=0;ge<oe;++ge)ge&k||(ke=b(D[M++])),te[ve++]=x(de[ke&xe]),ke>>=q}else C["VP8LMapColor"+m](D,M,de,xe,te,ve,P,I,oe)}}function Ot(u,f,m,b,x){for(m=f+m;f<m;){var k=u[f++];b[x++]=k>>16&255,b[x++]=k>>8&255,b[x++]=255&k}}function St(u,f,m,b,x){for(m=f+m;f<m;){var k=u[f++];b[x++]=k>>16&255,b[x++]=k>>8&255,b[x++]=255&k,b[x++]=k>>24&255}}function mt(u,f,m,b,x){for(m=f+m;f<m;){var k=(P=u[f++])>>16&240|P>>12&15,P=240&P|P>>28&15;b[x++]=k,b[x++]=P}}function tt(u,f,m,b,x){for(m=f+m;f<m;){var k=(P=u[f++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;b[x++]=k,b[x++]=P}}function Et(u,f,m,b,x){for(m=f+m;f<m;){var k=u[f++];b[x++]=255&k,b[x++]=k>>8&255,b[x++]=k>>16&255}}function et(u,f,m,b,x,k){if(k==0)for(m=f+m;f<m;)Ae(b,((k=u[f++])[0]>>24|k[1]>>8&65280|k[2]<<8&16711680|k[3]<<24)>>>0),x+=32;else n(b,x,u,f,m)}function Wt(u,f){C[f][0]=C[u+"0"],C[f][1]=C[u+"1"],C[f][2]=C[u+"2"],C[f][3]=C[u+"3"],C[f][4]=C[u+"4"],C[f][5]=C[u+"5"],C[f][6]=C[u+"6"],C[f][7]=C[u+"7"],C[f][8]=C[u+"8"],C[f][9]=C[u+"9"],C[f][10]=C[u+"10"],C[f][11]=C[u+"11"],C[f][12]=C[u+"12"],C[f][13]=C[u+"13"],C[f][14]=C[u+"0"],C[f][15]=C[u+"0"]}function at(u){return u==kh||u==Lh||u==kc||u==Ph}function ft(){this.eb=[],this.size=this.A=this.fb=0}function Zt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ft,this.f.kb=new Zt,this.sd=null}function nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Wi(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function $r(u,f){var m=u.T,b=f.ba.f.RGBA,x=b.eb,k=b.fb+u.ka*b.A,P=Hn[f.ba.S],I=u.y,D=u.O,M=u.f,te=u.N,ve=u.ea,q=u.W,oe=f.cc,de=f.dc,xe=f.Mc,ge=f.Nc,ke=u.ka,Pe=u.ka+u.T,je=u.U,Re=je+1>>1;for(ke==0?P(I,D,null,null,M,te,ve,q,M,te,ve,q,x,k,null,null,je):(P(f.ec,f.fc,I,D,oe,de,xe,ge,M,te,ve,q,x,k-b.A,x,k,je),++m);ke+2<Pe;ke+=2)oe=M,de=te,xe=ve,ge=q,te+=u.Rc,q+=u.Rc,k+=2*b.A,P(I,(D+=2*u.fa)-u.fa,I,D,oe,de,xe,ge,M,te,ve,q,x,k-b.A,x,k,je);return D+=u.fa,u.j+Pe<u.o?(n(f.ec,f.fc,I,D,je),n(f.cc,f.dc,M,te,Re),n(f.Mc,f.Nc,ve,q,Re),m--):1&Pe||P(I,D,null,null,M,te,ve,q,M,te,ve,q,x,k+b.A,null,null,je),m}function Is(u,f,m){var b=u.F,x=[u.J];if(b!=null){var k=u.U,P=f.ba.S,I=P==Nc||P==kc;f=f.ba.f.RGBA;var D=[0],M=u.ka;D[0]=u.T,u.Kb&&(M==0?--D[0]:(--M,x[0]-=u.width),u.j+u.ka+u.T==u.o&&(D[0]=u.o-u.j-M));var te=f.eb;M=f.fb+M*f.A,u=yp(b,x[0],u.width,k,D,te,M+(I?0:3),f.A),e(m==D),u&&at(P)&&rl(te,M,I,k,D,f.A)}return 0}function ds(u){var f=u.ma,m=f.ba.S,b=11>m,x=m==xc||m==Ec||m==Nc||m==Nh||m==12||at(m);if(f.memory=null,f.Ib=null,f.Jb=null,f.Nd=null,!Ka(f.Oa,u,x?11:12))return 0;if(x&&at(m)&&Wa(),u.da)alert("todo:use_scaling");else{if(b){if(f.Ib=Wi,u.Kb){if(m=u.U+1>>1,f.memory=i(u.U+2*m),f.memory==null)return 0;f.ec=f.memory,f.fc=0,f.cc=f.ec,f.dc=f.fc+u.U,f.Mc=f.cc,f.Nc=f.dc+m,f.Ib=$r,Wa()}}else alert("todo:EmitYUV");x&&(f.Jb=Is,b&&Xn())}if(b&&!Ip){for(u=0;256>u;++u)wv[u]=89858*(u-128)+Pc>>Lc,Sv[u]=-22014*(u-128)+Pc,_v[u]=-45773*(u-128),bv[u]=113618*(u-128)+Pc>>Lc;for(u=sl;u<Rh;++u)f=76283*(u-16)+Pc>>Lc,Av[u-sl]=ms(f,255),xv[u-sl]=ms(f+8>>4,15);Ip=1}return 1}function st(u){var f=u.ma,m=u.U,b=u.T;return e(!(1&u.ka)),0>=m||0>=b?0:(m=f.Ib(u,f),f.Jb!=null&&f.Jb(u,f,m),f.Dc+=m,1)}function js(u){u.ma.memory=null}function Fs(u,f,m,b){return _e(u,8)!=47?0:(f[0]=_e(u,14)+1,m[0]=_e(u,14)+1,b[0]=_e(u,1),_e(u,3)!=0?0:!u.h)}function jn(u,f){if(4>u)return u+1;var m=u-2>>1;return(2+(1&u)<<m)+_e(f,m)+1}function Fn(u,f){return 120<f?f-120:1<=(m=((m=iv[f-1])>>4)*u+(8-(15&m)))?m:1;var m}function rr(u,f,m){var b=V(m),x=u[f+=255&b].g-8;return 0<x&&(ne(m,m.u+8),b=V(m),f+=u[f].value,f+=b&(1<<x)-1),ne(m,m.u+u[f].g),u[f].value}function Pr(u,f,m){return m.g+=u.g,m.value+=u.value<<f>>>0,e(8>=m.g),u.g}function Cr(u,f,m){var b=u.xc;return e((f=b==0?0:u.vc[u.md*(m>>b)+(f>>b)])<u.Wb),u.Ya[f]}function Vi(u,f,m,b){var x=u.ab,k=u.c*f,P=u.C;f=P+f;var I=m,D=b;for(b=u.Ta,m=u.Ua;0<x--;){var M=u.gc[x],te=P,ve=f,q=I,oe=D,de=(D=b,I=m,M.Ea);switch(e(te<ve),e(ve<=M.nc),M.hc){case 2:lr(q,oe,(ve-te)*de,D,I);break;case 0:var xe=te,ge=ve,ke=D,Pe=I,je=(Ge=M).Ea;xe==0&&(Ya(q,oe,null,null,1,ke,Pe),Ve(q,oe+1,0,0,je-1,ke,Pe+1),oe+=je,Pe+=je,++xe);for(var Re=1<<Ge.b,Ye=Re-1,He=ce(je,Ge.b),bt=Ge.K,Ge=Ge.w+(xe>>Ge.b)*He;xe<ge;){var Nt=bt,xr=Ge,_t=1;for(Ko(q,oe,ke,Pe-je,1,ke,Pe);_t<je;){var Ke=(_t&~Ye)+Re;Ke>je&&(Ke=je),(0,Za[Nt[xr++]>>8&15])(q,oe+ +_t,ke,Pe+_t-je,Ke-_t,ke,Pe+_t),_t=Ke}oe+=je,Pe+=je,++xe&Ye||(Ge+=He)}ve!=M.nc&&n(D,I-de,D,I+(ve-te-1)*de,de);break;case 1:for(de=q,ge=oe,je=(q=M.Ea)-(Pe=q&~(ke=(oe=1<<M.b)-1)),xe=ce(q,M.b),Re=M.K,M=M.w+(te>>M.b)*xe;te<ve;){for(Ye=Re,He=M,bt=new Ie,Ge=ge+Pe,Nt=ge+q;ge<Ge;)Me(Ye[He++],bt),Qa(bt,de,ge,oe,D,I),ge+=oe,I+=oe;ge<Nt&&(Me(Ye[He++],bt),Qa(bt,de,ge,je,D,I),ge+=je,I+=je),++te&ke||(M+=xe)}break;case 3:if(q==D&&oe==I&&0<M.b){for(ge=D,q=de=I+(ve-te)*de-(Pe=(ve-te)*ce(M.Ea,M.b)),oe=D,ke=I,xe=[],Pe=(je=Pe)-1;0<=Pe;--Pe)xe[Pe]=oe[ke+Pe];for(Pe=je-1;0<=Pe;--Pe)ge[q+Pe]=xe[Pe];bc(M,te,ve,D,de,D,I)}else bc(M,te,ve,q,oe,D,I)}I=b,D=m}D!=m&&n(b,m,I,D,k)}function hi(u,f){var m=u.V,b=u.Ba+u.c*u.C,x=f-u.C;if(e(f<=u.l.o),e(16>=x),0<x){var k=u.l,P=u.Ta,I=u.Ua,D=k.width;if(Vi(u,x,m,b),x=I=[I],e((m=u.C)<(b=f)),e(k.v<k.va),b>k.o&&(b=k.o),m<k.j){var M=k.j-m;m=k.j,x[0]+=M*D}if(m>=b?m=0:(x[0]+=4*k.v,k.ka=m-k.j,k.U=k.va-k.v,k.T=b-m,m=1),m){if(I=I[0],11>(m=u.ca).S){var te=m.f.RGBA,ve=(b=m.S,x=k.U,k=k.T,M=te.eb,te.A),q=k;for(te=te.fb+u.Ma*te.A;0<q--;){var oe=P,de=I,xe=x,ge=M,ke=te;switch(b){case Ac:el(oe,de,xe,ge,ke);break;case xc:vi(oe,de,xe,ge,ke);break;case kh:vi(oe,de,xe,ge,ke),rl(ge,ke,0,xe,1,0);break;case Ep:oo(oe,de,xe,ge,ke);break;case Ec:et(oe,de,xe,ge,ke,1);break;case Lh:et(oe,de,xe,ge,ke,1),rl(ge,ke,0,xe,1,0);break;case Nc:et(oe,de,xe,ge,ke,0);break;case kc:et(oe,de,xe,ge,ke,0),rl(ge,ke,1,xe,1,0);break;case Nh:yi(oe,de,xe,ge,ke);break;case Ph:yi(oe,de,xe,ge,ke),vp(ge,ke,xe,1,0);break;case Np:wi(oe,de,xe,ge,ke);break;default:e(0)}I+=D,te+=ve}u.Ma+=k}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=m.height)}}u.C=f,e(u.C<=u.i)}function Gn(u){var f;if(0<u.ua)return 0;for(f=0;f<u.Wb;++f){var m=u.Ya[f].G,b=u.Ya[f].H;if(0<m[1][b[1]+0].g||0<m[2][b[2]+0].g||0<m[3][b[3]+0].g)return 0}return 1}function ps(u,f,m,b,x,k){if(u.Z!=0){var P=u.qd,I=u.rd;for(e(Si[u.Z]!=null);f<m;++f)Si[u.Z](P,I,b,x,b,x,k),P=b,I=x,x+=k;u.qd=P,u.rd=I}}function Kn(u,f){var m=u.l.ma,b=m.Z==0||m.Z==1?u.l.j:u.C;if(b=u.C<b?b:u.C,e(f<=u.l.o),f>b){var x=u.l.width,k=m.ca,P=m.tb+x*b,I=u.V,D=u.Ba+u.c*b,M=u.gc;e(u.ab==1),e(M[0].hc==3),bs(M[0],b,f,I,D,k,P),ps(m,b,f,k,P,x)}u.C=u.Ma=f}function Jn(u,f,m,b,x,k,P){var I=u.$/b,D=u.$%b,M=u.m,te=u.s,ve=m+u.$,q=ve;x=m+b*x;var oe=m+b*k,de=280+te.ua,xe=u.Pb?I:16777216,ge=0<te.ua?te.Wa:null,ke=te.wc,Pe=ve<oe?Cr(te,D,I):null;e(u.C<k),e(oe<=x);var je=!1;e:for(;;){for(;je||ve<oe;){var Re=0;if(I>=xe){var Ye=ve-m;e((xe=u).Pb),xe.wd=xe.m,xe.xd=Ye,0<xe.s.ua&&le(xe.s.Wa,xe.s.vb),xe=I+av}if(D&ke||(Pe=Cr(te,D,I)),e(Pe!=null),Pe.Qb&&(f[ve]=Pe.qb,je=!0),!je)if($(M),Pe.jc){Re=M,Ye=f;var He=ve,bt=Pe.pd[V(Re)&io-1];e(Pe.jc),256>bt.g?(ne(Re,Re.u+bt.g),Ye[He]=bt.value,Re=0):(ne(Re,Re.u+bt.g-256),e(256<=bt.value),Re=bt.value),Re==0&&(je=!0)}else Re=rr(Pe.G[0],Pe.H[0],M);if(M.h)break;if(je||256>Re){if(!je)if(Pe.nd)f[ve]=(Pe.qb|Re<<8)>>>0;else{if($(M),je=rr(Pe.G[1],Pe.H[1],M),$(M),Ye=rr(Pe.G[2],Pe.H[2],M),He=rr(Pe.G[3],Pe.H[3],M),M.h)break;f[ve]=(He<<24|je<<16|Re<<8|Ye)>>>0}if(je=!1,++ve,++D>=b&&(D=0,++I,P!=null&&I<=k&&!(I%16)&&P(u,I),ge!=null))for(;q<ve;)Re=f[q++],ge.X[(506832829*Re&4294967295)>>>ge.Mb]=Re}else if(280>Re){if(Re=jn(Re-256,M),Ye=rr(Pe.G[4],Pe.H[4],M),$(M),Ye=Fn(b,Ye=jn(Ye,M)),M.h)break;if(ve-m<Ye||x-ve<Re)break e;for(He=0;He<Re;++He)f[ve+He]=f[ve+He-Ye];for(ve+=Re,D+=Re;D>=b;)D-=b,++I,P!=null&&I<=k&&!(I%16)&&P(u,I);if(e(ve<=x),D&ke&&(Pe=Cr(te,D,I)),ge!=null)for(;q<ve;)Re=f[q++],ge.X[(506832829*Re&4294967295)>>>ge.Mb]=Re}else{if(!(Re<de))break e;for(je=Re-280,e(ge!=null);q<ve;)Re=f[q++],ge.X[(506832829*Re&4294967295)>>>ge.Mb]=Re;Re=ve,e(!(je>>>(Ye=ge).Xa)),f[Re]=Ye.X[je],je=!0}je||e(M.h==Z(M))}if(u.Pb&&M.h&&ve<x)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&le(u.s.vb,u.s.Wa);else{if(M.h)break e;P!=null&&P(u,I>k?k:I),u.a=0,u.$=ve-m}return 1}return u.a=3,0}function Dn(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var f=u.Wa;f!=null&&(f.X=null),u.vb=null,e(u!=null)}function Gi(){var u=new ct;return u==null?null:(u.a=0,u.xb=Pp,Wt("Predictor","VP8LPredictors"),Wt("Predictor","VP8LPredictors_C"),Wt("PredictorAdd","VP8LPredictorsAdd"),Wt("PredictorAdd","VP8LPredictorsAdd_C"),lr=$e,Qa=Qe,el=Ot,vi=St,yi=mt,wi=tt,oo=Et,C.VP8LMapColor32b=ws,C.VP8LMapColor8b=Xa,u)}function gs(u,f,m,b,x){var k=1,P=[u],I=[f],D=b.m,M=b.s,te=null,ve=0;e:for(;;){if(m)for(;k&&_e(D,1);){var q=P,oe=I,de=b,xe=1,ge=de.m,ke=de.gc[de.ab],Pe=_e(ge,2);if(de.Oc&1<<Pe)k=0;else{switch(de.Oc|=1<<Pe,ke.hc=Pe,ke.Ea=q[0],ke.nc=oe[0],ke.K=[null],++de.ab,e(4>=de.ab),Pe){case 0:case 1:ke.b=_e(ge,3)+2,xe=gs(ce(ke.Ea,ke.b),ce(ke.nc,ke.b),0,de,ke.K),ke.K=ke.K[0];break;case 3:var je,Re=_e(ge,8)+1,Ye=16<Re?0:4<Re?1:2<Re?2:3;if(q[0]=ce(ke.Ea,Ye),ke.b=Ye,je=xe=gs(Re,1,0,de,ke.K)){var He,bt=Re,Ge=ke,Nt=1<<(8>>Ge.b),xr=i(Nt);if(xr==null)je=0;else{var _t=Ge.K[0],Ke=Ge.w;for(xr[0]=Ge.K[0][0],He=1;He<1*bt;++He)xr[He]=Se(_t[Ke+He],xr[He-1]);for(;He<4*Nt;++He)xr[He]=0;Ge.K[0]=null,Ge.K[0]=xr,je=1}}xe=je;break;case 2:break;default:e(0)}k=xe}}if(P=P[0],I=I[0],k&&_e(D,1)&&!(k=1<=(ve=_e(D,4))&&11>=ve)){b.a=3;break e}var Be;if(Be=k)t:{var ur,dt,kt,Yt=b,Fr=P,rn=I,nr=ve,Hr=m,nn=Yt.m,Er=Yt.s,Pt=[null],Ft=1,sr=0,Dt=ov[nr];r:for(;;){if(Hr&&_e(nn,1)){var Dr=_e(nn,3)+2,Qn=ce(Fr,Dr),hr=ce(rn,Dr),un=Qn*hr;if(!gs(Qn,hr,0,Yt,Pt))break r;for(Pt=Pt[0],Er.xc=Dr,ur=0;ur<un;++ur){var qt=Pt[ur]>>8&65535;Pt[ur]=qt,qt>=Ft&&(Ft=qt+1)}}if(nn.h)break r;for(dt=0;5>dt;++dt){var Nr=kp[dt];!dt&&0<nr&&(Nr+=1<<nr),sr<Nr&&(sr=Nr)}var wn=o(Ft*Dt,z),sn=Ft,bn=o(sn,pe);if(bn==null)var _n=null;else e(65536>=sn),_n=bn;var hn=i(sr);if(_n==null||hn==null||wn==null){Yt.a=1;break r}var Sn=wn;for(ur=kt=0;ur<Ft;++ur){var Gt=_n[ur],An=Gt.G,es=Gt.H,lo=0,Ys=1,Br=0;for(dt=0;5>dt;++dt){Nr=kp[dt],An[dt]=Sn,es[dt]=kt,!dt&&0<nr&&(Nr+=1<<nr);s:{var Tc,Ch=Nr,Rc=Yt,il=hn,kv=Sn,Lv=kt,Ih=0,Ai=Rc.m,Pv=_e(Ai,1);if(s(il,0,0,Ch),Pv){var Ov=_e(Ai,1)+1,Tv=_e(Ai,1),Dp=_e(Ai,Tv==0?1:8);il[Dp]=1,Ov==2&&(il[Dp=_e(Ai,8)]=1);var Cc=1}else{var Bp=i(19),Up=_e(Ai,4)+4;if(19<Up){Rc.a=3;var Ic=0;break s}for(Tc=0;Tc<Up;++Tc)Bp[sv[Tc]]=_e(Ai,3);var jh=void 0,ol=void 0,Mp=Rc,Rv=Bp,jc=Ch,qp=il,Fh=0,xi=Mp.m,$p=8,Hp=o(128,z);n:for(;O(Hp,0,7,Rv,19);){if(_e(xi,1)){var Cv=2+2*_e(xi,3);if((jh=2+_e(xi,Cv))>jc)break n}else jh=jc;for(ol=0;ol<jc&&jh--;){$(xi);var zp=Hp[0+(127&V(xi))];ne(xi,xi.u+zp.g);var Yo=zp.value;if(16>Yo)qp[ol++]=Yo,Yo!=0&&($p=Yo);else{var Iv=Yo==16,Wp=Yo-16,jv=rv[Wp],Vp=_e(xi,tv[Wp])+jv;if(ol+Vp>jc)break n;for(var Fv=Iv?$p:0;0<Vp--;)qp[ol++]=Fv}}Fh=1;break n}Fh||(Mp.a=3),Cc=Fh}(Cc=Cc&&!Ai.h)&&(Ih=O(kv,Lv,8,il,Ch)),Cc&&Ih!=0?Ic=Ih:(Rc.a=3,Ic=0)}if(Ic==0)break r;if(Ys&&nv[dt]==1&&(Ys=Sn[kt].g==0),lo+=Sn[kt].g,kt+=Ic,3>=dt){var al,Dh=hn[0];for(al=1;al<Nr;++al)hn[al]>Dh&&(Dh=hn[al]);Br+=Dh}}if(Gt.nd=Ys,Gt.Qb=0,Ys&&(Gt.qb=(An[3][es[3]+0].value<<24|An[1][es[1]+0].value<<16|An[2][es[2]+0].value)>>>0,lo==0&&256>An[0][es[0]+0].value&&(Gt.Qb=1,Gt.qb+=An[0][es[0]+0].value<<8)),Gt.jc=!Gt.Qb&&6>Br,Gt.jc){var Fc,Xs=Gt;for(Fc=0;Fc<io;++Fc){var Ei=Fc,Ni=Xs.pd[Ei],Dc=Xs.G[0][Xs.H[0]+Ei];256<=Dc.value?(Ni.g=Dc.g+256,Ni.value=Dc.value):(Ni.g=0,Ni.value=0,Ei>>=Pr(Dc,8,Ni),Ei>>=Pr(Xs.G[1][Xs.H[1]+Ei],16,Ni),Ei>>=Pr(Xs.G[2][Xs.H[2]+Ei],0,Ni),Pr(Xs.G[3][Xs.H[3]+Ei],24,Ni))}}}Er.vc=Pt,Er.Wb=Ft,Er.Ya=_n,Er.yc=wn,Be=1;break t}Be=0}if(!(k=Be)){b.a=3;break e}if(0<ve){if(M.ua=1<<ve,!E(M.Wa,ve)){b.a=1,k=0;break e}}else M.ua=0;var Bh=b,Gp=P,Dv=I,Uh=Bh.s,Mh=Uh.xc;if(Bh.c=Gp,Bh.i=Dv,Uh.md=ce(Gp,Mh),Uh.wc=Mh==0?-1:(1<<Mh)-1,m){b.xb=pv;break e}if((te=i(P*I))==null){b.a=1,k=0;break e}k=(k=Jn(b,te,0,P,I,I,null))&&!D.h;break e}return k?(x!=null?x[0]=te:(e(te==null),e(m)),b.$=0,m||Dn(M)):Dn(M),k}function Ki(u,f){var m=u.c*u.i,b=m+f+16*f;return e(u.c<=f),u.V=i(b),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+m+f,1)}function Bo(u,f){var m=u.C,b=f-m,x=u.V,k=u.Ba+u.c*m;for(e(f<=u.l.o);0<b;){var P=16<b?16:b,I=u.l.ma,D=u.l.width,M=D*P,te=I.ca,ve=I.tb+D*m,q=u.Ta,oe=u.Ua;Vi(u,P,x,k),wp(q,oe,te,ve,M),ps(I,m,m+P,te,ve,D),b-=P,x+=P*u.c,m+=P}e(m==f),u.C=u.Ma=f}function Uo(){this.ub=this.yd=this.td=this.Rb=0}function Mo(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ch(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Ia(){this.Yb=function(){var u=[];return function f(m,b,x){for(var k=x[b],P=0;P<k&&(m.push(x.length>b+1?[]:0),!(x.length<b+1));P++)f(m[P],b+1,x)}(u,0,[3,11]),u}()}function rc(){this.jb=i(3),this.Wc=a([4,8],Ia),this.Xc=a([4,17],Ia)}function nc(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Bn(){this.ld=this.La=this.dd=this.tc=0}function ja(){this.Na=this.la=0}function sc(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Fa(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ic(){this.uc=this.M=this.Nb=0,this.wa=Array(new Bn),this.Y=0,this.ya=Array(new Fa),this.aa=0,this.l=new qo}function oc(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ac(){this.cb=this.a=0,this.sc="",this.m=new N,this.Od=new Uo,this.Kc=new Mo,this.ed=new nc,this.Qa=new ch,this.Ic=this.$c=this.Aa=0,this.D=new ic,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,N),this.ia=0,this.pb=o(4,sc),this.Pa=new rc,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oc),this.Hd=0,this.rb=Array(new ja),this.sb=0,this.wa=Array(new Bn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Fa),this.L=this.aa=0,this.gd=a([4,2],Bn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ms(u,f){return 0>u?0:u>f?f:u}function qo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function uh(){var u=new ac;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,nl||(nl=$o)),u}function vr(u,f,m){return u.a==0&&(u.a=f,u.sc=m,u.cb=0),0}function lc(u,f,m){return 3<=m&&u[f+0]==157&&u[f+1]==1&&u[f+2]==42}function vs(u,f){if(u==null)return 0;if(u.a=0,u.sc="OK",f==null)return vr(u,2,"null VP8Io passed to VP8GetHeaders()");var m=f.data,b=f.w,x=f.ha;if(4>x)return vr(u,7,"Truncated header.");var k=m[b+0]|m[b+1]<<8|m[b+2]<<16,P=u.Od;if(P.Rb=!(1&k),P.td=k>>1&7,P.yd=k>>4&1,P.ub=k>>5,3<P.td)return vr(u,3,"Incorrect keyframe parameters.");if(!P.yd)return vr(u,4,"Frame not displayable.");b+=3,x-=3;var I=u.Kc;if(P.Rb){if(7>x)return vr(u,7,"cannot parse picture header");if(!lc(m,b,x))return vr(u,3,"Bad code word");I.c=16383&(m[b+4]<<8|m[b+3]),I.Td=m[b+4]>>6,I.i=16383&(m[b+6]<<8|m[b+5]),I.Ud=m[b+6]>>6,b+=7,x-=7,u.za=I.c+15>>4,u.Ub=I.i+15>>4,f.width=I.c,f.height=I.i,f.Da=0,f.j=0,f.v=0,f.va=f.width,f.o=f.height,f.da=0,f.ib=f.width,f.hb=f.height,f.U=f.width,f.T=f.height,s((k=u.Pa).jb,0,255,k.jb.length),e((k=u.Qa)!=null),k.Cb=0,k.Bb=0,k.Fb=1,s(k.Zb,0,0,k.Zb.length),s(k.Lb,0,0,k.Lb)}if(P.ub>x)return vr(u,7,"bad partition length");ue(k=u.m,m,b,P.ub),b+=P.ub,x-=P.ub,P.Rb&&(I.Ld=Q(k),I.Kd=Q(k)),I=u.Qa;var D,M=u.Pa;if(e(k!=null),e(I!=null),I.Cb=Q(k),I.Cb){if(I.Bb=Q(k),Q(k)){for(I.Fb=Q(k),D=0;4>D;++D)I.Zb[D]=Q(k)?re(k,7):0;for(D=0;4>D;++D)I.Lb[D]=Q(k)?re(k,6):0}if(I.Bb)for(D=0;3>D;++D)M.jb[D]=Q(k)?ae(k,8):255}else I.Bb=0;if(k.Ka)return vr(u,3,"cannot parse segment header");if((I=u.ed).zd=Q(k),I.Tb=ae(k,6),I.wb=ae(k,3),I.Pc=Q(k),I.Pc&&Q(k)){for(M=0;4>M;++M)Q(k)&&(I.vd[M]=re(k,6));for(M=0;4>M;++M)Q(k)&&(I.od[M]=re(k,6))}if(u.L=I.Tb==0?0:I.zd?1:2,k.Ka)return vr(u,3,"cannot parse filter header");var te=x;if(x=D=b,b=D+te,I=te,u.Xb=(1<<ae(u.m,2))-1,te<3*(M=u.Xb))m=7;else{for(D+=3*M,I-=3*M,te=0;te<M;++te){var ve=m[x+0]|m[x+1]<<8|m[x+2]<<16;ve>I&&(ve=I),ue(u.Jc[+te],m,D,ve),D+=ve,I-=ve,x+=3}ue(u.Jc[+M],m,D,I),m=D<b?0:5}if(m!=0)return vr(u,m,"cannot parse partitions");for(m=ae(D=u.m,7),x=Q(D)?re(D,4):0,b=Q(D)?re(D,4):0,I=Q(D)?re(D,4):0,M=Q(D)?re(D,4):0,D=Q(D)?re(D,4):0,te=u.Qa,ve=0;4>ve;++ve){if(te.Cb){var q=te.Zb[ve];te.Fb||(q+=m)}else{if(0<ve){u.pb[ve]=u.pb[0];continue}q=m}var oe=u.pb[ve];oe.Sc[0]=Oh[ms(q+x,127)],oe.Sc[1]=Th[ms(q+0,127)],oe.Eb[0]=2*Oh[ms(q+b,127)],oe.Eb[1]=101581*Th[ms(q+I,127)]>>16,8>oe.Eb[1]&&(oe.Eb[1]=8),oe.Qc[0]=Oh[ms(q+M,117)],oe.Qc[1]=Th[ms(q+D,127)],oe.lc=q+D}if(!P.Rb)return vr(u,4,"Not a key frame.");for(Q(k),P=u.Pa,m=0;4>m;++m){for(x=0;8>x;++x)for(b=0;3>b;++b)for(I=0;11>I;++I)M=fe(k,fv[m][x][b][I])?ae(k,8):uv[m][x][b][I],P.Wc[m][x].Yb[b][I]=M;for(x=0;17>x;++x)P.Xc[m][x]=P.Wc[m][dv[x]]}return u.kc=Q(k),u.kc&&(u.Bd=ae(k,8)),u.cb=1}function $o(u,f,m,b,x,k,P){var I=f[x].Yb[m];for(m=0;16>x;++x){if(!fe(u,I[m+0]))return x;for(;!fe(u,I[m+1]);)if(I=f[++x].Yb[0],m=0,x==16)return 16;var D=f[x+1].Yb;if(fe(u,I[m+2])){var M=u,te=0;if(fe(M,(q=I)[(ve=m)+3]))if(fe(M,q[ve+6])){for(I=0,ve=2*(te=fe(M,q[ve+8]))+(q=fe(M,q[ve+9+te])),te=0,q=lv[ve];q[I];++I)te+=te+fe(M,q[I]);te+=3+(8<<ve)}else fe(M,q[ve+7])?(te=7+2*fe(M,165),te+=fe(M,145)):te=5+fe(M,159);else te=fe(M,q[ve+4])?3+fe(M,q[ve+5]):2;I=D[2]}else te=1,I=D[1];D=P+cv[x],0>(M=u).b&&ee(M);var ve,q=M.b,oe=(ve=M.Ca>>1)-(M.I>>q)>>31;--M.b,M.Ca+=oe,M.Ca|=1,M.I-=(ve+1&oe)<<q,k[D]=((te^oe)-oe)*b[(0<x)+0]}return 16}function cc(u){var f=u.rb[u.sb-1];f.la=0,f.Na=0,s(u.zc,0,0,u.zc.length),u.ja=0}function Un(u,f,m,b,x){x=u[f+m+32*b]+(x>>3),u[f+m+32*b]=-256&x?0>x?0:255:x}function _r(u,f,m,b,x,k){Un(u,f,0,m,b+x),Un(u,f,1,m,b+k),Un(u,f,2,m,b-k),Un(u,f,3,m,b-x)}function Ds(u){return(20091*u>>16)+u}function uc(u,f,m,b){var x,k=0,P=i(16);for(x=0;4>x;++x){var I=u[f+0]+u[f+8],D=u[f+0]-u[f+8],M=(35468*u[f+4]>>16)-Ds(u[f+12]),te=Ds(u[f+4])+(35468*u[f+12]>>16);P[k+0]=I+te,P[k+1]=D+M,P[k+2]=D-M,P[k+3]=I-te,k+=4,f++}for(x=k=0;4>x;++x)I=(u=P[k+0]+4)+P[k+8],D=u-P[k+8],M=(35468*P[k+4]>>16)-Ds(P[k+12]),Un(m,b,0,0,I+(te=Ds(P[k+4])+(35468*P[k+12]>>16))),Un(m,b,1,0,D+M),Un(m,b,2,0,D-M),Un(m,b,3,0,I-te),k++,b+=32}function hh(u,f,m,b){var x=u[f+0]+4,k=35468*u[f+4]>>16,P=Ds(u[f+4]),I=35468*u[f+1]>>16;_r(m,b,0,x+P,u=Ds(u[f+1]),I),_r(m,b,1,x+k,u,I),_r(m,b,2,x-k,u,I),_r(m,b,3,x-P,u,I)}function fh(u,f,m,b,x){uc(u,f,m,b),x&&uc(u,f+16,m,b+4)}function ys(u,f,m,b){ao(u,f+0,m,b,1),ao(u,f+32,m,b+128,1)}function hc(u,f,m,b){var x;for(u=u[f+0]+4,x=0;4>x;++x)for(f=0;4>f;++f)Un(m,b,f,x,u)}function fc(u,f,m,b){u[f+0]&&Ct(u,f+0,m,b),u[f+16]&&Ct(u,f+16,m,b+4),u[f+32]&&Ct(u,f+32,m,b+128),u[f+48]&&Ct(u,f+48,m,b+128+4)}function Ho(u,f,m,b){var x,k=i(16);for(x=0;4>x;++x){var P=u[f+0+x]+u[f+12+x],I=u[f+4+x]+u[f+8+x],D=u[f+4+x]-u[f+8+x],M=u[f+0+x]-u[f+12+x];k[0+x]=P+I,k[8+x]=P-I,k[4+x]=M+D,k[12+x]=M-D}for(x=0;4>x;++x)P=(u=k[0+4*x]+3)+k[3+4*x],I=k[1+4*x]+k[2+4*x],D=k[1+4*x]-k[2+4*x],M=u-k[3+4*x],m[b+0]=P+I>>3,m[b+16]=M+D>>3,m[b+32]=P-I>>3,m[b+48]=M-D>>3,b+=64}function Ji(u,f,m){var b,x=f-32,k=yn,P=255-u[x-1];for(b=0;b<m;++b){var I,D=k,M=P+u[f-1];for(I=0;I<m;++I)u[f+I]=D[M+u[x+I]];f+=32}}function dh(u,f){Ji(u,f,4)}function ph(u,f){Ji(u,f,8)}function gh(u,f){Ji(u,f,16)}function Da(u,f){var m;for(m=0;16>m;++m)n(u,f+32*m,u,f-32,16)}function dc(u,f){var m;for(m=16;0<m;--m)s(u,f,u[f-1],16),f+=32}function Yn(u,f,m){var b;for(b=0;16>b;++b)s(f,m+32*b,u,16)}function mh(u,f){var m,b=16;for(m=0;16>m;++m)b+=u[f-1+32*m]+u[f+m-32];Yn(b>>5,u,f)}function Yi(u,f){var m,b=8;for(m=0;16>m;++m)b+=u[f-1+32*m];Yn(b>>4,u,f)}function Ba(u,f){var m,b=8;for(m=0;16>m;++m)b+=u[f+m-32];Yn(b>>4,u,f)}function vh(u,f){Yn(128,u,f)}function ut(u,f,m){return u+2*f+m+2>>2}function yh(u,f){var m,b=f-32;for(b=new Uint8Array([ut(u[b-1],u[b+0],u[b+1]),ut(u[b+0],u[b+1],u[b+2]),ut(u[b+1],u[b+2],u[b+3]),ut(u[b+2],u[b+3],u[b+4])]),m=0;4>m;++m)n(u,f+32*m,b,0,b.length)}function wh(u,f){var m=u[f-1],b=u[f-1+32],x=u[f-1+64],k=u[f-1+96];Ae(u,f+0,16843009*ut(u[f-1-32],m,b)),Ae(u,f+32,16843009*ut(m,b,x)),Ae(u,f+64,16843009*ut(b,x,k)),Ae(u,f+96,16843009*ut(x,k,k))}function bh(u,f){var m,b=4;for(m=0;4>m;++m)b+=u[f+m-32]+u[f-1+32*m];for(b>>=3,m=0;4>m;++m)s(u,f+32*m,b,4)}function Bs(u,f){var m=u[f-1+0],b=u[f-1+32],x=u[f-1+64],k=u[f-1-32],P=u[f+0-32],I=u[f+1-32],D=u[f+2-32],M=u[f+3-32];u[f+0+96]=ut(b,x,u[f-1+96]),u[f+1+96]=u[f+0+64]=ut(m,b,x),u[f+2+96]=u[f+1+64]=u[f+0+32]=ut(k,m,b),u[f+3+96]=u[f+2+64]=u[f+1+32]=u[f+0+0]=ut(P,k,m),u[f+3+64]=u[f+2+32]=u[f+1+0]=ut(I,P,k),u[f+3+32]=u[f+2+0]=ut(D,I,P),u[f+3+0]=ut(M,D,I)}function Us(u,f){var m=u[f+1-32],b=u[f+2-32],x=u[f+3-32],k=u[f+4-32],P=u[f+5-32],I=u[f+6-32],D=u[f+7-32];u[f+0+0]=ut(u[f+0-32],m,b),u[f+1+0]=u[f+0+32]=ut(m,b,x),u[f+2+0]=u[f+1+32]=u[f+0+64]=ut(b,x,k),u[f+3+0]=u[f+2+32]=u[f+1+64]=u[f+0+96]=ut(x,k,P),u[f+3+32]=u[f+2+64]=u[f+1+96]=ut(k,P,I),u[f+3+64]=u[f+2+96]=ut(P,I,D),u[f+3+96]=ut(I,D,D)}function _h(u,f){var m=u[f-1+0],b=u[f-1+32],x=u[f-1+64],k=u[f-1-32],P=u[f+0-32],I=u[f+1-32],D=u[f+2-32],M=u[f+3-32];u[f+0+0]=u[f+1+64]=k+P+1>>1,u[f+1+0]=u[f+2+64]=P+I+1>>1,u[f+2+0]=u[f+3+64]=I+D+1>>1,u[f+3+0]=D+M+1>>1,u[f+0+96]=ut(x,b,m),u[f+0+64]=ut(b,m,k),u[f+0+32]=u[f+1+96]=ut(m,k,P),u[f+1+32]=u[f+2+96]=ut(k,P,I),u[f+2+32]=u[f+3+96]=ut(P,I,D),u[f+3+32]=ut(I,D,M)}function Sh(u,f){var m=u[f+0-32],b=u[f+1-32],x=u[f+2-32],k=u[f+3-32],P=u[f+4-32],I=u[f+5-32],D=u[f+6-32],M=u[f+7-32];u[f+0+0]=m+b+1>>1,u[f+1+0]=u[f+0+64]=b+x+1>>1,u[f+2+0]=u[f+1+64]=x+k+1>>1,u[f+3+0]=u[f+2+64]=k+P+1>>1,u[f+0+32]=ut(m,b,x),u[f+1+32]=u[f+0+96]=ut(b,x,k),u[f+2+32]=u[f+1+96]=ut(x,k,P),u[f+3+32]=u[f+2+96]=ut(k,P,I),u[f+3+64]=ut(P,I,D),u[f+3+96]=ut(I,D,M)}function zo(u,f){var m=u[f-1+0],b=u[f-1+32],x=u[f-1+64],k=u[f-1+96];u[f+0+0]=m+b+1>>1,u[f+2+0]=u[f+0+32]=b+x+1>>1,u[f+2+32]=u[f+0+64]=x+k+1>>1,u[f+1+0]=ut(m,b,x),u[f+3+0]=u[f+1+32]=ut(b,x,k),u[f+3+32]=u[f+1+64]=ut(x,k,k),u[f+3+64]=u[f+2+64]=u[f+0+96]=u[f+1+96]=u[f+2+96]=u[f+3+96]=k}function Ua(u,f){var m=u[f-1+0],b=u[f-1+32],x=u[f-1+64],k=u[f-1+96],P=u[f-1-32],I=u[f+0-32],D=u[f+1-32],M=u[f+2-32];u[f+0+0]=u[f+2+32]=m+P+1>>1,u[f+0+32]=u[f+2+64]=b+m+1>>1,u[f+0+64]=u[f+2+96]=x+b+1>>1,u[f+0+96]=k+x+1>>1,u[f+3+0]=ut(I,D,M),u[f+2+0]=ut(P,I,D),u[f+1+0]=u[f+3+32]=ut(m,P,I),u[f+1+32]=u[f+3+64]=ut(b,m,P),u[f+1+64]=u[f+3+96]=ut(x,b,m),u[f+1+96]=ut(k,x,b)}function Xi(u,f){var m;for(m=0;8>m;++m)n(u,f+32*m,u,f-32,8)}function Ah(u,f){var m;for(m=0;8>m;++m)s(u,f,u[f-1],8),f+=32}function Ms(u,f,m){var b;for(b=0;8>b;++b)s(f,m+32*b,u,8)}function xh(u,f){var m,b=8;for(m=0;8>m;++m)b+=u[f+m-32]+u[f-1+32*m];Ms(b>>4,u,f)}function Ma(u,f){var m,b=4;for(m=0;8>m;++m)b+=u[f+m-32];Ms(b>>3,u,f)}function qa(u,f){var m,b=4;for(m=0;8>m;++m)b+=u[f-1+32*m];Ms(b>>3,u,f)}function pc(u,f){Ms(128,u,f)}function qs(u,f,m){var b=u[f-m],x=u[f+0],k=3*(x-b)+Eh[1020+u[f-2*m]-u[f+m]],P=Sc[112+(k+4>>3)];u[f-m]=yn[255+b+Sc[112+(k+3>>3)]],u[f+0]=yn[255+x-P]}function $a(u,f,m,b){var x=u[f+0],k=u[f+m];return $n[255+u[f-2*m]-u[f-m]]>b||$n[255+k-x]>b}function Wo(u,f,m,b){return 4*$n[255+u[f-m]-u[f+0]]+$n[255+u[f-2*m]-u[f+m]]<=b}function Ha(u,f,m,b,x){var k=u[f-3*m],P=u[f-2*m],I=u[f-m],D=u[f+0],M=u[f+m],te=u[f+2*m],ve=u[f+3*m];return 4*$n[255+I-D]+$n[255+P-M]>b?0:$n[255+u[f-4*m]-k]<=x&&$n[255+k-P]<=x&&$n[255+P-I]<=x&&$n[255+ve-te]<=x&&$n[255+te-M]<=x&&$n[255+M-D]<=x}function Zi(u,f,m,b){var x=2*b+1;for(b=0;16>b;++b)Wo(u,f+b,m,x)&&qs(u,f+b,m)}function za(u,f,m,b){var x=2*b+1;for(b=0;16>b;++b)Wo(u,f+b*m,1,x)&&qs(u,f+b*m,1)}function gc(u,f,m,b){var x;for(x=3;0<x;--x)Zi(u,f+=4*m,m,b)}function mc(u,f,m,b){var x;for(x=3;0<x;--x)za(u,f+=4,m,b)}function $s(u,f,m,b,x,k,P,I){for(k=2*k+1;0<x--;){if(Ha(u,f,m,k,P))if($a(u,f,m,I))qs(u,f,m);else{var D=u,M=f,te=m,ve=D[M-2*te],q=D[M-te],oe=D[M+0],de=D[M+te],xe=D[M+2*te],ge=27*(Pe=Eh[1020+3*(oe-q)+Eh[1020+ve-de]])+63>>7,ke=18*Pe+63>>7,Pe=9*Pe+63>>7;D[M-3*te]=yn[255+D[M-3*te]+Pe],D[M-2*te]=yn[255+ve+ke],D[M-te]=yn[255+q+ge],D[M+0]=yn[255+oe-ge],D[M+te]=yn[255+de-ke],D[M+2*te]=yn[255+xe-Pe]}f+=b}}function Hs(u,f,m,b,x,k,P,I){for(k=2*k+1;0<x--;){if(Ha(u,f,m,k,P))if($a(u,f,m,I))qs(u,f,m);else{var D=u,M=f,te=m,ve=D[M-te],q=D[M+0],oe=D[M+te],de=Sc[112+(4+(xe=3*(q-ve))>>3)],xe=Sc[112+(xe+3>>3)],ge=de+1>>1;D[M-2*te]=yn[255+D[M-2*te]+ge],D[M-te]=yn[255+ve+xe],D[M+0]=yn[255+q-de],D[M+te]=yn[255+oe-ge]}f+=b}}function vc(u,f,m,b,x,k){$s(u,f,m,1,16,b,x,k)}function Qi(u,f,m,b,x,k){$s(u,f,1,m,16,b,x,k)}function yc(u,f,m,b,x,k){var P;for(P=3;0<P;--P)Hs(u,f+=4*m,m,1,16,b,x,k)}function g(u,f,m,b,x,k){var P;for(P=3;0<P;--P)Hs(u,f+=4,1,m,16,b,x,k)}function A(u,f,m,b,x,k,P,I){$s(u,f,x,1,8,k,P,I),$s(m,b,x,1,8,k,P,I)}function H(u,f,m,b,x,k,P,I){$s(u,f,1,x,8,k,P,I),$s(m,b,1,x,8,k,P,I)}function X(u,f,m,b,x,k,P,I){Hs(u,f+4*x,x,1,8,k,P,I),Hs(m,b+4*x,x,1,8,k,P,I)}function he(u,f,m,b,x,k,P,I){Hs(u,f+4,1,x,8,k,P,I),Hs(m,b+4,1,x,8,k,P,I)}function Le(){this.ba=new xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Te(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function We(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Je(){this.ua=0,this.Wa=new ye,this.vb=new ye,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new pe,this.yc=new z}function ct(){this.xb=this.a=0,this.l=new qo,this.ca=new xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Je,this.ab=0,this.gc=o(4,We),this.Oc=0}function vt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Lt(u,f,m,b,x,k,P){for(u=u==null?0:u[f+0],f=0;f<P;++f)x[k+f]=u+m[b+f]&255,u=x[k+f]}function er(u,f,m,b,x,k,P){var I;if(u==null)Lt(null,null,m,b,x,k,P);else for(I=0;I<P;++I)x[k+I]=u[f+I]+m[b+I]&255}function yr(u,f,m,b,x,k,P){if(u==null)Lt(null,null,m,b,x,k,P);else{var I,D=u[f+0],M=D,te=D;for(I=0;I<P;++I)M=te+(D=u[f+I])-M,te=m[b+I]+(-256&M?0>M?0:255:M)&255,M=D,x[k+I]=te}}function Vt(u,f,m,b){var x=f.width,k=f.o;if(e(u!=null&&f!=null),0>m||0>=b||m+b>k)return null;if(!u.Cc){if(u.ga==null){var P;if(u.ga=new vt,(P=u.ga==null)||(P=f.width*f.o,e(u.Gb.length==0),u.Gb=i(P),u.Uc=0,u.Gb==null?P=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,P=1),P=!P),!P){P=u.ga;var I=u.Fa,D=u.P,M=u.qc,te=u.mb,ve=u.nb,q=D+1,oe=M-1,de=P.l;if(e(I!=null&&te!=null&&f!=null),Si[0]=null,Si[1]=Lt,Si[2]=er,Si[3]=yr,P.ca=te,P.tb=ve,P.c=f.width,P.i=f.height,e(0<P.c&&0<P.i),1>=M)f=0;else if(P.$a=3&I[D+0],P.Z=I[D+0]>>2&3,P.Lc=I[D+0]>>4&3,D=I[D+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||D)f=0;else if(de.put=st,de.ac=ds,de.bc=js,de.ma=P,de.width=f.width,de.height=f.height,de.Da=f.Da,de.v=f.v,de.va=f.va,de.j=f.j,de.o=f.o,P.$a)e:{e(P.$a==1),f=Gi();t:for(;;){if(f==null){f=0;break e}if(e(P!=null),P.mc=f,f.c=P.c,f.i=P.i,f.l=P.l,f.l.ma=P,f.l.width=P.c,f.l.height=P.i,f.a=0,we(f.m,I,q,oe),!gs(P.c,P.i,1,f,null)||(f.ab==1&&f.gc[0].hc==3&&Gn(f.s)?(P.ic=1,I=f.c*f.i,f.Ta=null,f.Ua=0,f.V=i(I),f.Ba=0,f.V==null?(f.a=1,f=0):f=1):(P.ic=0,f=Ki(f,P.c)),!f))break t;f=1;break e}P.mc=null,f=0}else f=oe>=P.c*P.i;P=!f}if(P)return null;u.ga.Lc!=1?u.Ga=0:b=k-m}e(u.ga!=null),e(m+b<=k);e:{if(f=(I=u.ga).c,k=I.l.o,I.$a==0){if(q=u.rc,oe=u.Vc,de=u.Fa,D=u.P+1+m*f,M=u.mb,te=u.nb+m*f,e(D<=u.P+u.qc),I.Z!=0)for(e(Si[I.Z]!=null),P=0;P<b;++P)Si[I.Z](q,oe,de,D,M,te,f),q=M,oe=te,te+=f,D+=f;else for(P=0;P<b;++P)n(M,te,de,D,f),q=M,oe=te,te+=f,D+=f;u.rc=q,u.Vc=oe}else{if(e(I.mc!=null),f=m+b,e((P=I.mc)!=null),e(f<=P.i),P.C>=f)f=1;else if(I.ic||Xn(),I.ic){I=P.V,q=P.Ba,oe=P.c;var xe=P.i,ge=(de=1,D=P.$/oe,M=P.$%oe,te=P.m,ve=P.s,P.$),ke=oe*xe,Pe=oe*f,je=ve.wc,Re=ge<Pe?Cr(ve,M,D):null;e(ge<=ke),e(f<=xe),e(Gn(ve));t:for(;;){for(;!te.h&&ge<Pe;){if(M&je||(Re=Cr(ve,M,D)),e(Re!=null),$(te),256>(xe=rr(Re.G[0],Re.H[0],te)))I[q+ge]=xe,++ge,++M>=oe&&(M=0,++D<=f&&!(D%16)&&Kn(P,D));else{if(!(280>xe)){de=0;break t}xe=jn(xe-256,te);var Ye,He=rr(Re.G[4],Re.H[4],te);if($(te),!(ge>=(He=Fn(oe,He=jn(He,te)))&&ke-ge>=xe)){de=0;break t}for(Ye=0;Ye<xe;++Ye)I[q+ge+Ye]=I[q+ge+Ye-He];for(ge+=xe,M+=xe;M>=oe;)M-=oe,++D<=f&&!(D%16)&&Kn(P,D);ge<Pe&&M&je&&(Re=Cr(ve,M,D))}e(te.h==Z(te))}Kn(P,D>f?f:D);break t}!de||te.h&&ge<ke?(de=0,P.a=te.h?5:3):P.$=ge,f=de}else f=Jn(P,P.V,P.Ba,P.c,P.i,f,Bo);if(!f){b=0;break e}}m+b>=k&&(u.Cc=1),b=1}if(!b)return null;if(u.Cc&&((b=u.ga)!=null&&(b.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+m*x}function Sr(u,f,m,b,x,k){for(;0<x--;){var P,I=u,D=f+(m?1:0),M=u,te=f+(m?0:3);for(P=0;P<b;++P){var ve=M[te+4*P];ve!=255&&(ve*=32897,I[D+4*P+0]=I[D+4*P+0]*ve>>23,I[D+4*P+1]=I[D+4*P+1]*ve>>23,I[D+4*P+2]=I[D+4*P+2]*ve>>23)}f+=k}}function wr(u,f,m,b,x){for(;0<b--;){var k;for(k=0;k<m;++k){var P=u[f+2*k+0],I=15&(M=u[f+2*k+1]),D=4369*I,M=(240&M|M>>4)*D>>16;u[f+2*k+0]=(240&P|P>>4)*D>>16&240|(15&P|P<<4)*D>>16>>4&15,u[f+2*k+1]=240&M|I}f+=x}}function Ir(u,f,m,b,x,k,P,I){var D,M,te=255;for(M=0;M<x;++M){for(D=0;D<b;++D){var ve=u[f+D];k[P+4*D]=ve,te&=ve}f+=m,P+=I}return te!=255}function zs(u,f,m,b,x){var k;for(k=0;k<x;++k)m[b+k]=u[f+k]>>8}function Xn(){rl=Sr,vp=wr,yp=Ir,wp=zs}function Ws(u,f,m){C[u]=function(b,x,k,P,I,D,M,te,ve,q,oe,de,xe,ge,ke,Pe,je){var Re,Ye=je-1>>1,He=I[D+0]|M[te+0]<<16,bt=ve[q+0]|oe[de+0]<<16;e(b!=null);var Ge=3*He+bt+131074>>2;for(f(b[x+0],255&Ge,Ge>>16,xe,ge),k!=null&&(Ge=3*bt+He+131074>>2,f(k[P+0],255&Ge,Ge>>16,ke,Pe)),Re=1;Re<=Ye;++Re){var Nt=I[D+Re]|M[te+Re]<<16,xr=ve[q+Re]|oe[de+Re]<<16,_t=He+Nt+bt+xr+524296,Ke=_t+2*(Nt+bt)>>3;Ge=Ke+He>>1,He=(_t=_t+2*(He+xr)>>3)+Nt>>1,f(b[x+2*Re-1],255&Ge,Ge>>16,xe,ge+(2*Re-1)*m),f(b[x+2*Re-0],255&He,He>>16,xe,ge+(2*Re-0)*m),k!=null&&(Ge=_t+bt>>1,He=Ke+xr>>1,f(k[P+2*Re-1],255&Ge,Ge>>16,ke,Pe+(2*Re-1)*m),f(k[P+2*Re+0],255&He,He>>16,ke,Pe+(2*Re+0)*m)),He=Nt,bt=xr}1&je||(Ge=3*He+bt+131074>>2,f(b[x+je-1],255&Ge,Ge>>16,xe,ge+(je-1)*m),k!=null&&(Ge=3*bt+He+131074>>2,f(k[P+je-1],255&Ge,Ge>>16,ke,Pe+(je-1)*m)))}}function Wa(){Hn[Ac]=gv,Hn[xc]=Op,Hn[Ep]=mv,Hn[Ec]=Tp,Hn[Nc]=Rp,Hn[Nh]=Cp,Hn[Np]=vv,Hn[kh]=Op,Hn[Lh]=Tp,Hn[kc]=Rp,Hn[Ph]=Cp}function Vo(u){return u&-16384?0>u?0:255:u>>yv}function fi(u,f){return Vo((19077*u>>8)+(26149*f>>8)-14234)}function eo(u,f,m){return Vo((19077*u>>8)-(6419*f>>8)-(13320*m>>8)+8708)}function to(u,f){return Vo((19077*u>>8)+(33050*f>>8)-17685)}function di(u,f,m,b,x){b[x+0]=fi(u,m),b[x+1]=eo(u,f,m),b[x+2]=to(u,f)}function jr(u,f,m,b,x){b[x+0]=to(u,f),b[x+1]=eo(u,f,m),b[x+2]=fi(u,m)}function ro(u,f,m,b,x){var k=eo(u,f,m);f=k<<3&224|to(u,f)>>3,b[x+0]=248&fi(u,m)|k>>5,b[x+1]=f}function no(u,f,m,b,x){var k=240&to(u,f)|15;b[x+0]=240&fi(u,m)|eo(u,f,m)>>4,b[x+1]=k}function Va(u,f,m,b,x){b[x+0]=255,di(u,f,m,b,x+1)}function Ga(u,f,m,b,x){jr(u,f,m,b,x),b[x+3]=255}function tn(u,f,m,b,x){di(u,f,m,b,x),b[x+3]=255}function Vs(u,f,m){C[u]=function(b,x,k,P,I,D,M,te,ve){for(var q=te+(-2&ve)*m;te!=q;)f(b[x+0],k[P+0],I[D+0],M,te),f(b[x+1],k[P+0],I[D+0],M,te+m),x+=2,++P,++D,te+=2*m;1&ve&&f(b[x+0],k[P+0],I[D+0],M,te)}}function Go(u,f,m){return m==0?u==0?f==0?6:5:f==0?4:0:m}function wc(u,f,m,b,x){switch(u>>>30){case 3:ao(f,m,b,x,0);break;case 2:qn(f,m,b,x);break;case 1:Ct(f,m,b,x)}}function Mn(u,f){var m,b,x=f.M,k=f.Nb,P=u.oc,I=u.pc+40,D=u.oc,M=u.pc+584,te=u.oc,ve=u.pc+600;for(m=0;16>m;++m)P[I+32*m-1]=129;for(m=0;8>m;++m)D[M+32*m-1]=129,te[ve+32*m-1]=129;for(0<x?P[I-1-32]=D[M-1-32]=te[ve-1-32]=129:(s(P,I-32-1,127,21),s(D,M-32-1,127,9),s(te,ve-32-1,127,9)),b=0;b<u.za;++b){var q=f.ya[f.aa+b];if(0<b){for(m=-1;16>m;++m)n(P,I+32*m-4,P,I+32*m+12,4);for(m=-1;8>m;++m)n(D,M+32*m-4,D,M+32*m+4,4),n(te,ve+32*m-4,te,ve+32*m+4,4)}var oe=u.Gd,de=u.Hd+b,xe=q.ad,ge=q.Hc;if(0<x&&(n(P,I-32,oe[de].y,0,16),n(D,M-32,oe[de].f,0,8),n(te,ve-32,oe[de].ea,0,8)),q.Za){var ke=P,Pe=I-32+16;for(0<x&&(b>=u.za-1?s(ke,Pe,oe[de].y[15],4):n(ke,Pe,oe[de+1].y,0,4)),m=0;4>m;m++)ke[Pe+128+m]=ke[Pe+256+m]=ke[Pe+384+m]=ke[Pe+0+m];for(m=0;16>m;++m,ge<<=2)ke=P,Pe=I+jp[m],Zn[q.Ob[m]](ke,Pe),wc(ge,xe,16*+m,ke,Pe)}else if(ke=Go(b,x,q.Ob[0]),_i[ke](P,I),ge!=0)for(m=0;16>m;++m,ge<<=2)wc(ge,xe,16*+m,P,I+jp[m]);for(m=q.Gc,ke=Go(b,x,q.Dd),Js[ke](D,M),Js[ke](te,ve),ge=xe,ke=D,Pe=M,255&(q=0|m)&&(170&q?_s(ge,256,ke,Pe):Mt(ge,256,ke,Pe)),q=te,ge=ve,255&(m>>=8)&&(170&m?_s(xe,320,q,ge):Mt(xe,320,q,ge)),x<u.Ub-1&&(n(oe[de].y,0,P,I+480,16),n(oe[de].f,0,D,M+224,8),n(oe[de].ea,0,te,ve+224,8)),m=8*k*u.B,oe=u.sa,de=u.ta+16*b+16*k*u.R,xe=u.qa,q=u.ra+8*b+m,ge=u.Ha,ke=u.Ia+8*b+m,m=0;16>m;++m)n(oe,de+m*u.R,P,I+32*m,16);for(m=0;8>m;++m)n(xe,q+m*u.B,D,M+32*m,8),n(ge,ke+m*u.B,te,ve+32*m,8)}}function so(u,f,m,b,x,k,P,I,D){var M=[0],te=[0],ve=0,q=D!=null?D.kd:0,oe=D??new Te;if(u==null||12>m)return 7;oe.data=u,oe.w=f,oe.ha=m,f=[f],m=[m],oe.gb=[oe.gb];e:{var de=f,xe=m,ge=oe.gb;if(e(u!=null),e(xe!=null),e(ge!=null),ge[0]=0,12<=xe[0]&&!r(u,de[0],"RIFF")){if(r(u,de[0]+8,"WEBP")){ge=3;break e}var ke=Y(u,de[0]+4);if(12>ke||4294967286<ke){ge=3;break e}if(q&&ke>xe[0]-8){ge=7;break e}ge[0]=ke,de[0]+=12,xe[0]-=12}ge=0}if(ge!=0)return ge;for(ke=0<oe.gb[0],m=m[0];;){e:{var Pe=u;xe=f,ge=m;var je=M,Re=te,Ye=de=[0];if((Ge=ve=[ve])[0]=0,8>ge[0])ge=7;else{if(!r(Pe,xe[0],"VP8X")){if(Y(Pe,xe[0]+4)!=10){ge=3;break e}if(18>ge[0]){ge=7;break e}var He=Y(Pe,xe[0]+8),bt=1+B(Pe,xe[0]+12);if(2147483648<=bt*(Pe=1+B(Pe,xe[0]+15))){ge=3;break e}Ye!=null&&(Ye[0]=He),je!=null&&(je[0]=bt),Re!=null&&(Re[0]=Pe),xe[0]+=18,ge[0]-=18,Ge[0]=1}ge=0}}if(ve=ve[0],de=de[0],ge!=0)return ge;if(xe=!!(2&de),!ke&&ve)return 3;if(k!=null&&(k[0]=!!(16&de)),P!=null&&(P[0]=xe),I!=null&&(I[0]=0),P=M[0],de=te[0],ve&&xe&&D==null){ge=0;break}if(4>m){ge=7;break}if(ke&&ve||!ke&&!ve&&!r(u,f[0],"ALPH")){m=[m],oe.na=[oe.na],oe.P=[oe.P],oe.Sa=[oe.Sa];e:{He=u,ge=f,ke=m;var Ge=oe.gb;je=oe.na,Re=oe.P,Ye=oe.Sa,bt=22,e(He!=null),e(ke!=null),Pe=ge[0];var Nt=ke[0];for(e(je!=null),e(Ye!=null),je[0]=null,Re[0]=null,Ye[0]=0;;){if(ge[0]=Pe,ke[0]=Nt,8>Nt){ge=7;break e}var xr=Y(He,Pe+4);if(4294967286<xr){ge=3;break e}var _t=8+xr+1&-2;if(bt+=_t,0<Ge&&bt>Ge){ge=3;break e}if(!r(He,Pe,"VP8 ")||!r(He,Pe,"VP8L")){ge=0;break e}if(Nt[0]<_t){ge=7;break e}r(He,Pe,"ALPH")||(je[0]=He,Re[0]=Pe+8,Ye[0]=xr),Pe+=_t,Nt-=_t}}if(m=m[0],oe.na=oe.na[0],oe.P=oe.P[0],oe.Sa=oe.Sa[0],ge!=0)break}m=[m],oe.Ja=[oe.Ja],oe.xa=[oe.xa];e:if(Ge=u,ge=f,ke=m,je=oe.gb[0],Re=oe.Ja,Ye=oe.xa,He=ge[0],Pe=!r(Ge,He,"VP8 "),bt=!r(Ge,He,"VP8L"),e(Ge!=null),e(ke!=null),e(Re!=null),e(Ye!=null),8>ke[0])ge=7;else{if(Pe||bt){if(Ge=Y(Ge,He+4),12<=je&&Ge>je-12){ge=3;break e}if(q&&Ge>ke[0]-8){ge=7;break e}Re[0]=Ge,ge[0]+=8,ke[0]-=8,Ye[0]=bt}else Ye[0]=5<=ke[0]&&Ge[He+0]==47&&!(Ge[He+4]>>5),Re[0]=ke[0];ge=0}if(m=m[0],oe.Ja=oe.Ja[0],oe.xa=oe.xa[0],f=f[0],ge!=0)break;if(4294967286<oe.Ja)return 3;if(I==null||xe||(I[0]=oe.xa?2:1),P=[P],de=[de],oe.xa){if(5>m){ge=7;break}I=P,q=de,xe=k,u==null||5>m?u=0:5<=m&&u[f+0]==47&&!(u[f+4]>>5)?(ke=[0],Ge=[0],je=[0],we(Re=new U,u,f,m),Fs(Re,ke,Ge,je)?(I!=null&&(I[0]=ke[0]),q!=null&&(q[0]=Ge[0]),xe!=null&&(xe[0]=je[0]),u=1):u=0):u=0}else{if(10>m){ge=7;break}I=de,u==null||10>m||!lc(u,f+3,m-3)?u=0:(q=u[f+0]|u[f+1]<<8|u[f+2]<<16,xe=16383&(u[f+7]<<8|u[f+6]),u=16383&(u[f+9]<<8|u[f+8]),1&q||3<(q>>1&7)||!(q>>4&1)||q>>5>=oe.Ja||!xe||!u?u=0:(P&&(P[0]=xe),I&&(I[0]=u),u=1))}if(!u||(P=P[0],de=de[0],ve&&(M[0]!=P||te[0]!=de)))return 3;D!=null&&(D[0]=oe,D.offset=f-D.w,e(4294967286>f-D.w),e(D.offset==D.ha-m));break}return ge==0||ge==7&&ve&&D==null?(k!=null&&(k[0]|=oe.na!=null&&0<oe.na.length),b!=null&&(b[0]=P),x!=null&&(x[0]=de),0):ge}function Ka(u,f,m){var b=f.width,x=f.height,k=0,P=0,I=b,D=x;if(f.Da=u!=null&&0<u.Da,f.Da&&(I=u.cd,D=u.bd,k=u.v,P=u.j,11>m||(k&=-2,P&=-2),0>k||0>P||0>=I||0>=D||k+I>b||P+D>x))return 0;if(f.v=k,f.j=P,f.va=k+I,f.o=P+D,f.U=I,f.T=D,f.da=u!=null&&0<u.da,f.da){if(!Ee(I,D,m=[u.ib],k=[u.hb]))return 0;f.ib=m[0],f.hb=k[0]}return f.ob=u!=null&&u.ob,f.Kb=u==null||!u.Sd,f.da&&(f.ob=f.ib<3*b/4&&f.hb<3*x/4,f.Kb=0),1}function Ja(u){if(u==null)return 2;if(11>u.S){var f=u.f.RGBA;f.fb+=(u.height-1)*f.A,f.A=-f.A}else f=u.f.kb,u=u.height,f.O+=(u-1)*f.fa,f.fa=-f.fa,f.N+=(u-1>>1)*f.Ab,f.Ab=-f.Ab,f.W+=(u-1>>1)*f.Db,f.Db=-f.Db,f.F!=null&&(f.J+=(u-1)*f.lb,f.lb=-f.lb);return 0}function pi(u,f,m,b){if(b==null||0>=u||0>=f)return 2;if(m!=null){if(m.Da){var x=m.cd,k=m.bd,P=-2&m.v,I=-2&m.j;if(0>P||0>I||0>=x||0>=k||P+x>u||I+k>f)return 2;u=x,f=k}if(m.da){if(!Ee(u,f,x=[m.ib],k=[m.hb]))return 2;u=x[0],f=k[0]}}b.width=u,b.height=f;e:{var D=b.width,M=b.height;if(u=b.S,0>=D||0>=M||!(u>=Ac&&13>u))u=2;else{if(0>=b.Rd&&b.sd==null){P=k=x=f=0;var te=(I=D*Fp[u])*M;if(11>u||(k=(M+1)/2*(f=(D+1)/2),u==12&&(P=(x=D)*M)),(M=i(te+2*k+P))==null){u=1;break e}b.sd=M,11>u?((D=b.f.RGBA).eb=M,D.fb=0,D.A=I,D.size=te):((D=b.f.kb).y=M,D.O=0,D.fa=I,D.Fd=te,D.f=M,D.N=0+te,D.Ab=f,D.Cd=k,D.ea=M,D.W=0+te+k,D.Db=f,D.Ed=k,u==12&&(D.F=M,D.J=0+te+2*k),D.Tc=P,D.lb=x)}if(f=1,x=b.S,k=b.width,P=b.height,x>=Ac&&13>x)if(11>x)u=b.f.RGBA,f&=(I=Math.abs(u.A))*(P-1)+k<=u.size,f&=I>=k*Fp[x],f&=u.eb!=null;else{u=b.f.kb,I=(k+1)/2,te=(P+1)/2,D=Math.abs(u.fa),M=Math.abs(u.Ab);var ve=Math.abs(u.Db),q=Math.abs(u.lb),oe=q*(P-1)+k;f&=D*(P-1)+k<=u.Fd,f&=M*(te-1)+I<=u.Cd,f=(f&=ve*(te-1)+I<=u.Ed)&D>=k&M>=I&ve>=I,f&=u.y!=null,f&=u.f!=null,f&=u.ea!=null,x==12&&(f&=q>=k,f&=oe<=u.Tc,f&=u.F!=null)}else f=0;u=f?0:2}}return u!=0||m!=null&&m.fd&&(u=Ja(b)),u}var io=64,mn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vn=24,gi=32,Gs=8,mi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];me("Predictor0","PredictorAdd0"),C.Predictor0=function(){return 4278190080},C.Predictor1=function(u){return u},C.Predictor2=function(u,f,m){return f[m+0]},C.Predictor3=function(u,f,m){return f[m+1]},C.Predictor4=function(u,f,m){return f[m-1]},C.Predictor5=function(u,f,m){return Ne(Ne(u,f[m+1]),f[m+0])},C.Predictor6=function(u,f,m){return Ne(u,f[m-1])},C.Predictor7=function(u,f,m){return Ne(u,f[m+0])},C.Predictor8=function(u,f,m){return Ne(f[m-1],f[m+0])},C.Predictor9=function(u,f,m){return Ne(f[m+0],f[m+1])},C.Predictor10=function(u,f,m){return Ne(Ne(u,f[m-1]),Ne(f[m+0],f[m+1]))},C.Predictor11=function(u,f,m){var b=f[m+0];return 0>=Ue(b>>24&255,u>>24&255,(f=f[m-1])>>24&255)+Ue(b>>16&255,u>>16&255,f>>16&255)+Ue(b>>8&255,u>>8&255,f>>8&255)+Ue(255&b,255&u,255&f)?b:u},C.Predictor12=function(u,f,m){var b=f[m+0];return(Fe((u>>24&255)+(b>>24&255)-((f=f[m-1])>>24&255))<<24|Fe((u>>16&255)+(b>>16&255)-(f>>16&255))<<16|Fe((u>>8&255)+(b>>8&255)-(f>>8&255))<<8|Fe((255&u)+(255&b)-(255&f)))>>>0},C.Predictor13=function(u,f,m){var b=f[m-1];return(De((u=Ne(u,f[m+0]))>>24&255,b>>24&255)<<24|De(u>>16&255,b>>16&255)<<16|De(u>>8&255,b>>8&255)<<8|De(255&u,255&b))>>>0};var Ya=C.PredictorAdd0;C.PredictorAdd1=Ve,me("Predictor2","PredictorAdd2"),me("Predictor3","PredictorAdd3"),me("Predictor4","PredictorAdd4"),me("Predictor5","PredictorAdd5"),me("Predictor6","PredictorAdd6"),me("Predictor7","PredictorAdd7"),me("Predictor8","PredictorAdd8"),me("Predictor9","PredictorAdd9"),me("Predictor10","PredictorAdd10"),me("Predictor11","PredictorAdd11"),me("Predictor12","PredictorAdd12"),me("Predictor13","PredictorAdd13");var Ko=C.PredictorAdd2;qe("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),qe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var lr,bc=C.ColorIndexInverseTransform,ws=C.MapARGB,bs=C.VP8LColorIndexInverseTransformAlpha,Xa=C.MapAlpha,Za=C.VP8LPredictorsAdd=[];Za.length=16,(C.VP8LPredictors=[]).length=16,(C.VP8LPredictorsAdd_C=[]).length=16,(C.VP8LPredictors_C=[]).length=16;var Qa,el,vi,yi,wi,oo,bi,ao,qn,_s,Ct,Mt,cr,Ar,Ks,tl,Jo,_c,hp,fp,dp,pp,gp,mp,rl,vp,yp,wp,bp=i(511),_p=i(2041),Sp=i(225),Ap=i(767),xp=0,Eh=_p,Sc=Sp,yn=Ap,$n=bp,Ac=0,xc=1,Ep=2,Ec=3,Nc=4,Nh=5,Np=6,kh=7,Lh=8,kc=9,Ph=10,tv=[2,3,7],rv=[3,3,11],kp=[280,256,256,256,40],nv=[0,1,1,1,0],sv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],iv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ov=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],av=8,Oh=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Th=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],nl=null,lv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],cv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Lp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],uv=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],fv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],dv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_i=[],Zn=[],Js=[],pv=1,Pp=2,Si=[],Hn=[];Ws("UpsampleRgbLinePair",di,3),Ws("UpsampleBgrLinePair",jr,3),Ws("UpsampleRgbaLinePair",tn,4),Ws("UpsampleBgraLinePair",Ga,4),Ws("UpsampleArgbLinePair",Va,4),Ws("UpsampleRgba4444LinePair",no,2),Ws("UpsampleRgb565LinePair",ro,2);var gv=C.UpsampleRgbLinePair,mv=C.UpsampleBgrLinePair,Op=C.UpsampleRgbaLinePair,Tp=C.UpsampleBgraLinePair,Rp=C.UpsampleArgbLinePair,Cp=C.UpsampleRgba4444LinePair,vv=C.UpsampleRgb565LinePair,Lc=16,Pc=1<<Lc-1,sl=-227,Rh=482,yv=6,Ip=0,wv=i(256),bv=i(256),_v=i(256),Sv=i(256),Av=i(Rh-sl),xv=i(Rh-sl);Vs("YuvToRgbRow",di,3),Vs("YuvToBgrRow",jr,3),Vs("YuvToRgbaRow",tn,4),Vs("YuvToBgraRow",Ga,4),Vs("YuvToArgbRow",Va,4),Vs("YuvToRgba4444Row",no,2),Vs("YuvToRgb565Row",ro,2);var jp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Oc=[0,2,8],Ev=[8,7,6,4,4,2,2,2,1,1,1,1],Nv=1;this.WebPDecodeRGBA=function(u,f,m,b,x){var k=xc,P=new Le,I=new xt;P.ba=I,I.S=k,I.width=[I.width],I.height=[I.height];var D=I.width,M=I.height,te=new nt;if(te==null||u==null)var ve=2;else e(te!=null),ve=so(u,f,m,te.width,te.height,te.Pd,te.Qd,te.format,null);if(ve!=0?D=0:(D!=null&&(D[0]=te.width[0]),M!=null&&(M[0]=te.height[0]),D=1),D){I.width=I.width[0],I.height=I.height[0],b!=null&&(b[0]=I.width),x!=null&&(x[0]=I.height);e:{if(b=new qo,(x=new Te).data=u,x.w=f,x.ha=m,x.kd=1,f=[0],e(x!=null),((u=so(x.data,x.w,x.ha,null,null,null,f,null,x))==0||u==7)&&f[0]&&(u=4),(f=u)==0){if(e(P!=null),b.data=x.data,b.w=x.w+x.offset,b.ha=x.ha-x.offset,b.put=st,b.ac=ds,b.bc=js,b.ma=P,x.xa){if((u=Gi())==null){P=1;break e}if(function(q,oe){var de=[0],xe=[0],ge=[0];t:for(;;){if(q==null)return 0;if(oe==null)return q.a=2,0;if(q.l=oe,q.a=0,we(q.m,oe.data,oe.w,oe.ha),!Fs(q.m,de,xe,ge)){q.a=3;break t}if(q.xb=Pp,oe.width=de[0],oe.height=xe[0],!gs(de[0],xe[0],1,q,null))break t;return 1}return e(q.a!=0),0}(u,b)){if(b=(f=pi(b.width,b.height,P.Oa,P.ba))==0){t:{b=u;r:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((m=b.l)!=null),e((x=m.ma)!=null),b.xb!=0){if(b.ca=x.ba,b.tb=x.tb,e(b.ca!=null),!Ka(x.Oa,m,Ec)){b.a=2;break r}if(!Ki(b,m.width)||m.da)break r;if((m.da||at(b.ca.S))&&Xn(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&Xn()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!E(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!Jn(b,b.V,b.Ba,b.c,b.i,m.o,hi))break r;x.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(f=u.a)}else f=u.a}else{if((u=new uh)==null){P=1;break e}if(u.Fa=x.na,u.P=x.P,u.qc=x.Sa,vs(u,b)){if((f=pi(b.width,b.height,P.Oa,P.ba))==0){if(u.Aa=0,m=P.Oa,e((x=u)!=null),m!=null){if(0<(D=0>(D=m.Md)?0:100<D?255:255*D/100)){for(M=te=0;4>M;++M)12>(ve=x.pb[M]).lc&&(ve.ia=D*Ev[0>ve.lc?0:ve.lc]>>3),te|=ve.ia;te&&(alert("todo:VP8InitRandom"),x.ia=1)}x.Ga=m.Id,100<x.Ga?x.Ga=100:0>x.Ga&&(x.Ga=0)}(function(q,oe){if(q==null)return 0;if(oe==null)return vr(q,2,"NULL VP8Io parameter in VP8Decode().");if(!q.cb&&!vs(q,oe))return 0;if(e(q.cb),oe.ac==null||oe.ac(oe)){oe.ob&&(q.L=0);var de=Oc[q.L];if(q.L==2?(q.yb=0,q.zb=0):(q.yb=oe.v-de>>4,q.zb=oe.j-de>>4,0>q.yb&&(q.yb=0),0>q.zb&&(q.zb=0)),q.Va=oe.o+15+de>>4,q.Hb=oe.va+15+de>>4,q.Hb>q.za&&(q.Hb=q.za),q.Va>q.Ub&&(q.Va=q.Ub),0<q.L){var xe=q.ed;for(de=0;4>de;++de){var ge;if(q.Qa.Cb){var ke=q.Qa.Lb[de];q.Qa.Fb||(ke+=xe.Tb)}else ke=xe.Tb;for(ge=0;1>=ge;++ge){var Pe=q.gd[de][ge],je=ke;if(xe.Pc&&(je+=xe.vd[0],ge&&(je+=xe.od[0])),0<(je=0>je?0:63<je?63:je)){var Re=je;0<xe.wb&&(Re=4<xe.wb?Re>>2:Re>>1)>9-xe.wb&&(Re=9-xe.wb),1>Re&&(Re=1),Pe.dd=Re,Pe.tc=2*je+Re,Pe.ld=40<=je?2:15<=je?1:0}else Pe.tc=0;Pe.La=ge}}}de=0}else vr(q,6,"Frame setup failed"),de=q.a;if(de=de==0){if(de){q.$c=0,0<q.Aa||(q.Ic=Nv);t:{de=q.Ic,xe=4*(Re=q.za);var Ye=32*Re,He=Re+1,bt=0<q.L?Re*(0<q.Aa?2:1):0,Ge=(q.Aa==2?2:1)*Re;if((Pe=xe+832+(ge=3*(16*de+Oc[q.L])/2*Ye)+(ke=q.Fa!=null&&0<q.Fa.length?q.Kc.c*q.Kc.i:0))!=Pe)de=0;else{if(Pe>q.Vb){if(q.Vb=0,q.Ec=i(Pe),q.Fc=0,q.Ec==null){de=vr(q,1,"no memory during frame initialization.");break t}q.Vb=Pe}Pe=q.Ec,je=q.Fc,q.Ac=Pe,q.Bc=je,je+=xe,q.Gd=o(Ye,oc),q.Hd=0,q.rb=o(He+1,ja),q.sb=1,q.wa=bt?o(bt,Bn):null,q.Y=0,q.D.Nb=0,q.D.wa=q.wa,q.D.Y=q.Y,0<q.Aa&&(q.D.Y+=Re),e(!0),q.oc=Pe,q.pc=je,je+=832,q.ya=o(Ge,Fa),q.aa=0,q.D.ya=q.ya,q.D.aa=q.aa,q.Aa==2&&(q.D.aa+=Re),q.R=16*Re,q.B=8*Re,Re=(Ye=Oc[q.L])*q.R,Ye=Ye/2*q.B,q.sa=Pe,q.ta=je+Re,q.qa=q.sa,q.ra=q.ta+16*de*q.R+Ye,q.Ha=q.qa,q.Ia=q.ra+8*de*q.B+Ye,q.$c=0,je+=ge,q.mb=ke?Pe:null,q.nb=ke?je:null,e(je+ke<=q.Fc+q.Vb),cc(q),s(q.Ac,q.Bc,0,xe),de=1}}if(de){if(oe.ka=0,oe.y=q.sa,oe.O=q.ta,oe.f=q.qa,oe.N=q.ra,oe.ea=q.Ha,oe.Vd=q.Ia,oe.fa=q.R,oe.Rc=q.B,oe.F=null,oe.J=0,!xp){for(de=-255;255>=de;++de)bp[255+de]=0>de?-de:de;for(de=-1020;1020>=de;++de)_p[1020+de]=-128>de?-128:127<de?127:de;for(de=-112;112>=de;++de)Sp[112+de]=-16>de?-16:15<de?15:de;for(de=-255;510>=de;++de)Ap[255+de]=0>de?0:255<de?255:de;xp=1}bi=Ho,ao=fh,_s=ys,Ct=hc,Mt=fc,qn=hh,cr=vc,Ar=Qi,Ks=A,tl=H,Jo=yc,_c=g,hp=X,fp=he,dp=Zi,pp=za,gp=gc,mp=mc,Zn[0]=bh,Zn[1]=dh,Zn[2]=yh,Zn[3]=wh,Zn[4]=Bs,Zn[5]=_h,Zn[6]=Us,Zn[7]=Sh,Zn[8]=Ua,Zn[9]=zo,_i[0]=mh,_i[1]=gh,_i[2]=Da,_i[3]=dc,_i[4]=Yi,_i[5]=Ba,_i[6]=vh,Js[0]=xh,Js[1]=ph,Js[2]=Xi,Js[3]=Ah,Js[4]=qa,Js[5]=Ma,Js[6]=pc,de=1}else de=0}de&&(de=function(Nt,xr){for(Nt.M=0;Nt.M<Nt.Va;++Nt.M){var _t,Ke=Nt.Jc[Nt.M&Nt.Xb],Be=Nt.m,ur=Nt;for(_t=0;_t<ur.za;++_t){var dt=Be,kt=ur,Yt=kt.Ac,Fr=kt.Bc+4*_t,rn=kt.zc,nr=kt.ya[kt.aa+_t];if(kt.Qa.Bb?nr.$b=fe(dt,kt.Pa.jb[0])?2+fe(dt,kt.Pa.jb[2]):fe(dt,kt.Pa.jb[1]):nr.$b=0,kt.kc&&(nr.Ad=fe(dt,kt.Bd)),nr.Za=!fe(dt,145)+0,nr.Za){var Hr=nr.Ob,nn=0;for(kt=0;4>kt;++kt){var Er,Pt=rn[0+kt];for(Er=0;4>Er;++Er){Pt=hv[Yt[Fr+Er]][Pt];for(var Ft=Lp[fe(dt,Pt[0])];0<Ft;)Ft=Lp[2*Ft+fe(dt,Pt[Ft])];Pt=-Ft,Yt[Fr+Er]=Pt}n(Hr,nn,Yt,Fr,4),nn+=4,rn[0+kt]=Pt}}else Pt=fe(dt,156)?fe(dt,128)?1:3:fe(dt,163)?2:0,nr.Ob[0]=Pt,s(Yt,Fr,Pt,4),s(rn,0,Pt,4);nr.Dd=fe(dt,142)?fe(dt,114)?fe(dt,183)?1:3:2:0}if(ur.m.Ka)return vr(Nt,7,"Premature end-of-partition0 encountered.");for(;Nt.ja<Nt.za;++Nt.ja){if(ur=Ke,dt=(Be=Nt).rb[Be.sb-1],Yt=Be.rb[Be.sb+Be.ja],_t=Be.ya[Be.aa+Be.ja],Fr=Be.kc?_t.Ad:0)dt.la=Yt.la=0,_t.Za||(dt.Na=Yt.Na=0),_t.Hc=0,_t.Gc=0,_t.ia=0;else{var sr,Dt;if(dt=Yt,Yt=ur,Fr=Be.Pa.Xc,rn=Be.ya[Be.aa+Be.ja],nr=Be.pb[rn.$b],kt=rn.ad,Hr=0,nn=Be.rb[Be.sb-1],Pt=Er=0,s(kt,Hr,0,384),rn.Za)var Dr=0,Qn=Fr[3];else{Ft=i(16);var hr=dt.Na+nn.Na;if(hr=nl(Yt,Fr[1],hr,nr.Eb,0,Ft,0),dt.Na=nn.Na=(0<hr)+0,1<hr)bi(Ft,0,kt,Hr);else{var un=Ft[0]+3>>3;for(Ft=0;256>Ft;Ft+=16)kt[Hr+Ft]=un}Dr=1,Qn=Fr[0]}var qt=15&dt.la,Nr=15&nn.la;for(Ft=0;4>Ft;++Ft){var wn=1&Nr;for(un=Dt=0;4>un;++un)qt=qt>>1|(wn=(hr=nl(Yt,Qn,hr=wn+(1&qt),nr.Sc,Dr,kt,Hr))>Dr)<<7,Dt=Dt<<2|(3<hr?3:1<hr?2:kt[Hr+0]!=0),Hr+=16;qt>>=4,Nr=Nr>>1|wn<<7,Er=(Er<<8|Dt)>>>0}for(Qn=qt,Dr=Nr>>4,sr=0;4>sr;sr+=2){for(Dt=0,qt=dt.la>>4+sr,Nr=nn.la>>4+sr,Ft=0;2>Ft;++Ft){for(wn=1&Nr,un=0;2>un;++un)hr=wn+(1&qt),qt=qt>>1|(wn=0<(hr=nl(Yt,Fr[2],hr,nr.Qc,0,kt,Hr)))<<3,Dt=Dt<<2|(3<hr?3:1<hr?2:kt[Hr+0]!=0),Hr+=16;qt>>=2,Nr=Nr>>1|wn<<5}Pt|=Dt<<4*sr,Qn|=qt<<4<<sr,Dr|=(240&Nr)<<sr}dt.la=Qn,nn.la=Dr,rn.Hc=Er,rn.Gc=Pt,rn.ia=43690&Pt?0:nr.ia,Fr=!(Er|Pt)}if(0<Be.L&&(Be.wa[Be.Y+Be.ja]=Be.gd[_t.$b][_t.Za],Be.wa[Be.Y+Be.ja].La|=!Fr),ur.Ka)return vr(Nt,7,"Premature end-of-file encountered.")}if(cc(Nt),Be=xr,ur=1,_t=(Ke=Nt).D,dt=0<Ke.L&&Ke.M>=Ke.zb&&Ke.M<=Ke.Va,Ke.Aa==0)t:{if(_t.M=Ke.M,_t.uc=dt,Mn(Ke,_t),ur=1,_t=(Dt=Ke.D).Nb,dt=(Pt=Oc[Ke.L])*Ke.R,Yt=Pt/2*Ke.B,Ft=16*_t*Ke.R,un=8*_t*Ke.B,Fr=Ke.sa,rn=Ke.ta-dt+Ft,nr=Ke.qa,kt=Ke.ra-Yt+un,Hr=Ke.Ha,nn=Ke.Ia-Yt+un,Nr=(qt=Dt.M)==0,Er=qt>=Ke.Va-1,Ke.Aa==2&&Mn(Ke,Dt),Dt.uc)for(wn=(hr=Ke).D.M,e(hr.D.uc),Dt=hr.yb;Dt<hr.Hb;++Dt){Dr=Dt,Qn=wn;var sn=(bn=(Br=hr).D).Nb;sr=Br.R;var bn=bn.wa[bn.Y+Dr],_n=Br.sa,hn=Br.ta+16*sn*sr+16*Dr,Sn=bn.dd,Gt=bn.tc;if(Gt!=0)if(e(3<=Gt),Br.L==1)0<Dr&&pp(_n,hn,sr,Gt+4),bn.La&&mp(_n,hn,sr,Gt),0<Qn&&dp(_n,hn,sr,Gt+4),bn.La&&gp(_n,hn,sr,Gt);else{var An=Br.B,es=Br.qa,lo=Br.ra+8*sn*An+8*Dr,Ys=Br.Ha,Br=Br.Ia+8*sn*An+8*Dr;sn=bn.ld,0<Dr&&(Ar(_n,hn,sr,Gt+4,Sn,sn),tl(es,lo,Ys,Br,An,Gt+4,Sn,sn)),bn.La&&(_c(_n,hn,sr,Gt,Sn,sn),fp(es,lo,Ys,Br,An,Gt,Sn,sn)),0<Qn&&(cr(_n,hn,sr,Gt+4,Sn,sn),Ks(es,lo,Ys,Br,An,Gt+4,Sn,sn)),bn.La&&(Jo(_n,hn,sr,Gt,Sn,sn),hp(es,lo,Ys,Br,An,Gt,Sn,sn))}}if(Ke.ia&&alert("todo:DitherRow"),Be.put!=null){if(Dt=16*qt,qt=16*(qt+1),Nr?(Be.y=Ke.sa,Be.O=Ke.ta+Ft,Be.f=Ke.qa,Be.N=Ke.ra+un,Be.ea=Ke.Ha,Be.W=Ke.Ia+un):(Dt-=Pt,Be.y=Fr,Be.O=rn,Be.f=nr,Be.N=kt,Be.ea=Hr,Be.W=nn),Er||(qt-=Pt),qt>Be.o&&(qt=Be.o),Be.F=null,Be.J=null,Ke.Fa!=null&&0<Ke.Fa.length&&Dt<qt&&(Be.J=Vt(Ke,Be,Dt,qt-Dt),Be.F=Ke.mb,Be.F==null&&Be.F.length==0)){ur=vr(Ke,3,"Could not decode alpha data.");break t}Dt<Be.j&&(Pt=Be.j-Dt,Dt=Be.j,e(!(1&Pt)),Be.O+=Ke.R*Pt,Be.N+=Ke.B*(Pt>>1),Be.W+=Ke.B*(Pt>>1),Be.F!=null&&(Be.J+=Be.width*Pt)),Dt<qt&&(Be.O+=Be.v,Be.N+=Be.v>>1,Be.W+=Be.v>>1,Be.F!=null&&(Be.J+=Be.v),Be.ka=Dt-Be.j,Be.U=Be.va-Be.v,Be.T=qt-Dt,ur=Be.put(Be))}_t+1!=Ke.Ic||Er||(n(Ke.sa,Ke.ta-dt,Fr,rn+16*Ke.R,dt),n(Ke.qa,Ke.ra-Yt,nr,kt+8*Ke.B,Yt),n(Ke.Ha,Ke.Ia-Yt,Hr,nn+8*Ke.B,Yt))}if(!ur)return vr(Nt,6,"Output aborted.")}return 1}(q,oe)),oe.bc!=null&&oe.bc(oe),de&=1}return de?(q.cb=0,de):0})(u,b)||(f=u.a)}}else f=u.a}f==0&&P.Oa!=null&&P.Oa.fd&&(f=Ja(P.ba))}P=f}k=P!=0?null:11>k?I.f.RGBA.eb:I.f.kb.y}else k=null;return k};var Fp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(C,G){for(var L="",O=0;O<4;O++)L+=String.fromCharCode(C[G++]);return L}function h(C,G){return C[G+0]|C[G+1]<<8}function p(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16)>>>0}function v(C,G){return(C[G+0]|C[G+1]<<8|C[G+2]<<16|C[G+3]<<24)>>>0}new l;var d=[0],y=[0],w=[],S=new l,_=t,j=function(C,G){var L={},O=0,z=!1,W=0,pe=0;if(L.frames=[],!function(N,U){for(var V=0;V<4;V++)if(N[U+V]!="RIFF".charCodeAt(V))return!0;return!1}(C,G)){for(v(C,G+=4),G+=8;G<C.length;){var ue=c(C,G),ae=v(C,G+=4);G+=4;var re=ae+(1&ae);switch(ue){case"VP8 ":case"VP8L":L.frames[O]===void 0&&(L.frames[O]={}),(_e=L.frames[O]).src_off=z?pe:G-8,_e.src_size=W+ae+8,O++,z&&(z=!1,W=0,pe=0);break;case"VP8X":(_e=L.header={}).feature_flags=C[G];var we=G+4;_e.canvas_width=1+p(C,we),we+=3,_e.canvas_height=1+p(C,we),we+=3;break;case"ALPH":z=!0,W=re+8,pe=G-8;break;case"ANIM":(_e=L.header).bgcolor=v(C,G),we=G+4,_e.loop_count=h(C,we),we+=2;break;case"ANMF":var Ce,_e;(_e=L.frames[O]={}).offset_x=2*p(C,G),G+=3,_e.offset_y=2*p(C,G),G+=3,_e.width=1+p(C,G),G+=3,_e.height=1+p(C,G),G+=3,_e.duration=p(C,G),G+=3,Ce=C[G++],_e.dispose=1&Ce,_e.blend=Ce>>1&1}ue!="ANMF"&&(G+=re)}return L}}(_,0);j.response=_,j.rgbaoutput=!0,j.dataurl=!1;var T=j.header?j.header:null,R=j.frames?j.frames:null;if(T){T.loop_counter=T.loop_count,d=[T.canvas_height],y=[T.canvas_width];for(var K=0;K<R.length&&R[K].blend!=0;K++);}var se=R[0],ie=S.WebPDecodeRGBA(_,se.src_off,se.src_size,y,d);se.rgba=ie,se.imgwidth=y[0],se.imgheight=d[0];for(var J=0;J<y[0]*d[0]*4;J++)w[J]=ie[J];return this.width=y,this.height=d,this.data=w,this}(function(t){var e,r,n,s,i,o,a,l,c,h=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new l,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,c=new h}]);var p=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=N;Object.defineProperty(this,"pdf",{get:function(){return U}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(E){V=!!E}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(E){Z=!!E}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(E){isNaN(E)||(ne=E)}});var $=0;Object.defineProperty(this,"posY",{get:function(){return $},set:function(E){isNaN(E)||($=E)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(E){var le;typeof E=="number"?le=[E,E,E,E]:((le=new Array(4))[0]=E[0],le[1]=E.length>=2?E[1]:le[0],le[2]=E.length>=3?E[2]:le[0],le[3]=E.length>=4?E[3]:le[1]),c.margin=le}});var ee=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ee},set:function(E){ee=E}});var Q=0;Object.defineProperty(this,"lastBreak",{get:function(){return Q},set:function(E){Q=E}});var fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return fe},set:function(E){fe=E}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(E){E instanceof h&&(c=E)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(E){c.path=E}});var Ae=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ae},set:function(E){Ae=E}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(E){var le;le=v(E),this.ctx.fillStyle=le.style,this.ctx.isFillTransparent=le.a===0,this.ctx.fillOpacity=le.a,this.pdf.setFillColor(le.r,le.g,le.b,{a:le.a}),this.pdf.setTextColor(le.r,le.g,le.b,{a:le.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(E){var le=v(E);this.ctx.strokeStyle=le.style,this.ctx.isStrokeTransparent=le.a===0,this.ctx.strokeOpacity=le.a,le.a===0?this.pdf.setDrawColor(255,255,255):(le.a,this.pdf.setDrawColor(le.r,le.g,le.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(E){["butt","round","square"].indexOf(E)!==-1&&(this.ctx.lineCap=E,this.pdf.setLineCap(E))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(E){isNaN(E)||(this.ctx.lineWidth=E,this.pdf.setLineWidth(E))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(E){["bevel","round","miter"].indexOf(E)!==-1&&(this.ctx.lineJoin=E,this.pdf.setLineJoin(E))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(E){isNaN(E)||(this.ctx.miterLimit=E,this.pdf.setMiterLimit(E))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(E){this.ctx.textBaseline=E}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(E){["right","end","center","left","start"].indexOf(E)!==-1&&(this.ctx.textAlign=E)}});var F=null,B=null,Y=null;Object.defineProperty(this,"fontFaces",{get:function(){return Y},set:function(E){F=null,B=null,Y=E}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(E){var le;if(this.ctx.font=E,(le=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(E))!==null){var ye=le[1];le[2];var Ee=le[3],ce=le[4];le[5];var Se=le[6],me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(me==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:me==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var Ie=function(qe){var Ot,St,mt=[],tt=qe.trim();if(tt==="")return jf;if(tt in Rg)return[Rg[tt]];for(;tt!=="";){switch(St=null,Ot=(tt=Ig(tt)).charAt(0)){case'"':case"'":St=cE(tt.substring(1),Ot);break;default:St=uE(tt)}if(St===null||(mt.push(St[0]),(tt=Ig(St[1]))!==""&&tt.charAt(0)!==","))return jf;tt=tt.replace(/^,/,"")}return mt}(Se);if(this.fontFaces){var Ne=function(qe,Ot){var St=qe.getFontList(),mt=JSON.stringify(St);if(F===null||B!==mt){var tt=function(Et){var et=[];return Object.keys(Et).forEach(function(Wt){Et[Wt].forEach(function(at){var ft=null;switch(at){case"bold":ft={family:Wt,weight:"bold"};break;case"italic":ft={family:Wt,style:"italic"};break;case"bolditalic":ft={family:Wt,weight:"bold",style:"italic"};break;case"":case"normal":ft={family:Wt}}ft!==null&&(ft.ref={name:Wt,style:at},et.push(ft))})}),et}(St);F=function(Et){for(var et={},Wt=0;Wt<Et.length;++Wt){var at=If(Et[Wt]),ft=at.family,Zt=at.stretch,xt=at.style,nt=at.weight;et[ft]=et[ft]||{},et[ft][Zt]=et[ft][Zt]||{},et[ft][Zt][xt]=et[ft][Zt][xt]||{},et[ft][Zt][xt][nt]=at}return et}(tt.concat(Ot)),B=mt}return F}(this.pdf,this.fontFaces),Fe=Ie.map(function(qe){return{family:qe,stretch:"normal",weight:Ee,style:ye}}),De=function(qe,Ot,St){for(var mt=(St=St||{}).defaultFontFamily||"times",tt=Object.assign({},lE,St.genericFontFamilies||{}),Et=null,et=null,Wt=0;Wt<Ot.length;++Wt)if(tt[(Et=If(Ot[Wt])).family]&&(Et.family=tt[Et.family]),qe.hasOwnProperty(Et.family)){et=qe[Et.family];break}if(!(et=et||qe[mt]))throw new Error("Could not find a font-family for the rule '"+Cg(Et)+"' and default family '"+mt+"'.");if(et=function(at,ft){if(ft[at])return ft[at];var Zt=Ld[at],xt=Zt<=Ld.normal?-1:1,nt=Tg(ft,Ym,Zt,xt);if(!nt)throw new Error("Could not find a matching font-stretch value for "+at);return nt}(Et.stretch,et),et=function(at,ft){if(ft[at])return ft[at];for(var Zt=Jm[at],xt=0;xt<Zt.length;++xt)if(ft[Zt[xt]])return ft[Zt[xt]];throw new Error("Could not find a matching font-style for "+at)}(Et.style,et),!(et=function(at,ft){if(ft[at])return ft[at];if(at===400&&ft[500])return ft[500];if(at===500&&ft[400])return ft[400];var Zt=aE[at],xt=Tg(ft,Xm,Zt,at<400?-1:1);if(!xt)throw new Error("Could not find a matching font-weight for value "+at);return xt}(Et.weight,et)))throw new Error("Failed to resolve a font for the rule '"+Cg(Et)+"'.");return et}(Ne,Fe);this.pdf.setFont(De.ref.name,De.ref.style)}else{var Ue="";(Ee==="bold"||parseInt(Ee,10)>=700||ye==="bold")&&(Ue="bold"),ye==="italic"&&(Ue+="italic"),Ue.length===0&&(Ue="normal");for(var Ve="",$e={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Me=0;Me<Ie.length;Me++){if(this.pdf.internal.getFont(Ie[Me],Ue,{noFallback:!0,disableWarning:!0})!==void 0){Ve=Ie[Me];break}if(Ue==="bolditalic"&&this.pdf.internal.getFont(Ie[Me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ve=Ie[Me],Ue="bold";else if(this.pdf.internal.getFont(Ie[Me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ve=Ie[Me],Ue="normal";break}}if(Ve===""){for(var Qe=0;Qe<Ie.length;Qe++)if($e[Ie[Qe]]){Ve=$e[Ie[Qe]];break}}Ve=Ve===""?"Times":Ve,this.pdf.setFont(Ve,Ue)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(E){this.ctx.globalCompositeOperation=E}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(E){this.ctx.globalAlpha=E}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(E){this.ctx.lineDashOffset=E,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(E){this.ctx.lineDash=E,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(E){this.ctx.ignoreClearRect=!!E}})};p.prototype.setLineDash=function(N){this.lineDash=N},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){R.call(this,"fill",!1)},p.prototype.stroke=function(){R.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new o(N,U));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(N,U)},p.prototype.closePath=function(){var N=new o(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Ut(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){N=new o(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},p.prototype.lineTo=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new o(N,U));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new o(V.x,V.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},p.prototype.quadraticCurveTo=function(N,U,V,Z){if(isNaN(V)||isNaN(Z)||isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new o(V,Z)),$=this.ctx.transform.applyToPoint(new o(N,U));this.path.push({type:"qct",x1:$.x,y1:$.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new o(ne.x,ne.y)},p.prototype.bezierCurveTo=function(N,U,V,Z,ne,$){if(isNaN(ne)||isNaN($)||isNaN(N)||isNaN(U)||isNaN(V)||isNaN(Z))throw $t.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ee=this.ctx.transform.applyToPoint(new o(ne,$)),Q=this.ctx.transform.applyToPoint(new o(N,U)),fe=this.ctx.transform.applyToPoint(new o(V,Z));this.path.push({type:"bct",x1:Q.x,y1:Q.y,x2:fe.x,y2:fe.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},p.prototype.arc=function(N,U,V,Z,ne,$){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(Z)||isNaN(ne))throw $t.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if($=!!$,!this.ctx.transform.isIdentity){var ee=this.ctx.transform.applyToPoint(new o(N,U));N=ee.x,U=ee.y;var Q=this.ctx.transform.applyToPoint(new o(0,V)),fe=this.ctx.transform.applyToPoint(new o(0,0));V=Math.sqrt(Math.pow(Q.x-fe.x,2)+Math.pow(Q.y-fe.y,2))}Math.abs(ne-Z)>=2*Math.PI&&(Z=0,ne=2*Math.PI),this.path.push({type:"arc",x:N,y:U,radius:V,startAngle:Z,endAngle:ne,counterclockwise:$})},p.prototype.arcTo=function(N,U,V,Z,ne){throw new Error("arcTo not implemented.")},p.prototype.rect=function(N,U,V,Z){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(Z))throw $t.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,U),this.lineTo(N+V,U),this.lineTo(N+V,U+Z),this.lineTo(N,U+Z),this.lineTo(N,U),this.lineTo(N+V,U),this.lineTo(N,U)},p.prototype.fillRect=function(N,U,V,Z){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(Z))throw $t.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,U,V,Z),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},p.prototype.strokeRect=function(N,U,V,Z){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(Z))throw $t.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(N,U,V,Z),this.stroke())},p.prototype.clearRect=function(N,U,V,Z){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(Z))throw $t.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,U,V,Z))},p.prototype.save=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},p.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(U),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(N){var U,V,Z,ne;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))U=0,V=0,Z=0,ne=0;else{var $=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if($!==null)U=parseInt($[1]),V=parseInt($[2]),Z=parseInt($[3]),ne=1;else if(($=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)U=parseInt($[1]),V=parseInt($[2]),Z=parseInt($[3]),ne=parseFloat($[4]);else{if(ne=1,typeof N=="string"&&N.charAt(0)!=="#"){var ee=new $m(N);N=ee.ok?ee.toHex():"#000000"}N.length===4?(U=N.substring(1,2),U+=U,V=N.substring(2,3),V+=V,Z=N.substring(3,4),Z+=Z):(U=N.substring(1,3),V=N.substring(3,5),Z=N.substring(5,7)),U=parseInt(U,16),V=parseInt(V,16),Z=parseInt(Z,16)}}return{r:U,g:V,b:Z,a:ne,style:N}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(N,U,V,Z){if(isNaN(U)||isNaN(V)||typeof N!="string")throw $t.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!d.call(this)){var ne=re(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;O.call(this,{text:N,x:U,y:V,scale:$,angle:ne,align:this.textAlign,maxWidth:Z})}},p.prototype.strokeText=function(N,U,V,Z){if(isNaN(U)||isNaN(V)||typeof N!="string")throw $t.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){Z=isNaN(Z)?void 0:Z;var ne=re(this.ctx.transform.rotation),$=this.ctx.transform.scaleX;O.call(this,{text:N,x:U,y:V,scale:$,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:Z})}},p.prototype.measureText=function(N){if(typeof N!="string")throw $t.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,V=this.pdf.internal.scaleFactor,Z=U.internal.getFontSize(),ne=U.getStringUnitWidth(N)*Z/U.internal.scaleFactor;return new function($){var ee=($=$||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this}({width:ne*=Math.round(96*V/72*1e4)/1e4})},p.prototype.scale=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(N,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.rotate=function(N){if(isNaN(N))throw $t.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},p.prototype.translate=function(N,U){if(isNaN(N)||isNaN(U))throw $t.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,N,U);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.transform=function(N,U,V,Z,ne,$){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(Z)||isNaN(ne)||isNaN($))throw $t.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ee=new l(N,U,V,Z,ne,$);this.ctx.transform=this.ctx.transform.multiply(ee)},p.prototype.setTransform=function(N,U,V,Z,ne,$){N=isNaN(N)?1:N,U=isNaN(U)?0:U,V=isNaN(V)?0:V,Z=isNaN(Z)?1:Z,ne=isNaN(ne)?0:ne,$=isNaN($)?0:$,this.ctx.transform=new l(N,U,V,Z,ne,$)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(N,U,V,Z,ne,$,ee,Q,fe){var Ae=this.pdf.getImageProperties(N),F=1,B=1,Y=1,E=1;Z!==void 0&&Q!==void 0&&(Y=Q/Z,E=fe/ne,F=Ae.width/Z*Q/Z,B=Ae.height/ne*fe/ne),$===void 0&&($=U,ee=V,U=0,V=0),Z!==void 0&&Q===void 0&&(Q=Z,fe=ne),Z===void 0&&Q===void 0&&(Q=Ae.width,fe=Ae.height);var le=this.ctx.transform.decompose(),ye=re(le.rotate.shx),Ee=new l,ce=(Ee=(Ee=(Ee=Ee.multiply(le.translate)).multiply(le.skew)).multiply(le.scale)).applyToRectangle(new a($-U*Y,ee-V*E,Z*F,ne*B));if(this.autoPaging){for(var Se,me=S.call(this,ce),Ie=[],Ne=0;Ne<me.length;Ne+=1)Ie.indexOf(me[Ne])===-1&&Ie.push(me[Ne]);T(Ie);for(var Fe=Ie[0],De=Ie[Ie.length-1],Ue=Fe;Ue<De+1;Ue++){this.pdf.setPage(Ue);var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=Ue===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],qe=Ue===1?0:Me+(Ue-2)*Qe;if(this.ctx.clip_path.length!==0){var Ot=this.path;Se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(Se,this.posX+this.margin[3],-qe+$e+this.ctx.prevPageLastElemOffset),K.call(this,"fill",!0),this.path=Ot}var St=JSON.parse(JSON.stringify(ce));St=j([St],this.posX+this.margin[3],-qe+$e+this.ctx.prevPageLastElemOffset)[0];var mt=(Ue>Fe||Ue<De)&&w.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Qe,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",St.x,St.y,St.w,St.h,null,null,ye),mt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(N,"JPEG",ce.x,ce.y,ce.w,ce.h,null,null,ye)};var S=function(N,U,V){var Z=[];U=U||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":Z.push(Math.floor((N.y+ne)/V)+1);break;case"arc":Z.push(Math.floor((N.y+ne-N.radius)/V)+1),Z.push(Math.floor((N.y+ne+N.radius)/V)+1);break;case"qct":var $=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);Z.push(Math.floor(($.y+ne)/V)+1),Z.push(Math.floor(($.y+$.h+ne)/V)+1);break;case"bct":var ee=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);Z.push(Math.floor((ee.y+ne)/V)+1),Z.push(Math.floor((ee.y+ee.h+ne)/V)+1);break;case"rect":Z.push(Math.floor((N.y+ne)/V)+1),Z.push(Math.floor((N.y+N.h+ne)/V)+1)}for(var Q=0;Q<Z.length;Q+=1)for(;this.pdf.internal.getNumberOfPages()<Z[Q];)_.call(this);return Z},_=function(){var N=this.fillStyle,U=this.strokeStyle,V=this.font,Z=this.lineCap,ne=this.lineWidth,$=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=U,this.font=V,this.lineCap=Z,this.lineWidth=ne,this.lineJoin=$},j=function(N,U,V){for(var Z=0;Z<N.length;Z++)switch(N[Z].type){case"bct":N[Z].x2+=U,N[Z].y2+=V;case"qct":N[Z].x1+=U,N[Z].y1+=V;default:N[Z].x+=U,N[Z].y+=V}return N},T=function(N){return N.sort(function(U,V){return U-V})},R=function(N,U){var V=this.fillStyle,Z=this.strokeStyle,ne=this.lineCap,$=this.lineWidth,ee=Math.abs($*this.ctx.transform.scaleX),Q=this.lineJoin;if(this.autoPaging){for(var fe,Ae,F=JSON.parse(JSON.stringify(this.path)),B=JSON.parse(JSON.stringify(this.path)),Y=[],E=0;E<B.length;E++)if(B[E].x!==void 0)for(var le=S.call(this,B[E]),ye=0;ye<le.length;ye+=1)Y.indexOf(le[ye])===-1&&Y.push(le[ye]);for(var Ee=0;Ee<Y.length;Ee++)for(;this.pdf.internal.getNumberOfPages()<Y[Ee];)_.call(this);T(Y);for(var ce=Y[0],Se=Y[Y.length-1],me=ce;me<Se+1;me++){this.pdf.setPage(me),this.fillStyle=V,this.strokeStyle=Z,this.lineCap=ne,this.lineWidth=ee,this.lineJoin=Q;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ne=me===1?this.posY+this.margin[0]:this.margin[0],Fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=me===1?0:Fe+(me-2)*De;if(this.ctx.clip_path.length!==0){var Ve=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(fe,this.posX+this.margin[3],-Ue+Ne+this.ctx.prevPageLastElemOffset),K.call(this,N,!0),this.path=Ve}if(Ae=JSON.parse(JSON.stringify(F)),this.path=j(Ae,this.posX+this.margin[3],-Ue+Ne+this.ctx.prevPageLastElemOffset),U===!1||me===0){var $e=(me>ce||me<Se)&&w.call(this);$e&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,De,null).clip().discardPath()),K.call(this,N,U),$e&&this.pdf.restoreGraphicsState()}this.lineWidth=$}this.path=F}else this.lineWidth=ee,K.call(this,N,U),this.lineWidth=$},K=function(N,U){if((N!=="stroke"||U||!y.call(this))&&(N==="stroke"||U||!d.call(this))){for(var V,Z,ne=[],$=this.path,ee=0;ee<$.length;ee++){var Q=$[ee];switch(Q.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:Q,deltas:[],abs:[]});break;case"lt":var fe=ne.length;if($[ee-1]&&!isNaN($[ee-1].x)&&(V=[Q.x-$[ee-1].x,Q.y-$[ee-1].y],fe>0)){for(;fe>=0;fe--)if(ne[fe-1].close!==!0&&ne[fe-1].begin!==!0){ne[fe-1].deltas.push(V),ne[fe-1].abs.push(Q);break}}break;case"bct":V=[Q.x1-$[ee-1].x,Q.y1-$[ee-1].y,Q.x2-$[ee-1].x,Q.y2-$[ee-1].y,Q.x-$[ee-1].x,Q.y-$[ee-1].y],ne[ne.length-1].deltas.push(V);break;case"qct":var Ae=$[ee-1].x+2/3*(Q.x1-$[ee-1].x),F=$[ee-1].y+2/3*(Q.y1-$[ee-1].y),B=Q.x+2/3*(Q.x1-Q.x),Y=Q.y+2/3*(Q.y1-Q.y),E=Q.x,le=Q.y;V=[Ae-$[ee-1].x,F-$[ee-1].y,B-$[ee-1].x,Y-$[ee-1].y,E-$[ee-1].x,le-$[ee-1].y],ne[ne.length-1].deltas.push(V);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(Q)}}Z=U?null:N==="stroke"?"stroke":"fill";for(var ye=!1,Ee=0;Ee<ne.length;Ee++)if(ne[Ee].arc)for(var ce=ne[Ee].abs,Se=0;Se<ce.length;Se++){var me=ce[Se];me.type==="arc"?J.call(this,me.x,me.y,me.radius,me.startAngle,me.endAngle,me.counterclockwise,void 0,U,!ye):z.call(this,me.x,me.y),ye=!0}else if(ne[Ee].close===!0)this.pdf.internal.out("h"),ye=!1;else if(ne[Ee].begin!==!0){var Ie=ne[Ee].start.x,Ne=ne[Ee].start.y;W.call(this,ne[Ee].deltas,Ie,Ne),ye=!0}Z&&C.call(this,Z),U&&G.call(this)}},se=function(N){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-V;case"top":return N+U-V;case"hanging":return N+U-2*V;case"middle":return N+U/2-V;default:return N}},ie=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(U,V){this.colorStops.push([U,V])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var J=function(N,U,V,Z,ne,$,ee,Q,fe){for(var Ae=ue.call(this,V,Z,ne,$),F=0;F<Ae.length;F++){var B=Ae[F];F===0&&(fe?L.call(this,B.x1+N,B.y1+U):z.call(this,B.x1+N,B.y1+U)),pe.call(this,N,U,B.x2,B.y2,B.x3,B.y3,B.x4,B.y4)}Q?G.call(this):C.call(this,ee)},C=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},G=function(){this.pdf.clip(),this.pdf.discardPath()},L=function(N,U){this.pdf.internal.out(r(N)+" "+n(U)+" m")},O=function(N){var U;switch(N.align){case"right":case"end":U="right";break;case"center":U="center";break;default:U="left"}var V,Z,ne,$=this.pdf.getTextDimensions(N.text),ee=se.call(this,N.y),Q=ie.call(this,ee)-$.h,fe=this.ctx.transform.applyToPoint(new o(N.x,ee));if(this.autoPaging){var Ae=this.ctx.transform.decompose(),F=new l;F=(F=(F=F.multiply(Ae.translate)).multiply(Ae.skew)).multiply(Ae.scale);for(var B=this.ctx.transform.applyToRectangle(new a(N.x,ee,$.w,$.h)),Y=F.applyToRectangle(new a(N.x,Q,$.w,$.h)),E=S.call(this,Y),le=[],ye=0;ye<E.length;ye+=1)le.indexOf(E[ye])===-1&&le.push(E[ye]);T(le);for(var Ee=le[0],ce=le[le.length-1],Se=Ee;Se<ce+1;Se++){this.pdf.setPage(Se);var me=Se===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ne=this.pdf.internal.pageSize.height-this.margin[2],Fe=Ne-this.margin[0],De=this.pdf.internal.pageSize.width-this.margin[1],Ue=De-this.margin[3],Ve=Se===1?0:Ie+(Se-2)*Fe;if(this.ctx.clip_path.length!==0){var $e=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=j(V,this.posX+this.margin[3],-1*Ve+me),K.call(this,"fill",!0),this.path=$e}var Me=j([JSON.parse(JSON.stringify(Y))],this.posX+this.margin[3],-Ve+me+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*N.scale),ne=this.lineWidth,this.lineWidth=ne*N.scale);var Qe=this.autoPaging!=="text";if(Qe||Me.y+Me.h<=Ne){if(Qe||Me.y>=me&&Me.x<=De){var qe=Qe?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||De-Me.x)[0],Ot=j([JSON.parse(JSON.stringify(B))],this.posX+this.margin[3],-Ve+me+this.ctx.prevPageLastElemOffset)[0],St=Qe&&(Se>Ee||Se<ce)&&w.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Fe,null).clip().discardPath()),this.pdf.text(qe,Ot.x,Ot.y,{angle:N.angle,align:U,renderingMode:N.renderingMode}),St&&this.pdf.restoreGraphicsState()}}else Me.y<Ne&&(this.ctx.prevPageLastElemOffset+=Ne-Me.y);N.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ne)}}else N.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*N.scale),ne=this.lineWidth,this.lineWidth=ne*N.scale),this.pdf.text(N.text,fe.x+this.posX,fe.y+this.posY,{angle:N.angle,align:U,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=ne)},z=function(N,U,V,Z){V=V||0,Z=Z||0,this.pdf.internal.out(r(N+V)+" "+n(U+Z)+" l")},W=function(N,U,V){return this.pdf.lines(N,U,V,null,null)},pe=function(N,U,V,Z,ne,$,ee,Q){this.pdf.internal.out([e(s(V+N)),e(i(Z+U)),e(s(ne+N)),e(i($+U)),e(s(ee+N)),e(i(Q+U)),"c"].join(" "))},ue=function(N,U,V,Z){for(var ne=2*Math.PI,$=Math.PI/2;U>V;)U-=ne;var ee=Math.abs(V-U);ee<ne&&Z&&(ee=ne-ee);for(var Q=[],fe=Z?-1:1,Ae=U;ee>1e-5;){var F=Ae+fe*Math.min(ee,$);Q.push(ae.call(this,N,Ae,F)),ee-=Math.abs(F-Ae),Ae=F}return Q},ae=function(N,U,V){var Z=(V-U)/2,ne=N*Math.cos(Z),$=N*Math.sin(Z),ee=ne,Q=-$,fe=ee*ee+Q*Q,Ae=fe+ee*ne+Q*$,F=4/3*(Math.sqrt(2*fe*Ae)-Ae)/(ee*$-Q*ne),B=ee-F*Q,Y=Q+F*ee,E=B,le=-Y,ye=Z+U,Ee=Math.cos(ye),ce=Math.sin(ye);return{x1:N*Math.cos(U),y1:N*Math.sin(U),x2:B*Ee-Y*ce,y2:B*ce+Y*Ee,x3:E*Ee-le*ce,y3:E*ce+le*Ee,x4:N*Math.cos(V),y4:N*Math.sin(V)}},re=function(N){return 180*N/Math.PI},we=function(N,U,V,Z,ne,$){var ee=N+.5*(V-N),Q=U+.5*(Z-U),fe=ne+.5*(V-ne),Ae=$+.5*(Z-$),F=Math.min(N,ne,ee,fe),B=Math.max(N,ne,ee,fe),Y=Math.min(U,$,Q,Ae),E=Math.max(U,$,Q,Ae);return new a(F,Y,B-F,E-Y)},Ce=function(N,U,V,Z,ne,$,ee,Q){var fe,Ae,F,B,Y,E,le,ye,Ee,ce,Se,me,Ie,Ne,Fe=V-N,De=Z-U,Ue=ne-V,Ve=$-Z,$e=ee-ne,Me=Q-$;for(Ae=0;Ae<41;Ae++)Ee=(le=(F=N+(fe=Ae/40)*Fe)+fe*((Y=V+fe*Ue)-F))+fe*(Y+fe*(ne+fe*$e-Y)-le),ce=(ye=(B=U+fe*De)+fe*((E=Z+fe*Ve)-B))+fe*(E+fe*($+fe*Me-E)-ye),Ae==0?(Se=Ee,me=ce,Ie=Ee,Ne=ce):(Se=Math.min(Se,Ee),me=Math.min(me,ce),Ie=Math.max(Ie,Ee),Ne=Math.max(Ne,ce));return new a(Math.round(Se),Math.round(me),Math.round(Ie-Se),Math.round(Ne-me))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,U,V=(N=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:U}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ze.API),function(t){var e=function(o){var a,l,c,h,p,v,d,y,w,S;for(l=[],c=0,h=(o+=a="\0\0\0\0".slice(o.length%4||4)).length;h>c;c+=4)(p=(o.charCodeAt(c)<<24)+(o.charCodeAt(c+1)<<16)+(o.charCodeAt(c+2)<<8)+o.charCodeAt(c+3))!==0?(v=(p=((p=((p=((p=(p-(S=p%85))/85)-(w=p%85))/85)-(y=p%85))/85)-(d=p%85))/85)%85,l.push(v+33,d+33,y+33,w+33,S+33)):l.push(122);return function(_,j){for(var T=j;T>0;T--)_.pop()}(l,a.length),String.fromCharCode.apply(String,l)+"~>"},r=function(o){var a,l,c,h,p,v=String,d="length",y=255,w="charCodeAt",S="slice",_="replace";for(o[S](-2),o=o[S](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),c=[],h=0,p=(o+=a="uuuuu"[S](o[d]%5||5))[d];p>h;h+=5)l=52200625*(o[w](h)-33)+614125*(o[w](h+1)-33)+7225*(o[w](h+2)-33)+85*(o[w](h+3)-33)+(o[w](h+4)-33),c.push(y&l>>24,y&l>>16,y&l>>8,y&l);return function(j,T){for(var R=T;R>0;R--)j.pop()}(c,a[d]),v.fromCharCode.apply(v,c)},n=function(o){return o.split("").map(function(a){return("0"+a.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),a.test(o)===!1)return"";for(var l="",c=0;c<o.length;c+=2)l+=String.fromCharCode("0x"+(o[c]+o[c+1]));return l},i=function(o){for(var a=new Uint8Array(o.length),l=o.length;l--;)a[l]=o.charCodeAt(l);return(a=_d(a)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(o,a){var l=0,c=o||"",h=[];for(typeof(a=a||[])=="string"&&(a=[a]),l=0;l<a.length;l+=1)switch(a[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=s(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=n(c),h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[l]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(Ze.API),function(t){t.loadFile=function(e,r,n){return function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,c,h){var p=new XMLHttpRequest,v=0,d=function(y){var w=y.length,S=[],_=String.fromCharCode;for(v=0;v<w;v+=1)S.push(_(255&y.charCodeAt(v)));return S.join("")};if(p.open("GET",l,!c),p.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(p.onload=function(){p.status===200?h(d(this.responseText)):h(void 0)}),p.send(null),c&&p.status===200)return d(p.responseText)}(s,i,o)}catch{}return a}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Ze.API),function(t){function e(){return(lt.html2canvas?Promise.resolve(lt.html2canvas):mf(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(lt.DOMPurify?Promise.resolve(lt.DOMPurify):mf(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var l=Ut(a);return l==="undefined"?"undefined":l==="string"||a instanceof String?"string":l==="number"||a instanceof Number?"number":l==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":l==="object"?"object":"unknown"},s=function(a,l){var c=document.createElement(a);for(var h in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[h]=l.style[h];return c},i=function a(l,c){for(var h=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),p=l.firstChild;p;p=p.nextSibling)c!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||h.appendChild(a(p,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(h.width=l.width,h.height=l.height,h.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(h.value=l.value),h.addEventListener("load",function(){h.scrollTop=l.scrollTop,h.scrollLeft=l.scrollLeft},!0)),h},o=function a(l){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),h=a.convert(Promise.resolve(),c);return(h=h.setProgress(1,a,1,[a])).set(l)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(a,l){return a.__proto__=l||o.prototype,a},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(a,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a),l){case"string":return this.then(r).then(function(c){return this.set({src:s("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},o.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(l){var c=this.opt.jsPDF,h=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,v=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete v.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var d=0;d<h.length;++d){var y=h[d],w=y.src.find(function(S){return S.format==="truetype"});w&&c.addFont(w.url,y.ref.name,y.ref.style)}return v.windowHeight=v.windowHeight||0,v.windowHeight=v.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):v.windowHeight,c.context2d.save(!0),l(this.prop.container,v)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(a,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,l):this.outputPdf(a,l)},o.prototype.outputPdf=function(a,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,l)})},o.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},o.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(a){if(n(a)!=="object")return this;var l=Object.keys(a||{}).map(function(c){if(c in o.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(l)})},o.prototype.get=function(a,l){return this.then(function(){var c=a in o.template.prop?this.prop[a]:this.opt[a];return l?l(c):c})},o.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},o.prototype.setPageSize=function(a){function l(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(a=a||Ze.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:l(a.inner.width,a.k),height:l(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},o.prototype.setProgress=function(a,l,c,h){return a!=null&&(this.progress.val=a),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(a,l,c,h){return this.setProgress(a?this.progress.val+a:null,l||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},o.prototype.then=function(a,l){var c=this;return this.thenCore(a,l,function(h,p){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(v){return c.updateProgress(null,h),v}).then(h,p).then(function(v){return c.updateProgress(1),v})})},o.prototype.thenCore=function(a,l,c){c=c||Promise.prototype.then;var h=this;a&&(a=a.bind(h)),l&&(l=l.bind(h));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?h:o.convert(Object.assign({},h),Promise.prototype),v=c.call(p,a,l);return o.convert(v,h.__proto__)},o.prototype.thenExternal=function(a,l){return Promise.prototype.then.call(this,a,l)},o.prototype.thenList=function(a){var l=this;return a.forEach(function(c){l=l.thenCore(c)}),l},o.prototype.catch=function(a){a&&(a=a.bind(this));var l=Promise.prototype.catch.call(this,a);return o.convert(l,this)},o.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},o.prototype.error=function(a){return this.then(function(){throw new Error(a)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ze.getPageSize=function(a,l,c){if(Ut(a)==="object"){var h=a;a=h.orientation,l=h.unit||l,c=h.format||c}l=l||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var p,v=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+l}var y,w=0,S=0;if(d.hasOwnProperty(v))w=d[v][1]/p,S=d[v][0]/p;else try{w=c[1],S=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",S>w&&(y=S,S=w,w=y);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",w>S&&(y=S,S=w,w=y)}return{width:S,height:w,unit:l,k:p,orientation:a}},t.html=function(a,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(If):null;var c=new o(l);return l.worker?c:c.from(a).doCallback()}}(Ze.API),Ze.API.addJS=function(t){return Fg=t,this.internal.events.subscribe("postPutResources",function(){eu=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(eu+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),jg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Fg+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){eu!==void 0&&jg!==void 0&&this.internal.out("/Names <</JavaScript "+eu+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],a=n.exec(o);if(a!=null){var l=a[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,h=[];for(i=0;i<c;i++){var p=r.internal.newObject();h.push(p);var v=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<h.length;i++)r.internal.write("(page_"+(i+1)+")"+h[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var c=0;c<n.children.length;c++)this.renderItems(n.children[c])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])}(Ze.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,o,a){var l,c=this.decode.DCT_DECODE,h=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,l=function(p){for(var v,d=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,w={width:0,height:0,numcomponents:1},S=4;S<y;S+=2){if(S+=d,e.indexOf(p.charCodeAt(S+1))!==-1){v=256*p.charCodeAt(S+5)+p.charCodeAt(S+6),w={width:256*p.charCodeAt(S+7)+p.charCodeAt(S+8),height:v,numcomponents:p.charCodeAt(S+9)};break}d=256*p.charCodeAt(S+2)+p.charCodeAt(S+3)}return w}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),l.numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}h={data:r,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:c,index:n,alias:s}}return h}}(Ze.API),Ze.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=Gx(t,{checkCrc:!0}),o=i.width,a=i.height,l=i.channels,c=i.palette,h=i.depth;s=c&&l===1?function(J){for(var C=J.width,G=J.height,L=J.data,O=J.palette,z=J.depth,W=!1,pe=[],ue=[],ae=void 0,re=!1,we=0,Ce=0;Ce<O.length;Ce++){var _e=M1(O[Ce],4),N=_e[0],U=_e[1],V=_e[2],Z=_e[3];pe.push(N,U,V),Z!=null&&(Z===0?(we++,ue.length<1&&ue.push(Ce)):Z<255&&(re=!0))}if(re||we>1){W=!0,ue=void 0;var ne=C*G;ae=new Uint8Array(ne);for(var $=new DataView(L.buffer),ee=0;ee<ne;ee++){var Q=Ff($,ee,z),fe=M1(O[Q],4)[3];ae[ee]=fe}}else we===0&&(ue=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:W?8:void 0,colorBytes:L,alphaBytes:ae,needSMask:W,palette:pe,mask:ue}}(i):l===2||l===4?function(J){for(var C=J.data,G=J.width,L=J.height,O=J.channels,z=J.depth,W=O===2?"DeviceGray":"DeviceRGB",pe=O-1,ue=G*L,ae=pe,re=ue*ae,we=1*ue,Ce=Math.ceil(re*z/8),_e=Math.ceil(we*z/8),N=new Uint8Array(Ce),U=new Uint8Array(_e),V=new DataView(C.buffer),Z=new DataView(N.buffer),ne=new DataView(U.buffer),$=!1,ee=0;ee<ue;ee++){for(var Q=ee*O,fe=0;fe<ae;fe++)Wg(Z,Ff(V,Q+fe,z),ee*ae+fe,z);var Ae=Ff(V,Q+ae,z);Ae<(1<<z)-1&&($=!0),Wg(ne,Ae,1*ee,z)}return{colorSpace:W,colorsPerPixel:pe,sMaskBitsPerComponent:$?z:void 0,colorBytes:N,alphaBytes:U,needSMask:$}}(i):function(J){var C=J.data,G=J.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:G,colorsPerPixel:G==="DeviceGray"?1:3,colorBytes:C instanceof Uint16Array?function(L){for(var O=L.length,z=new Uint8Array(2*O),W=new DataView(z.buffer,z.byteOffset,z.byteLength),pe=0;pe<O;pe++)W.setUint16(2*pe,L[pe],!1);return z}(C):C,needSMask:!1}}(i);var p,v,d,y=s,w=y.colorSpace,S=y.colorsPerPixel,_=y.sMaskBitsPerComponent,j=y.colorBytes,T=y.alphaBytes,R=y.needSMask,K=y.palette,se=y.mask,ie=null;return n!==Ze.API.image_compression.NONE&&typeof _d=="function"?(ie=function(J){var C;switch(J){case Ze.API.image_compression.FAST:C=11;break;case Ze.API.image_compression.MEDIUM:C=13;break;case Ze.API.image_compression.SLOW:C=14;break;default:C=12}return C}(n),p=this.decode.FLATE_DECODE,v="/Predictor ".concat(ie," /Colors ").concat(S," /BitsPerComponent ").concat(h," /Columns ").concat(o),t=Mg(j,Math.ceil(o*S*h/8),S,h,n),R&&(d=Mg(T,Math.ceil(o*_/8),1,_,n))):(p=void 0,v=void 0,t=j,R&&(d=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:r,data:t,index:e,filter:p,decodeParameters:v,transparency:se,palette:K,sMask:d,predictor:ie,width:o,height:a,bitsPerComponent:h,sMaskBitsPerComponent:_,colorSpace:w}}},function(t){t.processGIF89A=function(e,r,n,s){var i=new pE(e),o=i.width,a=i.height,l=[];i.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:o,height:a},h=new Df(100).encode(c,100);return t.processJPEG.call(this,h,r,n,s)},t.processGIF87A=t.processGIF89A}(Ze.API),ts.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ts.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){$t.log("bit decode error:"+r)}},ts.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,a=0;a<8&&8*s+a<this.width;a++){var l=this.palette[i>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},ts.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,a=i>>4,l=15&i,c=this.palette[a];if(this.data[o]=c.blue,this.data[o+1]=c.green,this.data[o+2]=c.red,this.data[o+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[o+4]=c.blue,this.data[o+4+1]=c.green,this.data[o+4+2]=c.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ts.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},ts.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,a=(i>>5&e)/e*255|0,l=(i>>10&e)/e*255|0,c=i>>15?255:0,h=n*this.width*4+4*s;this.data[h]=l,this.data[h+1]=a,this.data[h+2]=o,this.data[h+3]=c}this.pos+=t}},ts.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&r)/r*255|0,c=(o>>11)/e*255|0,h=s*this.width*4+4*i;this.data[h]=c,this.data[h+1]=l,this.data[h+2]=a,this.data[h+3]=255}this.pos+=t}},ts.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},ts.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=i,this.data[a+1]=s,this.data[a+2]=n,this.data[a+3]=o}},ts.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,s){var i=new ts(e,!1),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new Df(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ze.API),Gg.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,s){var i=new Gg(e),o=i.width,a=i.height,l={data:i.getData(),width:o,height:a},c=new Df(100).encode(l,100);return t.processJPEG.call(this,c,r,n,s)}}(Ze.API),Ze.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),a=0,l=0,c=0;c<s;c+=4){var h=n[c],p=n[c+1],v=n[c+2],d=n[c+3];i[a++]=h,i[a++]=p,i[a++]=v,o[l++]=d}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ze.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},oa=Ze.API,tu=oa.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:s.metadata.Unicode.widths,l=a.fof?a.fof:1,c=e.kerning?e.kerning:s.metadata.Unicode.kerning,h=c.fof?c.fof:1,p=e.doKerning!==!1,v=0,d=t.length,y=0,w=a[0]||l,S=[];for(r=0;r<d;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?S.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(v=p&&Ut(c[n])==="object"&&!isNaN(parseInt(c[n][y],10))?c[n][y]/h:0,S.push((a[n]||w)/l+v)),y=n;return S},Dg=oa.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return oa.processArabic&&(t=oa.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:tu.apply(this,arguments).reduce(function(i,o){return i+o},0)},Bg=function(t,e,r,n){for(var s=[],i=0,o=t.length,a=0;i!==o&&a+e[i]<r;)a+=e[i],i++;s.push(t.slice(0,i));var l=i;for(a=0;i!==o;)a+e[i]>n&&(s.push(t.slice(l,i)),a=0,l=i),a+=e[i],i++;return l!==i&&s.push(t.slice(l,i)),s},Ug=function(t,e,r){r||(r={});var n,s,i,o,a,l,c,h=[],p=[h],v=r.textIndent||0,d=0,y=0,w=t.split(" "),S=tu.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),j=[];w.map(function(R){(R=R.split(/\s*\n/)).length>1?j=j.concat(R.map(function(K,se){return(se&&K.length?`
`:"")+K})):j.push(R[0])}),w=j,l=Dg.apply(this,[_,r])}for(i=0,o=w.length;i<o;i++){var T=0;if(n=w[i],l&&n[0]==`
`&&(n=n.substr(1),T=1),v+d+(y=(s=tu.apply(this,[n,r])).reduce(function(R,K){return R+K},0))>e||T){if(y>e){for(a=Bg.apply(this,[n,s,e-(v+d),e]),h.push(a.shift()),h=[a.pop()];a.length;)p.push([a.shift()]);y=s.slice(n.length-(h[0]?h[0].length:0)).reduce(function(R,K){return R+K},0)}else h=[n];p.push(h),v=y+l,d=S}else h.push(n),v+=d+y,d=S}return c=l?function(R,K){return(K?_:"")+R.join(" ")}:function(R){return R.join(" ")},p.map(c)},oa.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var p=this.internal.getFont(h.fontName,h.fontStyle),v="Unicode";return p.metadata[v]?{widths:p.metadata[v].widths||{0:1},kerning:p.metadata[v].kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var a,l,c=[];for(a=0,l=n.length;a<l;a++)c=c.concat(Ug.apply(this,[n[a],o,i]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=e[i],s[e[i]]=r[i];var o=function(v){return"0x"+parseInt(v,10).toString(16)},a=t.__fontmetrics__.compress=function(v){var d,y,w,S,_=["{"];for(var j in v){if(d=v[j],isNaN(parseInt(j,10))?y="'"+j+"'":(j=parseInt(j,10),y=(y=o(j).slice(2)).slice(0,-1)+s[y.slice(-1)]),typeof d=="number")d<0?(w=o(d).slice(3),S="-"):(w=o(d).slice(2),S=""),w=S+w.slice(0,-1)+s[w.slice(-1)];else{if(Ut(d)!=="object")throw new Error("Don't know what to do with value type "+Ut(d)+".");w=a(d)}_.push(y+w)}return _.push("}"),_.join("")},l=t.__fontmetrics__.uncompress=function(v){if(typeof v!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,y,w,S,_={},j=1,T=_,R=[],K="",se="",ie=v.length-1,J=1;J<ie;J+=1)(S=v[J])=="'"?d?(w=d.join(""),d=void 0):d=[]:d?d.push(S):S=="{"?(R.push([T,w]),T={},w=void 0):S=="}"?((y=R.pop())[0][y[1]]=T,w=void 0,T=y[0]):S=="-"?j=-1:w===void 0?n.hasOwnProperty(S)?(K+=n[S],w=parseInt(K,16)*j,j=1,K=""):K+=S:n.hasOwnProperty(S)?(se+=n[S],T[w]=parseInt(se,16)*j,j=1,w=void 0,se=""):se+=S;return _},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(v){var d=v.font,y=p.Unicode[d.postScriptName];y&&(d.metadata.Unicode={},d.metadata.Unicode.widths=y.widths,d.metadata.Unicode.kerning=y.kerning);var w=h.Unicode[d.postScriptName];w&&(d.metadata.Unicode.encoding=w,d.encoding=w.codePages[0])}])}(Ze.API),function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(du(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])}(Ze),Ze.API.addSvgAsImage=function(t,e,r,n,s,i,o,a){if(isNaN(e)||isNaN(r))throw $t.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw $t.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=n,l.height=s;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},p=this;return(lt.canvg?Promise.resolve(lt.canvg):mf(()=>import("./index.es-C3w1RMdP.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v}).then(function(v){return v.fromString(c,t,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(v){return v.render(h)}).then(function(){p.addImage(l.toDataURL("image/jpeg",1),e,r,n,s,o,a)})},Ze.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Ze.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],c=0,h=0,p=0;function v(y,w){var S,_=!1;for(S=0;S<y.length;S+=1)y[S]===w&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=a.length;for(p=0;p<d;p+=1)r[a[p]].value=r[a[p]].defaultValue,r[a[p]].explicitSet=!1}if(Ut(t)==="object"){for(s in t)if(i=t[s],v(a,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&v(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(c=0;c<i.length;c+=1)if(n=!0,i[c].length===1&&typeof i[c][0]=="number")l.push(String(i[c]-1));else if(i[c].length>1){for(h=0;h<i[c].length;h+=1)typeof i[c][h]!="number"&&(n=!1);n===!0&&l.push([i[c][0]-1,i[c][1]-1].join(" "))}r[s].value="["+l.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,w=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?w.push("/"+y+" /"+r[y].value):w.push("/"+y+" "+r[y].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=i.length+o.length+a.length+s.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ze.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var a,l=o.metadata.Unicode.widths,c=["","0","00","000","0000"],h=[""],p=0,v=i.length;p<v;++p){if(a=o.metadata.characterToGlyph(i.charCodeAt(p)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=i.charCodeAt(p),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return h.join("");a=a.toString(16),h.push(c[4-a.length],a)}return h.join("")},n=function(i){var o,a,l,c,h,p,v;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,v=(a=Object.keys(i).sort(function(d,y){return d-y})).length;p<v;p++)o=a[p],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(c=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+c+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var p=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",y=0;y<v.length;y++)d+=String.fromCharCode(v[y]);var w=c();h({data:d,addLength1:!0,objectId:w}),l("endobj");var S=c();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var _=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+da(a.fontName)),l("/FontFile2 "+w+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var j=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+da(a.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+S+" 0 R"),l("/BaseFont /"+da(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+j+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var a=o.font,l=o.out,c=o.newObject,h=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var p=a.metadata.rawData,v="",d=0;d<p.length;d++)v+=String.fromCharCode(p[d]);var y=c();h({data:v,addLength1:!0,objectId:y}),l("endobj");var w=c();h({data:n(a.metadata.toUnicode),addLength1:!0,objectId:w}),l("endobj");var S=c();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+da(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=c();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+da(a.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,a=i.text||"",l=i.x,c=i.y,h=i.options||{},p=i.mutex||{},v=p.pdfEscape,d=p.activeFontKey,y=p.fonts,w=d,S="",_=0,j="",T=y[w].encoding;if(y[w].encoding!=="Identity-H")return{text:a,x:l,y:c,options:h,mutex:p};for(j=a,w=d,Array.isArray(a)&&(j=a[0]),_=0;_<j.length;_+=1)y[w].metadata.hasOwnProperty("cmap")&&(o=y[w].metadata.cmap.unicode.codeMap[j[_].charCodeAt(0)]),o||j[_].charCodeAt(0)<256&&y[w].metadata.hasOwnProperty("Unicode")?S+=j[_]:S+="";var R="";return parseInt(w.slice(1))<14||T==="WinAnsiEncoding"?R=v(S,w).split("").map(function(K){return K.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(R=r(S,y[w])),p.isHex=!0,{text:R,x:l,y:c,options:h,mutex:p}};e.events.push(["postProcessText",function(i){var o=i.text||"",a=[],l={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var c=0;for(c=0;c<o.length;c+=1)Array.isArray(o[c])&&o[c].length===3?a.push([s(Object.assign({},l,{text:o[c][0]})).text,o[c][1],o[c][2]]):a.push(s(Object.assign({},l,{text:o[c]})).text);i.text=a}else i.text=s(Object.assign({},l,{text:o})).text}])}(Ze),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ze.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,o,a,l,c,h,p=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),j=!1,T=0;this.__bidiEngine__={};var R=function(L){var O=L.charCodeAt(),z=O>>8,W=w[z];return W!==void 0?p[256*W+(255&O)]:z===252||z===253?"AL":_.test(z)?"L":z===8?"R":"N"},K=function(L){for(var O,z=0;z<L.length;z++){if((O=R(L.charAt(z)))==="L")return!1;if(O==="R")return!0}return!1},se=function(L,O,z,W){var pe,ue,ae,re,we=O[W];switch(we){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":j=!1;break;case"N":case"AN":break;case"EN":j&&(we="AN");break;case"AL":j=!0,we="R";break;case"WS":case"BN":we="N";break;case"CS":W<1||W+1>=O.length||(pe=z[W-1])!=="EN"&&pe!=="AN"||(ue=O[W+1])!=="EN"&&ue!=="AN"?we="N":j&&(ue="AN"),we=ue===pe?ue:"N";break;case"ES":we=(pe=W>0?z[W-1]:"B")==="EN"&&W+1<O.length&&O[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&z[W-1]==="EN"){we="EN";break}if(j){we="N";break}for(ae=W+1,re=O.length;ae<re&&O[ae]==="ET";)ae++;we=ae<re&&O[ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(re=O.length,ae=W+1;ae<re&&O[ae]==="NSM";)ae++;if(ae<re){var Ce=L[W],_e=Ce>=1425&&Ce<=2303||Ce===64286;if(pe=O[ae],_e&&(pe==="R"||pe==="AL")){we="R";break}}}we=W<1||(pe=O[W-1])==="B"?"N":z[W-1];break;case"B":j=!1,s=!0,we=T;break;case"S":i=!0,we="N"}return we},ie=function(L,O,z){var W=L.split("");return z&&J(W,z,{hiLevel:T}),W.reverse(),O&&O.reverse(),W.join("")},J=function(L,O,z){var W,pe,ue,ae,re,we=-1,Ce=L.length,_e=0,N=[],U=T?d:v,V=[];for(j=!1,s=!1,i=!1,pe=0;pe<Ce;pe++)V[pe]=R(L[pe]);for(ue=0;ue<Ce;ue++){if(re=_e,N[ue]=se(L,V,N,ue),W=240&(_e=U[re][y[N[ue]]]),_e&=15,O[ue]=ae=U[_e][5],W>0)if(W===16){for(pe=we;pe<ue;pe++)O[pe]=1;we=-1}else we=-1;if(U[_e][6])we===-1&&(we=ue);else if(we>-1){for(pe=we;pe<ue;pe++)O[pe]=ae;we=-1}V[ue]==="B"&&(O[ue]=0),z.hiLevel|=ae}i&&function(Z,ne,$){for(var ee=0;ee<$;ee++)if(Z[ee]==="S"){ne[ee]=T;for(var Q=ee-1;Q>=0&&Z[Q]==="WS";Q--)ne[Q]=T}}(V,O,Ce)},C=function(L,O,z,W,pe){if(!(pe.hiLevel<L)){if(L===1&&T===1&&!s)return O.reverse(),void(z&&z.reverse());for(var ue,ae,re,we,Ce=O.length,_e=0;_e<Ce;){if(W[_e]>=L){for(re=_e+1;re<Ce&&W[re]>=L;)re++;for(we=_e,ae=re-1;we<ae;we++,ae--)ue=O[we],O[we]=O[ae],O[ae]=ue,z&&(ue=z[we],z[we]=z[ae],z[ae]=ue);_e=re}_e++}}},G=function(L,O,z){var W=L.split(""),pe={hiLevel:T};return z||(z=[]),J(W,z,pe),function(ue,ae,re){if(re.hiLevel!==0&&h)for(var we,Ce=0;Ce<ue.length;Ce++)ae[Ce]===1&&(we=S.indexOf(ue[Ce]))>=0&&(ue[Ce]=S[we+1])}(W,z,pe),C(2,W,O,z,pe),C(1,W,O,z,pe),W.join("")};return this.__bidiEngine__.doBidiReorder=function(L,O,z){if(function(pe,ue){if(ue)for(var ae=0;ae<pe.length;ae++)ue[ae]=ae;a===void 0&&(a=K(pe)),c===void 0&&(c=K(pe))}(L,O),o||!l||c)if(o&&l&&a^c)T=a?1:0,L=ie(L,O,z);else if(!o&&l&&c)T=a?1:0,L=G(L,O,z),L=ie(L,O);else if(!o||a||l||c){if(o&&!l&&a^c)L=ie(L,O),a?(T=0,L=G(L,O,z)):(T=1,L=G(L,O,z),L=ie(L,O));else if(o&&a&&!l&&c)T=1,L=G(L,O,z),L=ie(L,O);else if(!o&&!l&&a^c){var W=h;a?(T=1,L=G(L,O,z),T=0,h=!1,L=G(L,O,z),h=W):(T=0,L=G(L,O,z),L=ie(L,O),T=1,h=!1,L=G(L,O,z),h=W,L=ie(L,O))}}else T=0,L=G(L,O,z);else T=a?1:0,L=G(L,O,z);return L},this.__bidiEngine__.setOptions=function(L){L&&(o=L.isInputVisual,l=L.isOutputVisual,a=L.isInputRtl,c=L.isOutputRtl,h=L.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var a=0;for(o=[],a=0;a<s.length;a+=1)Object.prototype.toString.call(s[a])==="[object Array]"?o.push([r.doBidiReorder(s[a][0]),s[a][1],s[a][2]]):o.push([r.doBidiReorder(s[a])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])}(Ze),Ze.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new qi(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new PE(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new gE(this.contents),this.head=new vE(this),this.name=new SE(this),this.cmap=new Qm(this),this.toUnicode={},this.hhea=new yE(this),this.maxp=new AE(this),this.hmtx=new xE(this),this.post=new bE(this),this.os2=new wE(this),this.loca=new LE(this),this.glyf=new EE(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,c;for(c=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,o,a;for(o=0,i=0,a=(e=""+e).length;0<=a?i<a:i>a;i=0<=a?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var fs,qi=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,o,a,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),gE=function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,o,a,l,c,h,p,v,d,y,w;for(w in d=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(d)/l),o=Math.floor(p/l),h=16*d-p,(s=new qi).writeInt(this.scalarType),s.writeShort(d),s.writeShort(p),s.writeShort(o),s.writeShort(h),i=16*d,c=s.pos+i,a=null,y=[],r)for(v=r[w],s.writeString(w),s.writeInt(t(v)),s.writeInt(c),s.writeInt(v.length),y=y.concat(v),w==="head"&&(a=c),c+=v.length;c%4;)y.push(0),c++;return s.write(y),n=2981146554-t(s.data),s.pos=a+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,o;for(r=ev.call(r);r.length%4;)r.push(0);for(i=new qi(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},e}(),mE={}.hasOwnProperty,Cs=function(t,e){for(var r in e)mE.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};fs=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var vE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new qi).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),Kg=function(){function t(e,r){var n,s,i,o,a,l,c,h,p,v,d,y,w,S,_,j,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),v=d/2,e.pos+=6,i=function(){var R,K;for(K=[],l=R=0;0<=v?R<v:R>v;l=0<=v?++R:--R)K.push(e.readUInt16());return K}(),e.pos+=2,w=function(){var R,K;for(K=[],l=R=0;0<=v?R<v:R>v;l=0<=v?++R:--R)K.push(e.readUInt16());return K}(),c=function(){var R,K;for(K=[],l=R=0;0<=v?R<v:R>v;l=0<=v?++R:--R)K.push(e.readUInt16());return K}(),h=function(){var R,K;for(K=[],l=R=0;0<=v?R<v:R>v;l=0<=v?++R:--R)K.push(e.readUInt16());return K}(),s=(this.length-e.pos+this.offset)/2,a=function(){var R,K;for(K=[],l=R=0;0<=s?R<s:R>s;l=0<=s?++R:--R)K.push(e.readUInt16());return K}(),l=_=0,T=i.length;_<T;l=++_)for(S=i[l],n=j=y=w[l];y<=S?j<=S:j>=S;n=y<=S?++j:--j)h[l]===0?o=n+c[l]:(o=a[h[l]/2+(n-y)-(v-l)]||0)!==0&&(o+=c[l]),this.codeMap[n]=65535&o}e.pos=p}return t.encode=function(e,r){var n,s,i,o,a,l,c,h,p,v,d,y,w,S,_,j,T,R,K,se,ie,J,C,G,L,O,z,W,pe,ue,ae,re,we,Ce,_e,N,U,V,Z,ne,$,ee,Q,fe,Ae,F;switch(W=new qi,o=Object.keys(e).sort(function(B,Y){return B-Y}),r){case"macroman":for(w=0,S=function(){var B=[];for(y=0;y<256;++y)B.push(0);return B}(),j={0:0},i={},pe=0,we=o.length;pe<we;pe++)j[Q=e[s=o[pe]]]==null&&(j[Q]=++w),i[s]={old:e[s],new:j[e[s]]},S[s]=j[e[s]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(S),{charMap:i,subtable:W.data,maxGlyphID:w+1};case"unicode":for(O=[],p=[],T=0,j={},n={},_=c=null,ue=0,Ce=o.length;ue<Ce;ue++)j[K=e[s=o[ue]]]==null&&(j[K]=++T),n[s]={old:K,new:j[K]},a=j[K]-s,_!=null&&a===c||(_&&p.push(_),O.push(s),c=a),_=s;for(_&&p.push(_),p.push(65535),O.push(65535),G=2*(C=O.length),J=2*Math.pow(Math.log(C)/Math.LN2,2),v=Math.log(J/2)/Math.LN2,ie=2*C-J,l=[],se=[],d=[],y=ae=0,_e=O.length;ae<_e;y=++ae){if(L=O[y],h=p[y],L===65535){l.push(0),se.push(0);break}if(L-(z=n[L].new)>=32768)for(l.push(0),se.push(2*(d.length+C-y)),s=re=L;L<=h?re<=h:re>=h;s=L<=h?++re:--re)d.push(n[s].new);else l.push(z-L),se.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*C+2*d.length),W.writeUInt16(0),W.writeUInt16(G),W.writeUInt16(J),W.writeUInt16(v),W.writeUInt16(ie),$=0,N=p.length;$<N;$++)s=p[$],W.writeUInt16(s);for(W.writeUInt16(0),ee=0,U=O.length;ee<U;ee++)s=O[ee],W.writeUInt16(s);for(fe=0,V=l.length;fe<V;fe++)a=l[fe],W.writeUInt16(a);for(Ae=0,Z=se.length;Ae<Z;Ae++)R=se[Ae],W.writeUInt16(R);for(F=0,ne=d.length;F<ne;F++)w=d[F],W.writeUInt16(w);return{charMap:n,subtable:W.data,maxGlyphID:T+1}}},t}(),Qm=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new Kg(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=Kg.encode(e,r),(s=new qi).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t}(),yE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),wE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),bE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,a,l;for(l=[],i=o=0,a=this.file.maxp.numGlyphs;0<=a?o<a:o>a;i=0<=a?++o:--o)l.push(e.readUInt32());return l}).call(this)}},t}(),_E=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},SE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,i,o,a,l,c,h,p,v;for(e.pos=this.offset,e.readShort(),r=e.readShort(),a=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(l={},i=h=0,p=n.length;h<p;i=++h)s=n[i],e.pos=s.offset,c=e.readString(s.length),o=new _E(c,s),l[v=s.nameID]==null&&(l[v]=[]),l[s.nameID].push(o);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},t}(),AE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),xE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,i,o,a,l;for(e.pos=this.offset,this.metrics=[],r=0,a=this.file.hhea.numberOfMetrics;0<=a?r<a:r>a;r=0<=a?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,h;for(h=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)h.push(e.readInt16());return h}(),this.widths=(function(){var c,h,p,v;for(v=[],c=0,h=(p=this.metrics).length;c<h;c++)i=p[c],v.push(i.advance);return v}).call(this),n=this.widths[this.widths.length-1],l=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)l.push(this.widths.push(n));return l},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),ev=[].slice,EE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,i,o,a,l,c,h,p;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(a=new qi(r.read(s))).readShort(),c=a.readShort(),p=a.readShort(),l=a.readShort(),h=a.readShort(),this.cache[e]=o===-1?new kE(a,c,p,l,h):new NE(a,o,c,p,l,h),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,i,o,a,l;for(o=[],i=[],a=0,l=r.length;a<l;a++)s=e[r[a]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},t}(),NE=function(){function t(e,r,n,s,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),kE=function(){function t(e,r,n,s,i){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new qi(ev.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),LE=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Cs(t,fs),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var a=this.offsets[o],l=this.offsets[o+1]-a;l>0&&(s+=l)}for(var c=new Array(4*n.length),h=0;h<n.length;++h)c[4*h+3]=255&n[h],c[4*h+2]=(65280&n[h])>>8,c[4*h+1]=(16711680&n[h])>>16,c[4*h]=(4278190080&n[h])>>24;return c},t}(),PE=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,o,a,l;for(s={},o=0,a=e.length;o<a;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in l=this.glyphsFor(r))n=l[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,o,a,l,c,h,p,v,d,y,w,S,_;for(s in n=Qm.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},_=n.charMap)d[(l=_[s]).old]=l.new;for(y in v=n.maxGlyphID,o)y in d||(d[y]=v++);return h=function(j){var T,R;for(T in R={},j)R[j[T]]=T;return R}(d),p=Object.keys(h).sort(function(j,T){return j-T}),w=function(){var j,T,R;for(R=[],j=0,T=p.length;j<T;j++)a=p[j],R.push(h[a]);return R}(),i=this.font.glyf.encode(o,w,d),c=this.font.loca.encode(i.offsets,w),S={cmap:this.font.cmap.raw(),glyf:i.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},t}();Ze.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+function(){var a,l,c;for(c=[],a=0,l=r.length;a<l;a++)n=r[a],c.push(e.convert(n));return c}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e}();async function OE(){const t="/summonersheet/assets/data/championFull.json";try{const e=await fetch(t,{cache:"no-store"});if(!e.ok)throw new Error(`HTTP ${e.status}`);return await e.json()}catch{try{const n=await(await fetch("https://ddragon.leagueoflegends.com/api/versions.json",{cache:"no-store"})).json(),i=`https://ddragon.leagueoflegends.com/cdn/${Array.isArray(n)&&n.length?n[0]:"latest"}/data/en_US/champion.json`,o=await fetch(i,{cache:"no-store"});if(!o.ok)throw new Error(`HTTP ${o.status}`);return await o.json()}catch{return{data:{}}}}}function TE(t,e){const r=String(t),n=(e==null?void 0:e.data)||{};for(const s in n)if(n[s].key===r)return s;return null}async function RE(t){const e=`https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/v1/profile-icons/${t}.jpg`,n=await(await fetch(e)).blob();return await new Promise(s=>{const i=new FileReader;i.onloadend=()=>s(i.result),i.readAsDataURL(n)})}async function CE(t){if(!t)return null;const r=`https://raw.communitydragon.org/latest/plugins/rcp-fe-lol-static-assets/global/default/images/ranked-mini-crests/${t.toLowerCase()}.png`,s=await(await fetch(r)).blob();return await new Promise(i=>{const o=new FileReader;o.onloadend=()=>i(o.result),o.readAsDataURL(s)})}function IE(t){return t?t.replace(/[0-9]/g,"").toUpperCase():"[Unknown]"}function jE(t,e){if(!t||t==="today")return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});const r=new Date(t);return Number.isNaN(r.getTime())?String(t):r.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const FE=async(t,e,r,n,s,i,o="euw1",a="today")=>{var ie,J;const l=await OE(),c=new Ze,h=new Date;h.toLocaleString();const p=210,v=32,d=12,y=10,w=4;if(s&&s.profileIconId)try{c.setDrawColor(226,192,141),c.setLineWidth(w),c.rect(d-w/2,y-w/2,v+w,v+w,"S");const C=await RE(s.profileIconId);c.addImage(C,"PNG",d,y,v,v)}catch{c.text("Profile Icon: [Bild nicht gefunden]",d,y+v+8)}else c.text("Profile Icon: [Unknown]",d,y+v+8);c.setFont("Helvetica","bold"),c.setFontSize(26);const S=n&&n.gameName&&n.tagLine?`${n.gameName}#${n.tagLine}`:"[Unknown]";c.text(S,p/2,y+v/2+6,{align:"center"}),c.setFont("Helvetica","normal"),c.setFontSize(13);const _=p-12;c.text(`Summoner Level: ${(s==null?void 0:s.summonerLevel)??"[Unknown]"}`,_,y+8,{align:"right"}),c.text(`Region: ${IE(o)}`,_,y+18,{align:"right"}),c.setDrawColor(0,0,0),c.setLineWidth(1.5),c.line(10,y+v+12,p-10,y+v+12);let j=y+v+20;c.setFont("Helvetica","bold"),c.setFontSize(18),c.text("Ranked Stats",p/2,j,{align:"center"}),c.setFont("Helvetica","normal"),c.setFontSize(12);let T=j+22;const R=[{key:"RANKED_FLEX_SR",label:"Flex-Ranked"},{key:"RANKED_SOLO_5X5",label:"Solo-Ranked"}];for(const C of R){const G=(r||[]).find(U=>(U.queueType||"").toUpperCase()===C.key);let L=0,O=0,z="",W="",pe="-",ue=!1;if(G){L=G.wins??0,O=G.losses??0,z=G.tier||"",W=G.rank||"";const U=L+O;pe=U>0?(L/U*100).toFixed(1)+"%":"-",ue=!1}else ue=!0;const re={IRON:[80,80,80],BRONZE:[176,141,87],SILVER:[180,180,200],GOLD:[255,215,64],PLATINUM:[64,224,208],EMERALD:[80,200,120],DIAMOND:[90,155,255],MASTER:[186,85,211],GRANDMASTER:[220,20,60],CHALLENGER:[255,215,0]}[(z||"").toUpperCase()]||[55,55,55];c.setFontSize(15),c.setFont("Helvetica","bold");const we=ue?`${C.label} | unranked`:`${C.label} | ${z||"-"} ${W||""} | Wins: ${L} | Losses: ${O} | Winrate: ${pe}`,Ce=7,_e=T-7,N=195;if(c.setDrawColor(re[0],re[1],re[2]),c.setLineWidth(1.2),c.rect(Ce,_e,N,12,"S"),c.setTextColor(0,0,0),c.text(we,10,T),!ue&&z)try{const U=await CE(z);c.addImage(U,"PNG",180,T-9,15,15)}catch{}T+=20}c.setDrawColor(0,0,0),c.setLineWidth(1.5),c.line(10,T+1,p-10,T+1);const K=T+8;if(c.setFont("Helvetica","bold"),c.setFontSize(18),c.text("Top 3 Most-Played Champions",p/2,K,{align:"center"}),c.setFont("Helvetica","normal"),c.setFontSize(12),e&&e.length>0){const C=K+6,G=65,L=G*560/308,O=10,z=210,W=Math.min(3,e.length),pe=z-2*O,ue=5,ae=G*W+ue*(W-1),re=O+Math.floor((pe-ae)/2);for(let we=0;we<W;we++){const Ce=e[we],_e=TE(Ce.championId,l),N=re+we*(G+ue),U=C+5;let V="Unknown";_e?V=((J=(ie=l==null?void 0:l.data)==null?void 0:ie[_e])==null?void 0:J.name)||_e:V=`Champion #${Ce.championId}`,c.setFont("Helvetica","bold"),c.setFontSize(12),c.text(V,N+G/2,U-3,{align:"center"});let Z=!1;if(_e)try{const $=`/summonersheet/assets/data/championloading/${_e}_0.jpg`,ee=await fetch($);if(ee.ok){const Q=await ee.blob(),fe=await new Promise(Ae=>{const F=new FileReader;F.onloadend=()=>Ae(F.result),F.readAsDataURL(Q)});c.addImage(fe,"JPEG",N,U,G,L),Z=!0}}catch{}c.setFont("Helvetica","normal"),c.setFontSize(10);const ne=Z?U+L+4:U+15;c.text(`Points: ${Ce.championPoints}`,N,ne),c.text(`Level: ${Ce.championLevel}`,N+G-0,ne,{align:"right"})}}else c.text("No champion mastery data available.",10,K+30);c.setFontSize(10),c.text(`Date: ${jE(a,h)}`,10,290),c.text("Generated by SummonerSheet.gg",200,290,{align:"right"});const se=c.output("blob");return URL.createObjectURL(se)},tc=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},DE={class:"page-scale"},BE={class:"container"},UE={class:"form"},ME={class:"form-row"},qE=["value"],$E=["disabled"],HE={key:0,class:"button-spinner"},zE={key:1},WE={key:1,class:"date-picker-inline"},VE=["value"],GE={key:0,class:"error-message"},KE={key:1,class:"pdf-preview"},JE=["src"],YE=["href","download"],XE={key:0,class:"loading-overlay"},ZE={__name:"HelloWorld",setup(t){const e=pt(""),r=pt(""),n=pt("euw1"),s=pt(null),i=pt(null),o=pt(null),a=pt(null),l=pt(null),c=pt(""),h=pt(null),p=pt(!1),v=pt(!1),d=pt(!1),y=pt([]),w=pt("today"),S=[{value:"euw1",label:"EUW"},{value:"eun1",label:"EUNE"},{value:"tr1",label:"TR"},{value:"ru",label:"RU"},{value:"na1",label:"NA"},{value:"br1",label:"BR"},{value:"la1",label:"LAN"},{value:"la2",label:"LAS"},{value:"kr",label:"KR"},{value:"jp1",label:"JP"},{value:"oc1",label:"OCE"},{value:"ph2",label:"PH"},{value:"sg2",label:"SG"},{value:"th2",label:"TH"},{value:"tw2",label:"TW"},{value:"vn2",label:"VN"}];function _(J){return new Date(J).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}const j=async()=>{var J;if(c.value="",!e.value||!r.value){c.value="Please enter both Summoner Name and Tag Line first.";return}try{v.value=!0;const C=await od(e.value,r.value,n.value),G=await IA(C.puuid);y.value=G,G.length===0&&(c.value="No historic data found for this player yet.")}catch(C){((J=C==null?void 0:C.response)==null?void 0:J.status)===404?c.value="Player not found! Please check the name and tag line.":c.value="Failed to load snapshots. Please try again."}finally{v.value=!1}},T=()=>{y.value=[],w.value="today",c.value=""};Ro(async()=>{h.value=null});function R(J){return new Promise(C=>setTimeout(C,J))}const K=async()=>{var C;p.value=!0,d.value=!1;const J=Date.now();try{const G=await od(e.value,r.value,n.value);s.value=G;const L=await X3(G.puuid,n.value);i.value=L;const z=[...await Z3(G.puuid,n.value)||[]];o.value=z;const W=await BA(G.puuid,n.value);a.value=W;let pe;if(w.value==="today")pe=await UA(G.puuid,n.value),l.value=pe;else{const ae=await jA(G.puuid,w.value);pe={summonerLevel:ae==null?void 0:ae.summoner_level,profileIconId:ae==null?void 0:ae.profile_icon_id},l.value=pe}let ue=null;try{ue=await oh(G.puuid)}catch(ae){console.warn("Could not fetch player record for stats:",(ae==null?void 0:ae.message)||ae)}if(ue!=null&&ue.player_id&&w.value==="today"){try{await FA(ue.player_id,L)}catch(ae){console.warn("Saving champion stats failed:",(ae==null?void 0:ae.message)||ae)}try{await DA(ue.player_id,z)}catch(ae){console.warn("Saving rank stats failed:",(ae==null?void 0:ae.message)||ae)}}h.value=await FE(s.value,i.value,o.value,a.value,l.value,null,n.value,w.value),d.value=!0,c.value="",w.value="today"}catch(G){if(((C=G==null?void 0:G.response)==null?void 0:C.status)===404){c.value="Player not found! Please check the name and tag line.",p.value=!1;return}else c.value="Failed to fetch player data. Please try again."}finally{if(p.value){const G=Date.now()-J;G<1500&&await R(1500-G),p.value=!1}}};let se=null;function ie(J){if(!se)return;const C=J.clientX/window.innerWidth,G=J.clientY/window.innerHeight,L=(C-.5)*40,O=(G-.5)*40;se.style.backgroundPosition=`calc(50% + ${L}px) calc(50% + ${O}px)`}return Ro(()=>{se=document.querySelector(".bg-move"),window.addEventListener("mousemove",ie)}),Gu(()=>{window.removeEventListener("mousemove",ie)}),(J,C)=>(yt(),At(cn,null,[C[10]||(C[10]=Oe("div",{class:"bg-move"},null,-1)),Oe("div",DE,[Oe("div",BE,[C[6]||(C[6]=Oe("h1",{class:"title krass-title"},"SummonerSheet",-1)),C[7]||(C[7]=Oe("div",{class:"description-box"},[Oe("p",null,[Oe("strong",null,"What is this Website?"),Oe("br"),li(" Generate a beautiful PDF with the most important stats and information about your League of Legends account."),Oe("br"),li(" You can share, download, or print the PDF to impress your friend!"),Oe("br"),Oe("br"),li(" Your statistics are saved for the day as soon as you search for your account."),Oe("br"),li(" This allows you to view old statistics as well. ")])],-1)),Oe("div",UE,[Ln(Oe("input",{"onUpdate:modelValue":C[0]||(C[0]=G=>e.value=G),class:"input",placeholder:"Enter Summoner Name",style:{"text-align":"center"},onKeyup:T0(K,["enter"])},null,544),[[is,e.value]]),Oe("div",ME,[Ln(Oe("input",{"onUpdate:modelValue":C[1]||(C[1]=G=>r.value=G),class:"input",placeholder:"Enter Tag Line",style:{"text-align":"center"},onKeyup:T0(K,["enter"])},null,544),[[is,r.value]]),Ln(Oe("select",{"onUpdate:modelValue":C[2]||(C[2]=G=>n.value=G),class:"input select-region"},[(yt(),At(cn,null,zf(S,G=>Oe("option",{key:G.value,value:G.value},qr(G.label),9,qE)),64))],512),[[P0,n.value]]),y.value.length===0?(yt(),At("button",{key:0,onClick:j,class:"button button-secondary",disabled:v.value||!e.value||!r.value},[v.value?(yt(),At("span",HE)):(yt(),At("span",zE,"Select Date"))],8,$E)):(yt(),At("div",WE,[Ln(Oe("select",{"onUpdate:modelValue":C[3]||(C[3]=G=>w.value=G),class:"input"},[C[4]||(C[4]=Oe("option",{value:"today"},"Today (Latest)",-1)),(yt(!0),At(cn,null,zf(y.value,G=>(yt(),At("option",{key:G.recorded_at,value:G.recorded_at},qr(_(G.recorded_at)),9,VE))),128))],512),[[P0,w.value]]),Oe("button",{onClick:T,class:"button-reset",title:"Reset Date Selection"},"")]))]),Oe("button",{onClick:K,class:"button"},"Generate PDF")]),c.value?(yt(),At("p",GE,qr(c.value),1)):Tr("",!0),h.value&&!p.value&&d.value?(yt(),At("div",KE,[C[5]||(C[5]=Oe("h3",null,"PDF Preview:",-1)),Oe("iframe",{src:h.value,width:"100%",height:"942rem"},null,8,JE),Oe("a",{href:h.value,download:`${e.value||"Summoner"}-${r.value||"Tag"}-SummonerSheet.pdf`,class:"button",style:{margin:"1rem auto 0 auto",display:"block","max-width":"220px","text-align":"center"}}," Download PDF ",8,YE)])):Tr("",!0),C[8]||(C[8]=Oe("p",{class:"legal"}," SummonerSheet is not endorsed by Riot Games and does not reflect the views or opinions of Riot Games or anyone officially involved in producing or managing Riot Games properties. Riot Games and all associated properties are trademarks or registered trademarks of Riot Games, Inc. ",-1))])]),p.value?(yt(),At("div",XE,C[9]||(C[9]=[Oe("div",{class:"spinner"},[Oe("div",{class:"spinner-inner"})],-1),Oe("div",{class:"loading-text"},"Generating PDF...",-1)]))):Tr("",!0)],64))}},QE=tc(ZE,[["__scopeId","data-v-111ad2a4"]]),mo=pt(null),ru=pt(null),nu=pt(!0);function up(){const t=async()=>{nu.value=!0;try{const{data:{session:c}}=await Kr.auth.getSession();ru.value=c,mo.value=(c==null?void 0:c.user)??null}catch(c){console.error("Error initializing auth:",c)}finally{nu.value=!1}},e=()=>{const{data:{subscription:c}}=Kr.auth.onAuthStateChange((h,p)=>{ru.value=p,mo.value=(p==null?void 0:p.user)??null,nu.value=!1});return c},r=async(c,h,p)=>{const d=`${window.location.origin}/summonersheet/`,{data:y,error:w}=await Kr.auth.signUp({email:h,password:p,options:{emailRedirectTo:d,data:{username:c,display_name:c,full_name:c}}});if(w)throw w;return y},n=async(c,h)=>{const{data:p,error:v}=await Kr.auth.signInWithPassword({email:c,password:h});if(v)throw v;return p},s=async()=>{const{error:c}=await Kr.auth.signOut();if(c)throw c},i=async c=>{const p=`${window.location.origin}/summonersheet/#/reset`,{data:v,error:d}=await Kr.auth.resetPasswordForEmail(c,{redirectTo:p});if(d)throw d;return v},o=async c=>{const{data:h,error:p}=await Kr.auth.updateUser({password:c});if(p)throw p;return h},a=async()=>{if(!mo.value)throw new Error("No user logged in");try{const{error:c}=await Kr.auth.admin.deleteUser(mo.value.id);if(c)throw c;mo.value=null,ru.value=null}catch(c){throw console.error("Error deleting account:",c),c}},l=Pn(()=>!!mo.value);return{user:mo,session:ru,loading:nu,isAuthenticated:l,initAuth:t,setupAuthListener:e,signUpWithUsername:r,signIn:n,signOut:s,resetPassword:i,updatePassword:o,deleteAccount:a}}const e8={class:"auth-sidebar-container"},t8={class:"auth-card"},r8={class:"auth-title"},n8={key:0,class:"form-group"},s8=["disabled"],i8={class:"form-group"},o8=["disabled"],a8={class:"form-group"},l8=["disabled"],c8={key:1,class:"form-group"},u8=["disabled"],h8={key:2,class:"error-message"},f8={key:3,class:"success-message"},d8=["disabled"],p8={key:0,class:"button-spinner"},g8={key:1},m8={class:"auth-footer"},v8=["disabled"],y8=["disabled"],w8={class:"modal-content"},b8={class:"form-group"},_8={key:0,class:"success-message"},S8={class:"modal-buttons"},A8={__name:"AuthModal",emits:["close"],setup(t,{emit:e}){const{signIn:r,signUpWithUsername:n,resetPassword:s}=up(),i=e,o=pt(!0),a=pt(""),l=pt(""),c=pt(""),h=pt(""),p=pt(""),v=pt(""),d=pt(!1),y=pt(!1),w=pt(""),S=pt(""),_=()=>{o.value=!o.value,p.value="",v.value="",c.value="",h.value="",l.value="",a.value=""},j=async()=>{if(p.value="",v.value="",!o.value&&(!a.value||a.value.length<3)){p.value="Username must be at least 3 characters";return}if(!o.value&&c.value!==h.value){p.value="Passwords do not match";return}if(c.value.length<6){p.value="Password must be at least 6 characters";return}d.value=!0;try{if(o.value)await r(l.value.trim(),c.value),v.value="Successfully signed in!",setTimeout(()=>{i("close")},500);else{if(!l.value)throw new Error("Email is required to create an account");await n(a.value.trim(),l.value.trim(),c.value),v.value="Account created! Please check your email to verify your account."}}catch(R){p.value=R.message||"An error occurred"}finally{d.value=!1}},T=async()=>{S.value="";try{await s(w.value),S.value="Password reset link sent! Check your email.",setTimeout(()=>{y.value=!1,w.value="",S.value=""},3e3)}catch(R){S.value=R.message||"An error occurred"}};return(R,K)=>(yt(),At("div",e8,[Oe("div",t8,[Oe("h2",r8,qr(o.value?"Sign In":"Create Account"),1),Oe("form",{onSubmit:Sa(j,["prevent"]),class:"auth-form"},[o.value?Tr("",!0):(yt(),At("div",n8,[K[8]||(K[8]=Oe("label",{for:"username"},"Username",-1)),Ln(Oe("input",{id:"username","onUpdate:modelValue":K[0]||(K[0]=se=>a.value=se),type:"text",required:"",class:"auth-input",placeholder:"summonername",disabled:d.value,minlength:"3"},null,8,s8),[[is,a.value]])])),Oe("div",i8,[K[9]||(K[9]=Oe("label",{for:"email"},"Email",-1)),Ln(Oe("input",{id:"email","onUpdate:modelValue":K[1]||(K[1]=se=>l.value=se),type:"email",required:"",class:"auth-input",placeholder:"you@example.com",disabled:d.value},null,8,o8),[[is,l.value]])]),Oe("div",a8,[K[10]||(K[10]=Oe("label",{for:"password"},"Password",-1)),Ln(Oe("input",{id:"password","onUpdate:modelValue":K[2]||(K[2]=se=>c.value=se),type:"password",required:"",class:"auth-input",placeholder:"",disabled:d.value,minlength:"6"},null,8,l8),[[is,c.value]])]),o.value?Tr("",!0):(yt(),At("div",c8,[K[11]||(K[11]=Oe("label",{for:"confirmPassword"},"Confirm Password",-1)),Ln(Oe("input",{id:"confirmPassword","onUpdate:modelValue":K[3]||(K[3]=se=>h.value=se),type:"password",required:"",class:"auth-input",placeholder:"",disabled:d.value,minlength:"6"},null,8,u8),[[is,h.value]])])),p.value?(yt(),At("p",h8,qr(p.value),1)):Tr("",!0),v.value?(yt(),At("p",f8,qr(v.value),1)):Tr("",!0),Oe("button",{type:"submit",class:"auth-button",disabled:d.value},[d.value?(yt(),At("span",p8)):(yt(),At("span",g8,qr(o.value?"Sign In":"Sign Up"),1))],8,d8)],32),Oe("div",m8,[Oe("button",{onClick:_,class:"link-button",disabled:d.value},qr(o.value?"Don't have an account? Sign Up":"Already have an account? Sign In"),9,v8),o.value?(yt(),At("button",{key:0,onClick:K[4]||(K[4]=se=>y.value=!0),class:"link-button",disabled:d.value}," Forgot Password? ",8,y8)):Tr("",!0)]),y.value?(yt(),At("div",{key:0,class:"modal-overlay",onClick:K[7]||(K[7]=Sa(se=>y.value=!1,["self"]))},[Oe("div",w8,[K[14]||(K[14]=Oe("h3",null,"Reset Password",-1)),Oe("form",{onSubmit:Sa(T,["prevent"])},[Oe("div",b8,[K[12]||(K[12]=Oe("label",{for:"reset-email"},"Email",-1)),Ln(Oe("input",{id:"reset-email","onUpdate:modelValue":K[5]||(K[5]=se=>w.value=se),type:"email",required:"",class:"auth-input",placeholder:"your@email.com"},null,512),[[is,w.value]])]),S.value?(yt(),At("p",_8,qr(S.value),1)):Tr("",!0),Oe("div",S8,[K[13]||(K[13]=Oe("button",{type:"submit",class:"auth-button"},"Send Reset Link",-1)),Oe("button",{type:"button",onClick:K[6]||(K[6]=se=>y.value=!1),class:"button-secondary"},"Cancel")])],32)])])):Tr("",!0)])]))}},x8=tc(A8,[["__scopeId","data-v-59a0a157"]]),E8={class:"reset-bg"},N8={class:"reset-container"},k8={class:"reset-card"},L8={class:"inputs-row"},P8={class:"form-group"},O8={class:"form-group"},T8={key:0,class:"message success"},R8={key:1,class:"message error"},C8={class:"actions"},I8=["disabled"],j8={key:0,class:"spinner"},F8={key:1},D8={__name:"ResetPassword",setup(t){S5();const e=pt(""),r=pt(""),n=pt(""),s=pt(""),i=pt(!1),o=pt(!1);Ro(async()=>{const c=window.location.hash.split("#")[2]||"",h=new URLSearchParams(c),p=h.get("access_token"),v=h.get("refresh_token"),d=h.get("type");if(!p||!v||d!=="recovery"){s.value="Reset link is invalid or expired. Please request a new one.";return}const{error:y}=await Kr.auth.setSession({access_token:p,refresh_token:v});if(y){s.value="Session could not be restored. Please request a new link.";return}o.value=!0});const a=async()=>{if(s.value="",n.value="",e.value.length<6){s.value="Password must be at least 6 characters.";return}if(e.value!==r.value){s.value="Passwords do not match.";return}i.value=!0;const{error:l}=await Kr.auth.updateUser({password:e.value});l?s.value=l.message||"Could not update password. Please try again.":n.value="Password updated! You can now sign in with your new password.",i.value=!1};return(l,c)=>(yt(),At("div",E8,[Oe("div",N8,[Oe("div",k8,[c[5]||(c[5]=Oe("div",{class:"header"},[Oe("h1",{class:"title"},"Reset Password"),Oe("p",{class:"subtitle"},"Set a new password to continue.")],-1)),Oe("form",{onSubmit:Sa(a,["prevent"]),class:"form"},[Oe("div",L8,[Oe("div",P8,[c[2]||(c[2]=Oe("label",{class:"label",for:"new-password"},"New Password",-1)),Ln(Oe("input",{id:"new-password","onUpdate:modelValue":c[0]||(c[0]=h=>e.value=h),type:"password",class:"input",placeholder:"New password",minlength:"6",required:""},null,512),[[is,e.value]])]),Oe("div",O8,[c[3]||(c[3]=Oe("label",{class:"label",for:"confirm-password"},"Confirm Password",-1)),Ln(Oe("input",{id:"confirm-password","onUpdate:modelValue":c[1]||(c[1]=h=>r.value=h),type:"password",class:"input",placeholder:"Repeat password",minlength:"6",required:""},null,512),[[is,r.value]])])]),n.value?(yt(),At("p",T8,qr(n.value),1)):Tr("",!0),s.value?(yt(),At("p",R8,qr(s.value),1)):Tr("",!0),Oe("div",C8,[c[4]||(c[4]=Oe("a",{href:"#/",class:"back-link"}," Back to app",-1)),Oe("button",{type:"submit",class:"button",disabled:i.value||!o.value},[i.value?(yt(),At("span",j8)):(yt(),At("span",F8,"Update Password"))],8,I8)])],32)])])]))}},B8=tc(D8,[["__scopeId","data-v-c440cfbf"]]),U8={class:"schedule-section"},M8={class:"form-group"},q8=["disabled"],$8={class:"form-group"},H8=["disabled"],z8={key:0,class:"message error"},W8={key:1,class:"message success"},V8=["disabled"],G8={key:0,class:"spinner"},K8={key:1},J8={key:0,class:"active-list"},Y8={class:"item-info"},X8={class:"item-name"},Z8={class:"item-status"},Q8=["onClick","disabled"],eN={__name:"ScheduleSnapshots",setup(t){const{user:e}=up(),r=pt(""),n=pt(""),s=pt(""),i=pt(""),o=pt(!1),a=pt([]);Ro(()=>{e.value&&l()});const l=async()=>{if(e.value)try{const{data:y,error:w}=await Kr.from("scheduled_snapshots").select(`
        id,
        player_id,
        status,
        scheduled_until,
        players (
          player_id,
          gameName,
          tagline
        )
      `).eq("user_id",e.value.id).eq("status","active").gt("scheduled_until",new Date().toISOString()).order("created_at",{ascending:!1});if(w)throw console.error("Fetch error:",w),w;a.value=y||[]}catch(y){console.error("Error fetching schedules:",y)}},c=async()=>{if(s.value="",i.value="",!r.value.trim()||!n.value.trim()){s.value="Please enter both game name and tag";return}if(a.value.length>=3){s.value="You can only have 3 active schedules at a time. Cancel one to add a new one.";return}o.value=!0;try{const y=await od(r.value.trim(),n.value.trim(),"euw1");if(!(y!=null&&y.puuid))throw new Error("Player not found. Please check the name and tag.");const w=await sp(y.puuid,y.gameName,y.tagLine,"euw1");if(!(w!=null&&w.player_id))throw new Error("Failed to sync player to database.");const S=new Date,_=new Date(S.getTime()+3*24*60*60*1e3),{data:j,error:T}=await Kr.from("scheduled_snapshots").insert({user_id:e.value.id,player_id:w.player_id,status:"active",scheduled_until:_.toISOString()}).select();if(T)throw T;i.value=`Scheduled snapshots for ${r.value}#${n.value}! Data will be collected for 3 days.`,r.value="",n.value="",await l(),await p(w.player_id)}catch(y){s.value=y.message||"Failed to schedule snapshots"}finally{o.value=!1}},h=async y=>{o.value=!0;try{const{error:w}=await Kr.from("scheduled_snapshots").update({status:"cancelled"}).eq("id",y).eq("user_id",e.value.id);if(w)throw w;await l()}catch(w){s.value=w.message||"Failed to cancel schedule"}finally{o.value=!1}},p=async y=>{},v=y=>new Date(y).toLocaleDateString("de-DE",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),d=y=>{if(!y.players)return`Player #${y.player_id}`;const w=y.players;return`${w.gameName||"Unknown"}#${w.tagline||"N/A"}`};return(y,w)=>(yt(),At("div",U8,[w[5]||(w[5]=Oe("h3",{class:"section-title"},"Auto Snapshots",-1)),w[6]||(w[6]=Oe("p",{class:"section-desc"},[li("Schedule 3 days of automatic stat snapshots."),Oe("br"),li(" Every day at 04:00 CET, the latest data is imported from Riot Games. "),Oe("br"),li(" This means you don't need to submit a request every day to save the latest data."),Oe("br"),Oe("br"),li(" You can have a maximum of 3 schedulers active.")],-1)),Oe("form",{onSubmit:Sa(c,["prevent"]),class:"schedule-form"},[Oe("div",M8,[w[2]||(w[2]=Oe("label",{for:"gameName"},"Game Name",-1)),Ln(Oe("input",{id:"gameName","onUpdate:modelValue":w[0]||(w[0]=S=>r.value=S),type:"text",required:"",class:"schedule-input",placeholder:"SummonerName",disabled:o.value},null,8,q8),[[is,r.value]])]),Oe("div",$8,[w[3]||(w[3]=Oe("label",{for:"tagLine"},"Tag",-1)),Ln(Oe("input",{id:"tagLine","onUpdate:modelValue":w[1]||(w[1]=S=>n.value=S),type:"text",required:"",class:"schedule-input",placeholder:"NA1",minlength:"1",maxlength:"10",disabled:o.value},null,8,H8),[[is,n.value]])]),s.value?(yt(),At("p",z8,qr(s.value),1)):Tr("",!0),i.value?(yt(),At("p",W8,qr(i.value),1)):Tr("",!0),Oe("button",{type:"submit",class:"schedule-button",disabled:o.value},[o.value?(yt(),At("span",G8)):(yt(),At("span",K8,"Schedule 3 Days"))],8,V8)],32),a.value.length>0?(yt(),At("div",J8,[w[4]||(w[4]=Oe("h4",{class:"list-title"},"Active schedules",-1)),(yt(!0),At(cn,null,zf(a.value,S=>(yt(),At("div",{key:S.id,class:"schedule-item"},[Oe("div",Y8,[Oe("p",X8,qr(d(S)),1),Oe("p",Z8,"Until: "+qr(v(S.scheduled_until)),1)]),Oe("button",{onClick:_=>h(S.id),class:"cancel-btn",disabled:o.value}," Cancel ",8,Q8)]))),128))])):Tr("",!0)]))}},tN=tc(eN,[["__scopeId","data-v-4ea9e0a5"]]),rN={key:0,class:"user-badge"},nN={key:0,class:"benefits-section"},sN={key:1,class:"user-panel"},iN={class:"user-info"},oN={class:"user-email"},aN={__name:"App",setup(t){const{user:e,initAuth:r,setupAuthListener:n,signOut:s,deleteAccount:i}=up(),o=S5(),a=pt(!1);let l=null;Ro(async()=>{await r(),l=n()}),Gu(()=>{l==null||l.unsubscribe()});const c=()=>{a.value=!a.value},h=async()=>{try{await s()}catch(y){console.error("Error signing out:",y)}},p=async()=>{if(confirm("Are you sure you want to delete your account? This action cannot be undone."))try{await i(),a.value=!1}catch(y){console.error("Error deleting account:",y),alert("Failed to delete account: "+y.message)}},v=()=>{a.value=!1},d=Pn(()=>o.name==="reset");return(y,w)=>d.value?(yt(),Jf(B8,{key:0})):(yt(),At(cn,{key:1},[Oe("button",{onClick:c,class:"auth-toggle"},[Oe("div",{class:Mu(["hamburger-icon",{active:a.value}])},w[1]||(w[1]=[Oe("span",null,null,-1),Oe("span",null,null,-1),Oe("span",null,null,-1)]),2),Ls(e)?(yt(),At("span",rN)):Tr("",!0)]),Qr(Uw,{name:"sidebar"},{default:P2(()=>[a.value?(yt(),At("div",{key:0,class:"sidebar-overlay",onClick:v},[Oe("div",{class:"sidebar-content",onClick:w[0]||(w[0]=Sa(()=>{},["stop"]))},[Oe("button",{onClick:v,class:"close-button","aria-label":"Close"}),Ls(e)?Tr("",!0):(yt(),At("div",nN,w[2]||(w[2]=[Oe("h2",null,"Why Register?",-1),Oe("div",{class:"benefit-card"},[Oe("div",{class:"benefit-icon"},""),Oe("div",{class:"benefit-text"},[Oe("h3",null,"Automatic Snapshots"),Oe("p",null,"Schedule automatic stat collection for up to 3 days")])],-1),Oe("div",{class:"benefit-card"},[Oe("div",{class:"benefit-icon"},""),Oe("div",{class:"benefit-text"},[Oe("h3",null,"Track Progress "),Oe("p",null,"Monitor your improvement over time with historical data")])],-1),Oe("div",{class:"benefit-card"},[Oe("div",{class:"benefit-icon"},""),Oe("div",{class:"benefit-text"},[Oe("h3",null,"Multi-Account Support"),Oe("p",null,"Manage multiple summoner accounts in one place")])],-1)]))),Ls(e)?(yt(),At("div",sN,[w[4]||(w[4]=Oe("h2",null,"Account",-1)),Oe("div",iN,[w[3]||(w[3]=Oe("div",{class:"user-avatar"},"",-1)),Oe("p",oN,qr(Ls(e).email),1)]),Oe("button",{onClick:h,class:"signout-button"},"Sign Out"),Oe("button",{onClick:p,class:"delete-button"},"Delete Account"),Qr(tN)])):(yt(),Jf(x8,{key:2,onClose:v}))])])):Tr("",!0)]),_:1}),Qr(QE)],64))}},lN=tc(aN,[["__scopeId","data-v-ca9c40cd"]]),Jg={template:"<div />"},cN=[{path:"/",name:"home",component:Jg},{path:"/reset",name:"reset",component:Jg}],uN=b_({history:Zb("/summonersheet/"),routes:cN});hb(lN).use(uN).mount("#app");export{Ut as _};
