(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cf(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ot={},xo=[],Qn=()=>{},X2=()=>!1,Pc=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),uf=t=>t.startsWith("onUpdate:"),Ir=Object.assign,hf=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Z2=Object.prototype.hasOwnProperty,St=(t,e)=>Z2.call(t,e),rt=Array.isArray,No=t=>Ha(t)==="[object Map]",Oc=t=>Ha(t)==="[object Set]",dd=t=>Ha(t)==="[object Date]",ht=t=>typeof t=="function",nr=t=>typeof t=="string",ti=t=>typeof t=="symbol",Ft=t=>t!==null&&typeof t=="object",Qp=t=>(Ft(t)||ht(t))&&ht(t.then)&&ht(t.catch),e1=Object.prototype.toString,Ha=t=>e1.call(t),Q2=t=>Ha(t).slice(8,-1),t1=t=>Ha(t)==="[object Object]",ff=t=>nr(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Sa=cf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Tc=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},e5=/-(\w)/g,Vi=Tc(t=>t.replace(e5,(e,r)=>r?r.toUpperCase():"")),t5=/\B([A-Z])/g,Ji=Tc(t=>t.replace(t5,"-$1").toLowerCase()),r1=Tc(t=>t.charAt(0).toUpperCase()+t.slice(1)),$u=Tc(t=>t?`on${r1(t)}`:""),Wi=(t,e)=>!Object.is(t,e),tc=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},n1=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},dc=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let pd;const Cc=()=>pd||(pd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function df(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=nr(n)?s5(n):df(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(nr(t)||Ft(t))return t}const r5=/;(?![^(]*\))/g,n5=/:([^]+)/,i5=/\/\*[^]*?\*\//g;function s5(t){const e={};return t.replace(i5,"").split(r5).forEach(r=>{if(r){const n=r.split(n5);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function pf(t){let e="";if(nr(t))e=t;else if(rt(t))for(let r=0;r<t.length;r++){const n=pf(t[r]);n&&(e+=n+" ")}else if(Ft(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const o5="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a5=cf(o5);function i1(t){return!!t||t===""}function l5(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Rc(t[n],e[n]);return r}function Rc(t,e){if(t===e)return!0;let r=dd(t),n=dd(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=ti(t),n=ti(e),r||n)return t===e;if(r=rt(t),n=rt(e),r||n)return r&&n?l5(t,e):!1;if(r=Ft(t),n=Ft(e),r||n){if(!r||!n)return!1;const i=Object.keys(t).length,s=Object.keys(e).length;if(i!==s)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!Rc(t[o],e[o]))return!1}}return String(t)===String(e)}function c5(t,e){return t.findIndex(r=>Rc(r,e))}const s1=t=>!!(t&&t.__v_isRef===!0),rc=t=>nr(t)?t:t==null?"":rt(t)||Ft(t)&&(t.toString===e1||!ht(t.toString))?s1(t)?rc(t.value):JSON.stringify(t,o1,2):String(t),o1=(t,e)=>s1(e)?o1(t,e.value):No(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[zu(n,s)+" =>"]=i,r),{})}:Oc(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>zu(r))}:ti(e)?zu(e):Ft(e)&&!rt(e)&&!t1(e)?String(e):e,zu=(t,e="")=>{var r;return ti(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let en;class u5{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=en,!e&&en&&(this.index=(en.scopes||(en.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=en;try{return en=this,e()}finally{en=r}}}on(){en=this}off(){en=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function h5(){return en}let It;const Hu=new WeakSet;class a1{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,en&&en.active&&en.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Hu.has(this)&&(Hu.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||c1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gd(this),u1(this);const e=It,r=In;It=this,In=!0;try{return this.fn()}finally{h1(this),It=e,In=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)vf(e);this.deps=this.depsTail=void 0,gd(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Hu.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){_h(this)&&this.run()}get dirty(){return _h(this)}}let l1=0,Aa,xa;function c1(t,e=!1){if(t.flags|=8,e){t.next=xa,xa=t;return}t.next=Aa,Aa=t}function gf(){l1++}function mf(){if(--l1>0)return;if(xa){let e=xa;for(xa=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Aa;){let e=Aa;for(Aa=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function u1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function h1(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),vf(n),f5(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function _h(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(f1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function f1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Ta))return;t.globalVersion=Ta;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!_h(t)){t.flags&=-3;return}const r=It,n=In;It=t,In=!0;try{u1(t);const i=t.fn(t._value);(e.version===0||Wi(i,t._value))&&(t._value=i,e.version++)}catch(i){throw e.version++,i}finally{It=r,In=n,h1(t),t.flags&=-3}}function vf(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)vf(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function f5(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let In=!0;const d1=[];function Yi(){d1.push(In),In=!1}function Xi(){const t=d1.pop();In=t===void 0?!0:t}function gd(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=It;It=void 0;try{e()}finally{It=r}}}let Ta=0;class d5{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class yf{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!It||!In||It===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==It)r=this.activeLink=new d5(It,this),It.deps?(r.prevDep=It.depsTail,It.depsTail.nextDep=r,It.depsTail=r):It.deps=It.depsTail=r,p1(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=It.depsTail,r.nextDep=void 0,It.depsTail.nextDep=r,It.depsTail=r,It.deps===r&&(It.deps=n)}return r}trigger(e){this.version++,Ta++,this.notify(e)}notify(e){gf();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{mf()}}}function p1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)p1(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const Sh=new WeakMap,xs=Symbol(""),Ah=Symbol(""),Ca=Symbol("");function Sr(t,e,r){if(In&&It){let n=Sh.get(t);n||Sh.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new yf),i.map=n,i.key=r),i.track()}}function bi(t,e,r,n,i,s){const o=Sh.get(t);if(!o){Ta++;return}const a=c=>{c&&c.trigger()};if(gf(),e==="clear")o.forEach(a);else{const c=rt(t),h=c&&ff(r);if(c&&r==="length"){const d=Number(n);o.forEach((m,v)=>{(v==="length"||v===Ca||!ti(v)&&v>=d)&&a(m)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),h&&a(o.get(Ca)),e){case"add":c?h&&a(o.get("length")):(a(o.get(xs)),No(t)&&a(o.get(Ah)));break;case"delete":c||(a(o.get(xs)),No(t)&&a(o.get(Ah)));break;case"set":No(t)&&a(o.get(xs));break}}mf()}function oo(t){const e=_t(t);return e===t?e:(Sr(e,"iterate",Ca),mn(t)?e:e.map(Ar))}function Ic(t){return Sr(t=_t(t),"iterate",Ca),t}const p5={__proto__:null,[Symbol.iterator](){return Wu(this,Symbol.iterator,Ar)},concat(...t){return oo(this).concat(...t.map(e=>rt(e)?oo(e):e))},entries(){return Wu(this,"entries",t=>(t[1]=Ar(t[1]),t))},every(t,e){return gi(this,"every",t,e,void 0,arguments)},filter(t,e){return gi(this,"filter",t,e,r=>r.map(Ar),arguments)},find(t,e){return gi(this,"find",t,e,Ar,arguments)},findIndex(t,e){return gi(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return gi(this,"findLast",t,e,Ar,arguments)},findLastIndex(t,e){return gi(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return gi(this,"forEach",t,e,void 0,arguments)},includes(...t){return Vu(this,"includes",t)},indexOf(...t){return Vu(this,"indexOf",t)},join(t){return oo(this).join(t)},lastIndexOf(...t){return Vu(this,"lastIndexOf",t)},map(t,e){return gi(this,"map",t,e,void 0,arguments)},pop(){return pa(this,"pop")},push(...t){return pa(this,"push",t)},reduce(t,...e){return md(this,"reduce",t,e)},reduceRight(t,...e){return md(this,"reduceRight",t,e)},shift(){return pa(this,"shift")},some(t,e){return gi(this,"some",t,e,void 0,arguments)},splice(...t){return pa(this,"splice",t)},toReversed(){return oo(this).toReversed()},toSorted(t){return oo(this).toSorted(t)},toSpliced(...t){return oo(this).toSpliced(...t)},unshift(...t){return pa(this,"unshift",t)},values(){return Wu(this,"values",Ar)}};function Wu(t,e,r){const n=Ic(t),i=n[e]();return n!==t&&!mn(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.value&&(s.value=r(s.value)),s}),i}const g5=Array.prototype;function gi(t,e,r,n,i,s){const o=Ic(t),a=o!==t&&!mn(t),c=o[e];if(c!==g5[e]){const m=c.apply(t,s);return a?Ar(m):m}let h=r;o!==t&&(a?h=function(m,v){return r.call(this,Ar(m),v,t)}:r.length>2&&(h=function(m,v){return r.call(this,m,v,t)}));const d=c.call(o,h,n);return a&&i?i(d):d}function md(t,e,r,n){const i=Ic(t);let s=r;return i!==t&&(mn(t)?r.length>3&&(s=function(o,a,c){return r.call(this,o,a,c,t)}):s=function(o,a,c){return r.call(this,o,Ar(a),c,t)}),i[e](s,...n)}function Vu(t,e,r){const n=_t(t);Sr(n,"iterate",Ca);const i=n[e](...r);return(i===-1||i===!1)&&Sf(r[0])?(r[0]=_t(r[0]),n[e](...r)):i}function pa(t,e,r=[]){Yi(),gf();const n=_t(t)[e].apply(t,r);return mf(),Xi(),n}const m5=cf("__proto__,__v_isRef,__isVue"),g1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ti));function v5(t){ti(t)||(t=String(t));const e=_t(this);return Sr(e,"has",t),e.hasOwnProperty(t)}class m1{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?k5:w1:s?b1:y1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=rt(e);if(!i){let c;if(o&&(c=p5[r]))return c;if(r==="hasOwnProperty")return v5}const a=Reflect.get(e,r,Lr(e)?e:n);return(ti(r)?g1.has(r):m5(r))||(i||Sr(e,"get",r),s)?a:Lr(a)?o&&ff(r)?a:a.value:Ft(a)?i?_1(a):wf(a):a}}class v1 extends m1{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=ks(s);if(!mn(n)&&!ks(n)&&(s=_t(s),n=_t(n)),!rt(e)&&Lr(s)&&!Lr(n))return c?!1:(s.value=n,!0)}const o=rt(e)&&ff(r)?Number(r)<e.length:St(e,r),a=Reflect.set(e,r,n,Lr(e)?e:i);return e===_t(i)&&(o?Wi(n,s)&&bi(e,"set",r,n):bi(e,"add",r,n)),a}deleteProperty(e,r){const n=St(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&bi(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!ti(r)||!g1.has(r))&&Sr(e,"has",r),n}ownKeys(e){return Sr(e,"iterate",rt(e)?"length":xs),Reflect.ownKeys(e)}}class y5 extends m1{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const b5=new v1,w5=new y5,_5=new v1(!0);const xh=t=>t,zl=t=>Reflect.getPrototypeOf(t);function S5(t,e,r){return function(...n){const i=this.__v_raw,s=_t(i),o=No(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=i[t](...n),d=r?xh:e?Nh:Ar;return!e&&Sr(s,"iterate",c?Ah:xs),{next(){const{value:m,done:v}=h.next();return v?{value:m,done:v}:{value:a?[d(m[0]),d(m[1])]:d(m),done:v}},[Symbol.iterator](){return this}}}}function Hl(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function A5(t,e){const r={get(i){const s=this.__v_raw,o=_t(s),a=_t(i);t||(Wi(i,a)&&Sr(o,"get",i),Sr(o,"get",a));const{has:c}=zl(o),h=e?xh:t?Nh:Ar;if(c.call(o,i))return h(s.get(i));if(c.call(o,a))return h(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Sr(_t(i),"iterate",xs),Reflect.get(i,"size",i)},has(i){const s=this.__v_raw,o=_t(s),a=_t(i);return t||(Wi(i,a)&&Sr(o,"has",i),Sr(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,c=_t(a),h=e?xh:t?Nh:Ar;return!t&&Sr(c,"iterate",xs),a.forEach((d,m)=>i.call(s,h(d),h(m),o))}};return Ir(r,t?{add:Hl("add"),set:Hl("set"),delete:Hl("delete"),clear:Hl("clear")}:{add(i){!e&&!mn(i)&&!ks(i)&&(i=_t(i));const s=_t(this);return zl(s).has.call(s,i)||(s.add(i),bi(s,"add",i,i)),this},set(i,s){!e&&!mn(s)&&!ks(s)&&(s=_t(s));const o=_t(this),{has:a,get:c}=zl(o);let h=a.call(o,i);h||(i=_t(i),h=a.call(o,i));const d=c.call(o,i);return o.set(i,s),h?Wi(s,d)&&bi(o,"set",i,s):bi(o,"add",i,s),this},delete(i){const s=_t(this),{has:o,get:a}=zl(s);let c=o.call(s,i);c||(i=_t(i),c=o.call(s,i)),a&&a.call(s,i);const h=s.delete(i);return c&&bi(s,"delete",i,void 0),h},clear(){const i=_t(this),s=i.size!==0,o=i.clear();return s&&bi(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=S5(i,t,e)}),r}function bf(t,e){const r=A5(t,e);return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(St(r,i)&&i in n?r:n,i,s)}const x5={get:bf(!1,!1)},N5={get:bf(!1,!0)},L5={get:bf(!0,!1)};const y1=new WeakMap,b1=new WeakMap,w1=new WeakMap,k5=new WeakMap;function E5(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function P5(t){return t.__v_skip||!Object.isExtensible(t)?0:E5(Q2(t))}function wf(t){return ks(t)?t:_f(t,!1,b5,x5,y1)}function O5(t){return _f(t,!1,_5,N5,b1)}function _1(t){return _f(t,!0,w5,L5,w1)}function _f(t,e,r,n,i){if(!Ft(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=i.get(t);if(s)return s;const o=P5(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return i.set(t,a),a}function Lo(t){return ks(t)?Lo(t.__v_raw):!!(t&&t.__v_isReactive)}function ks(t){return!!(t&&t.__v_isReadonly)}function mn(t){return!!(t&&t.__v_isShallow)}function Sf(t){return t?!!t.__v_raw:!1}function _t(t){const e=t&&t.__v_raw;return e?_t(e):t}function T5(t){return!St(t,"__v_skip")&&Object.isExtensible(t)&&n1(t,"__v_skip",!0),t}const Ar=t=>Ft(t)?wf(t):t,Nh=t=>Ft(t)?_1(t):t;function Lr(t){return t?t.__v_isRef===!0:!1}function Or(t){return C5(t,!1)}function C5(t,e){return Lr(t)?t:new R5(t,e)}class R5{constructor(e,r){this.dep=new yf,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:_t(e),this._value=r?e:Ar(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||mn(e)||ks(e);e=n?e:_t(e),Wi(e,r)&&(this._rawValue=e,this._value=n?e:Ar(e),this.dep.trigger())}}function I5(t){return Lr(t)?t.value:t}const j5={get:(t,e,r)=>e==="__v_raw"?t:I5(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return Lr(i)&&!Lr(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function S1(t){return Lo(t)?t:new Proxy(t,j5)}class F5{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new yf(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ta-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&It!==this)return c1(this,!0),!0}get value(){const e=this.dep.track();return f1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function D5(t,e,r=!1){let n,i;return ht(t)?n=t:(n=t.get,i=t.set),new F5(n,i,r)}const Wl={},pc=new WeakMap;let gs;function B5(t,e=!1,r=gs){if(r){let n=pc.get(r);n||pc.set(r,n=[]),n.push(t)}}function M5(t,e,r=Ot){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=r,h=$=>i?$:mn($)||i===!1||i===0?wi($,1):wi($);let d,m,v,g,w=!1,b=!1;if(Lr(t)?(m=()=>t.value,w=mn(t)):Lo(t)?(m=()=>h(t),w=!0):rt(t)?(b=!0,w=t.some($=>Lo($)||mn($)),m=()=>t.map($=>{if(Lr($))return $.value;if(Lo($))return h($);if(ht($))return c?c($,2):$()})):ht(t)?e?m=c?()=>c(t,2):t:m=()=>{if(v){Yi();try{v()}finally{Xi()}}const $=gs;gs=d;try{return c?c(t,3,[g]):t(g)}finally{gs=$}}:m=Qn,e&&i){const $=m,te=i===!0?1/0:i;m=()=>wi($(),te)}const k=h5(),_=()=>{d.stop(),k&&k.active&&hf(k.effects,d)};if(s&&e){const $=e;e=(...te)=>{$(...te),_()}}let E=b?new Array(t.length).fill(Wl):Wl;const I=$=>{if(!(!(d.flags&1)||!d.dirty&&!$))if(e){const te=d.run();if(i||w||(b?te.some((pe,X)=>Wi(pe,E[X])):Wi(te,E))){v&&v();const pe=gs;gs=d;try{const X=[te,E===Wl?void 0:b&&E[0]===Wl?[]:E,g];c?c(e,3,X):e(...X),E=te}finally{gs=pe}}}else d.run()};return a&&a(I),d=new a1(m),d.scheduler=o?()=>o(I,!1):I,g=$=>B5($,!1,d),v=d.onStop=()=>{const $=pc.get(d);if($){if(c)c($,4);else for(const te of $)te();pc.delete(d)}},e?n?I(!0):E=d.run():o?o(I.bind(null,!0),!0):d.run(),_.pause=d.pause.bind(d),_.resume=d.resume.bind(d),_.stop=_,_}function wi(t,e=1/0,r){if(e<=0||!Ft(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Lr(t))wi(t.value,e,r);else if(rt(t))for(let n=0;n<t.length;n++)wi(t[n],e,r);else if(Oc(t)||No(t))t.forEach(n=>{wi(n,e,r)});else if(t1(t)){for(const n in t)wi(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&wi(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Wa(t,e,r,n){try{return n?t(...n):t()}catch(i){jc(i,e,r)}}function ri(t,e,r,n){if(ht(t)){const i=Wa(t,e,r,n);return i&&Qp(i)&&i.catch(s=>{jc(s,e,r)}),i}if(rt(t)){const i=[];for(let s=0;s<t.length;s++)i.push(ri(t[s],e,r,n));return i}}function jc(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ot;if(e){let a=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const d=a.ec;if(d){for(let m=0;m<d.length;m++)if(d[m](t,c,h)===!1)return}a=a.parent}if(s){Yi(),Wa(s,null,10,[t,c,h]),Xi();return}}U5(t,r,i,n,o)}function U5(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const Cr=[];let Yn=-1;const ko=[];let Ui=null,mo=0;const A1=Promise.resolve();let gc=null;function x1(t){const e=gc||A1;return t?e.then(this?t.bind(this):t):e}function q5(t){let e=Yn+1,r=Cr.length;for(;e<r;){const n=e+r>>>1,i=Cr[n],s=Ra(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function Af(t){if(!(t.flags&1)){const e=Ra(t),r=Cr[Cr.length-1];!r||!(t.flags&2)&&e>=Ra(r)?Cr.push(t):Cr.splice(q5(e),0,t),t.flags|=1,N1()}}function N1(){gc||(gc=A1.then(k1))}function $5(t){rt(t)?ko.push(...t):Ui&&t.id===-1?Ui.splice(mo+1,0,t):t.flags&1||(ko.push(t),t.flags|=1),N1()}function vd(t,e,r=Yn+1){for(;r<Cr.length;r++){const n=Cr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Cr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function L1(t){if(ko.length){const e=[...new Set(ko)].sort((r,n)=>Ra(r)-Ra(n));if(ko.length=0,Ui){Ui.push(...e);return}for(Ui=e,mo=0;mo<Ui.length;mo++){const r=Ui[mo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ui=null,mo=0}}const Ra=t=>t.id==null?t.flags&2?-1:1/0:t.id;function k1(t){try{for(Yn=0;Yn<Cr.length;Yn++){const e=Cr[Yn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),Wa(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Yn<Cr.length;Yn++){const e=Cr[Yn];e&&(e.flags&=-2)}Yn=-1,Cr.length=0,L1(),gc=null,(Cr.length||ko.length)&&k1()}}let gn=null,E1=null;function mc(t){const e=gn;return gn=t,E1=t&&t.type.__scopeId||null,e}function z5(t,e=gn,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&kd(-1);const s=mc(e);let o;try{o=t(...i)}finally{mc(s),n._d&&kd(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Vl(t,e){if(gn===null)return t;const r=Mc(gn),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=Ot]=e[i];s&&(ht(s)&&(s={mounted:s,updated:s}),s.deep&&wi(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function hs(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(Yi(),ri(c,r,8,[t.el,a,t,e]),Xi())}}const H5=Symbol("_vte"),W5=t=>t.__isTeleport;function xf(t,e){t.shapeFlag&6&&t.component?(t.transition=e,xf(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function P1(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function vc(t,e,r,n,i=!1){if(rt(t)){t.forEach((w,b)=>vc(w,e&&(rt(e)?e[b]:e),r,n,i));return}if(Na(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&vc(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?Mc(n.component):n.el,o=i?null:s,{i:a,r:c}=t,h=e&&e.r,d=a.refs===Ot?a.refs={}:a.refs,m=a.setupState,v=_t(m),g=m===Ot?()=>!1:w=>St(v,w);if(h!=null&&h!==c&&(nr(h)?(d[h]=null,g(h)&&(m[h]=null)):Lr(h)&&(h.value=null)),ht(c))Wa(c,a,12,[o,d]);else{const w=nr(c),b=Lr(c);if(w||b){const k=()=>{if(t.f){const _=w?g(c)?m[c]:d[c]:c.value;i?rt(_)&&hf(_,s):rt(_)?_.includes(s)||_.push(s):w?(d[c]=[s],g(c)&&(m[c]=d[c])):(c.value=[s],t.k&&(d[t.k]=c.value))}else w?(d[c]=o,g(c)&&(m[c]=o)):b&&(c.value=o,t.k&&(d[t.k]=o))};o?(k.id=-1,Zr(k,r)):k()}}}Cc().requestIdleCallback;Cc().cancelIdleCallback;const Na=t=>!!t.type.__asyncLoader,O1=t=>t.type.__isKeepAlive;function V5(t,e){T1(t,"a",e)}function G5(t,e){T1(t,"da",e)}function T1(t,e,r=Rr){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Fc(e,n,r),r){let i=r.parent;for(;i&&i.parent;)O1(i.parent.vnode)&&K5(n,e,r,i),i=i.parent}}function K5(t,e,r,n){const i=Fc(e,t,n,!0);Nf(()=>{hf(n[e],i)},r)}function Fc(t,e,r=Rr,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{Yi();const a=Va(r),c=ri(e,r,t,o);return a(),Xi(),c});return n?i.unshift(s):i.push(s),s}}const Si=t=>(e,r=Rr)=>{(!ja||t==="sp")&&Fc(t,(...n)=>e(...n),r)},J5=Si("bm"),Lh=Si("m"),Y5=Si("bu"),X5=Si("u"),Z5=Si("bum"),Nf=Si("um"),Q5=Si("sp"),eg=Si("rtg"),tg=Si("rtc");function rg(t,e=Rr){Fc("ec",t,e)}const ng=Symbol.for("v-ndc");function yd(t,e,r,n){let i;const s=r,o=rt(t);if(o||nr(t)){const a=o&&Lo(t);let c=!1;a&&(c=!mn(t),t=Ic(t)),i=new Array(t.length);for(let h=0,d=t.length;h<d;h++)i[h]=e(c?Ar(t[h]):t[h],h,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(Ft(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,h=a.length;c<h;c++){const d=a[c];i[c]=e(t[d],d,c,s)}}else i=[];return i}const kh=t=>t?e0(t)?Mc(t):kh(t.parent):null,La=Ir(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kh(t.parent),$root:t=>kh(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>R1(t),$forceUpdate:t=>t.f||(t.f=()=>{Af(t.update)}),$nextTick:t=>t.n||(t.n=x1.bind(t.proxy)),$watch:t=>Ng.bind(t)}),Gu=(t,e)=>t!==Ot&&!t.__isScriptSetup&&St(t,e),ig={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let h;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(Gu(n,e))return o[e]=1,n[e];if(i!==Ot&&St(i,e))return o[e]=2,i[e];if((h=t.propsOptions[0])&&St(h,e))return o[e]=3,s[e];if(r!==Ot&&St(r,e))return o[e]=4,r[e];Eh&&(o[e]=0)}}const d=La[e];let m,v;if(d)return e==="$attrs"&&Sr(t.attrs,"get",""),d(t);if((m=a.__cssModules)&&(m=m[e]))return m;if(r!==Ot&&St(r,e))return o[e]=4,r[e];if(v=c.config.globalProperties,St(v,e))return v[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return Gu(i,e)?(i[e]=r,!0):n!==Ot&&St(n,e)?(n[e]=r,!0):St(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!r[o]||t!==Ot&&St(t,o)||Gu(e,o)||(a=s[0])&&St(a,o)||St(n,o)||St(La,o)||St(i.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:St(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function bd(t){return rt(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let Eh=!0;function sg(t){const e=R1(t),r=t.proxy,n=t.ctx;Eh=!1,e.beforeCreate&&wd(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:h,created:d,beforeMount:m,mounted:v,beforeUpdate:g,updated:w,activated:b,deactivated:k,beforeDestroy:_,beforeUnmount:E,destroyed:I,unmounted:$,render:te,renderTracked:pe,renderTriggered:X,errorCaptured:U,serverPrefetch:K,expose:ne,inheritAttrs:C,components:R,directives:W,filters:z}=e;if(h&&og(h,n,null),o)for(const ie in o){const Q=o[ie];ht(Q)&&(n[ie]=Q.bind(r))}if(i){const ie=i.call(r,r);Ft(ie)&&(t.data=wf(ie))}if(Eh=!0,s)for(const ie in s){const Q=s[ie],ye=ht(Q)?Q.bind(r,r):ht(Q.get)?Q.get.bind(r,r):Qn,we=!ht(Q)&&ht(Q.set)?Q.set.bind(r):Qn,je=Wg({get:ye,set:we});Object.defineProperty(n,ie,{enumerable:!0,configurable:!0,get:()=>je.value,set:N=>je.value=N})}if(a)for(const ie in a)C1(a[ie],n,r,ie);if(c){const ie=ht(c)?c.call(r):c;Reflect.ownKeys(ie).forEach(Q=>{fg(Q,ie[Q])})}d&&wd(d,t,"c");function oe(ie,Q){rt(Q)?Q.forEach(ye=>ie(ye.bind(r))):Q&&ie(Q.bind(r))}if(oe(J5,m),oe(Lh,v),oe(Y5,g),oe(X5,w),oe(V5,b),oe(G5,k),oe(rg,U),oe(tg,pe),oe(eg,X),oe(Z5,E),oe(Nf,$),oe(Q5,K),rt(ne))if(ne.length){const ie=t.exposed||(t.exposed={});ne.forEach(Q=>{Object.defineProperty(ie,Q,{get:()=>r[Q],set:ye=>r[Q]=ye})})}else t.exposed||(t.exposed={});te&&t.render===Qn&&(t.render=te),C!=null&&(t.inheritAttrs=C),R&&(t.components=R),W&&(t.directives=W),K&&P1(t)}function og(t,e,r=Qn){rt(t)&&(t=Ph(t));for(const n in t){const i=t[n];let s;Ft(i)?"default"in i?s=nc(i.from||n,i.default,!0):s=nc(i.from||n):s=nc(i),Lr(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function wd(t,e,r){ri(rt(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function C1(t,e,r,n){let i=n.includes(".")?G1(r,n):()=>r[n];if(nr(t)){const s=e[t];ht(s)&&Ju(i,s)}else if(ht(t))Ju(i,t.bind(r));else if(Ft(t))if(rt(t))t.forEach(s=>C1(s,e,r,n));else{const s=ht(t.handler)?t.handler.bind(r):e[t.handler];ht(s)&&Ju(i,s,t)}}function R1(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(h=>yc(c,h,o,!0)),yc(c,e,o)),Ft(e)&&s.set(e,c),c}function yc(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&yc(t,s,r,!0),i&&i.forEach(o=>yc(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=ag[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const ag={data:_d,props:Sd,emits:Sd,methods:ba,computed:ba,beforeCreate:Tr,created:Tr,beforeMount:Tr,mounted:Tr,beforeUpdate:Tr,updated:Tr,beforeDestroy:Tr,beforeUnmount:Tr,destroyed:Tr,unmounted:Tr,activated:Tr,deactivated:Tr,errorCaptured:Tr,serverPrefetch:Tr,components:ba,directives:ba,watch:cg,provide:_d,inject:lg};function _d(t,e){return e?t?function(){return Ir(ht(t)?t.call(this,this):t,ht(e)?e.call(this,this):e)}:e:t}function lg(t,e){return ba(Ph(t),Ph(e))}function Ph(t){if(rt(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Tr(t,e){return t?[...new Set([].concat(t,e))]:e}function ba(t,e){return t?Ir(Object.create(null),t,e):e}function Sd(t,e){return t?rt(t)&&rt(e)?[...new Set([...t,...e])]:Ir(Object.create(null),bd(t),bd(e??{})):e}function cg(t,e){if(!t)return e;if(!e)return t;const r=Ir(Object.create(null),t);for(const n in e)r[n]=Tr(t[n],e[n]);return r}function I1(){return{app:null,config:{isNativeTag:X2,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ug=0;function hg(t,e){return function(n,i=null){ht(n)||(n=Ir({},n)),i!=null&&!Ft(i)&&(i=null);const s=I1(),o=new WeakSet,a=[];let c=!1;const h=s.app={_uid:ug++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Vg,get config(){return s.config},set config(d){},use(d,...m){return o.has(d)||(d&&ht(d.install)?(o.add(d),d.install(h,...m)):ht(d)&&(o.add(d),d(h,...m))),h},mixin(d){return s.mixins.includes(d)||s.mixins.push(d),h},component(d,m){return m?(s.components[d]=m,h):s.components[d]},directive(d,m){return m?(s.directives[d]=m,h):s.directives[d]},mount(d,m,v){if(!c){const g=h._ceVNode||_i(n,i);return g.appContext=s,v===!0?v="svg":v===!1&&(v=void 0),t(g,d,v),c=!0,h._container=d,d.__vue_app__=h,Mc(g.component)}},onUnmount(d){a.push(d)},unmount(){c&&(ri(a,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(d,m){return s.provides[d]=m,h},runWithContext(d){const m=Eo;Eo=h;try{return d()}finally{Eo=m}}};return h}}let Eo=null;function fg(t,e){if(Rr){let r=Rr.provides;const n=Rr.parent&&Rr.parent.provides;n===r&&(r=Rr.provides=Object.create(n)),r[t]=e}}function nc(t,e,r=!1){const n=Rr||gn;if(n||Eo){const i=Eo?Eo._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&ht(e)?e.call(n&&n.proxy):e}}const j1={},F1=()=>Object.create(j1),D1=t=>Object.getPrototypeOf(t)===j1;function dg(t,e,r,n=!1){const i={},s=F1();t.propsDefaults=Object.create(null),B1(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:O5(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function pg(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=_t(i),[c]=t.propsOptions;let h=!1;if((n||o>0)&&!(o&16)){if(o&8){const d=t.vnode.dynamicProps;for(let m=0;m<d.length;m++){let v=d[m];if(Dc(t.emitsOptions,v))continue;const g=e[v];if(c)if(St(s,v))g!==s[v]&&(s[v]=g,h=!0);else{const w=Vi(v);i[w]=Oh(c,a,w,g,t,!1)}else g!==s[v]&&(s[v]=g,h=!0)}}}else{B1(t,e,i,s)&&(h=!0);let d;for(const m in a)(!e||!St(e,m)&&((d=Ji(m))===m||!St(e,d)))&&(c?r&&(r[m]!==void 0||r[d]!==void 0)&&(i[m]=Oh(c,a,m,void 0,t,!0)):delete i[m]);if(s!==a)for(const m in s)(!e||!St(e,m))&&(delete s[m],h=!0)}h&&bi(t.attrs,"set","")}function B1(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Sa(c))continue;const h=e[c];let d;i&&St(i,d=Vi(c))?!s||!s.includes(d)?r[d]=h:(a||(a={}))[d]=h:Dc(t.emitsOptions,c)||(!(c in n)||h!==n[c])&&(n[c]=h,o=!0)}if(s){const c=_t(r),h=a||Ot;for(let d=0;d<s.length;d++){const m=s[d];r[m]=Oh(i,c,m,h[m],t,!St(h,m))}}return o}function Oh(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=St(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ht(c)){const{propsDefaults:h}=i;if(r in h)n=h[r];else{const d=Va(i);n=h[r]=c.call(null,e),d()}}else n=c;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Ji(r))&&(n=!0))}return n}const gg=new WeakMap;function M1(t,e,r=!1){const n=r?gg:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!ht(t)){const d=m=>{c=!0;const[v,g]=M1(m,e,!0);Ir(o,v),g&&a.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!s&&!c)return Ft(t)&&n.set(t,xo),xo;if(rt(s))for(let d=0;d<s.length;d++){const m=Vi(s[d]);Ad(m)&&(o[m]=Ot)}else if(s)for(const d in s){const m=Vi(d);if(Ad(m)){const v=s[d],g=o[m]=rt(v)||ht(v)?{type:v}:Ir({},v),w=g.type;let b=!1,k=!0;if(rt(w))for(let _=0;_<w.length;++_){const E=w[_],I=ht(E)&&E.name;if(I==="Boolean"){b=!0;break}else I==="String"&&(k=!1)}else b=ht(w)&&w.name==="Boolean";g[0]=b,g[1]=k,(b||St(g,"default"))&&a.push(m)}}const h=[o,a];return Ft(t)&&n.set(t,h),h}function Ad(t){return t[0]!=="$"&&!Sa(t)}const U1=t=>t[0]==="_"||t==="$stable",Lf=t=>rt(t)?t.map(Xn):[Xn(t)],mg=(t,e,r)=>{if(e._n)return e;const n=z5((...i)=>Lf(e(...i)),r);return n._c=!1,n},q1=(t,e,r)=>{const n=t._ctx;for(const i in t){if(U1(i))continue;const s=t[i];if(ht(s))e[i]=mg(i,s,n);else if(s!=null){const o=Lf(s);e[i]=()=>o}}},$1=(t,e)=>{const r=Lf(e);t.slots.default=()=>r},z1=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},vg=(t,e,r)=>{const n=t.slots=F1();if(t.vnode.shapeFlag&32){const i=e._;i?(z1(n,e,r),r&&n1(n,"_",i,!0)):q1(e,n)}else e&&$1(t,e)},yg=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=Ot;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:z1(i,e,r):(s=!e.$stable,q1(e,i)),o=e}else e&&($1(t,e),o={default:1});if(s)for(const a in i)!U1(a)&&o[a]==null&&delete i[a]},Zr=Cg;function bg(t){return wg(t)}function wg(t,e){const r=Cc();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:h,setElementText:d,parentNode:m,nextSibling:v,setScopeId:g=Qn,insertStaticContent:w}=t,b=(j,B,se,H=null,O=null,be=null,Ae=void 0,ae=null,he=!!B.dynamicChildren)=>{if(j===B)return;j&&!ga(j,B)&&(H=ue(j),N(j,O,be,!0),j=null),B.patchFlag===-2&&(he=!1,B.dynamicChildren=null);const{type:ce,ref:Ne,shapeFlag:Le}=B;switch(ce){case Bc:k(j,B,se,H);break;case Es:_(j,B,se,H);break;case Yu:j==null&&E(B,se,H,Ae);break;case pn:R(j,B,se,H,O,be,Ae,ae,he);break;default:Le&1?te(j,B,se,H,O,be,Ae,ae,he):Le&6?W(j,B,se,H,O,be,Ae,ae,he):(Le&64||Le&128)&&ce.process(j,B,se,H,O,be,Ae,ae,he,Re)}Ne!=null&&O&&vc(Ne,j&&j.ref,be,B||j,!B)},k=(j,B,se,H)=>{if(j==null)n(B.el=a(B.children),se,H);else{const O=B.el=j.el;B.children!==j.children&&h(O,B.children)}},_=(j,B,se,H)=>{j==null?n(B.el=c(B.children||""),se,H):B.el=j.el},E=(j,B,se,H)=>{[j.el,j.anchor]=w(j.children,B,se,H,j.el,j.anchor)},I=({el:j,anchor:B},se,H)=>{let O;for(;j&&j!==B;)O=v(j),n(j,se,H),j=O;n(B,se,H)},$=({el:j,anchor:B})=>{let se;for(;j&&j!==B;)se=v(j),i(j),j=se;i(B)},te=(j,B,se,H,O,be,Ae,ae,he)=>{B.type==="svg"?Ae="svg":B.type==="math"&&(Ae="mathml"),j==null?pe(B,se,H,O,be,Ae,ae,he):K(j,B,O,be,Ae,ae,he)},pe=(j,B,se,H,O,be,Ae,ae)=>{let he,ce;const{props:Ne,shapeFlag:Le,transition:Ce,dirs:Fe}=j;if(he=j.el=o(j.type,be,Ne&&Ne.is,Ne),Le&8?d(he,j.children):Le&16&&U(j.children,he,null,H,O,Ku(j,be),Ae,ae),Fe&&hs(j,null,H,"created"),X(he,j,j.scopeId,Ae,H),Ne){for(const We in Ne)We!=="value"&&!Sa(We)&&s(he,We,null,Ne[We],be,H);"value"in Ne&&s(he,"value",null,Ne.value,be),(ce=Ne.onVnodeBeforeMount)&&Gn(ce,H,j)}Fe&&hs(j,null,H,"beforeMount");const Ue=_g(O,Ce);Ue&&Ce.beforeEnter(he),n(he,B,se),((ce=Ne&&Ne.onVnodeMounted)||Ue||Fe)&&Zr(()=>{ce&&Gn(ce,H,j),Ue&&Ce.enter(he),Fe&&hs(j,null,H,"mounted")},O)},X=(j,B,se,H,O)=>{if(se&&g(j,se),H)for(let be=0;be<H.length;be++)g(j,H[be]);if(O){let be=O.subTree;if(B===be||J1(be.type)&&(be.ssContent===B||be.ssFallback===B)){const Ae=O.vnode;X(j,Ae,Ae.scopeId,Ae.slotScopeIds,O.parent)}}},U=(j,B,se,H,O,be,Ae,ae,he=0)=>{for(let ce=he;ce<j.length;ce++){const Ne=j[ce]=ae?qi(j[ce]):Xn(j[ce]);b(null,Ne,B,se,H,O,be,Ae,ae)}},K=(j,B,se,H,O,be,Ae)=>{const ae=B.el=j.el;let{patchFlag:he,dynamicChildren:ce,dirs:Ne}=B;he|=j.patchFlag&16;const Le=j.props||Ot,Ce=B.props||Ot;let Fe;if(se&&fs(se,!1),(Fe=Ce.onVnodeBeforeUpdate)&&Gn(Fe,se,B,j),Ne&&hs(B,j,se,"beforeUpdate"),se&&fs(se,!0),(Le.innerHTML&&Ce.innerHTML==null||Le.textContent&&Ce.textContent==null)&&d(ae,""),ce?ne(j.dynamicChildren,ce,ae,se,H,Ku(B,O),be):Ae||Q(j,B,ae,null,se,H,Ku(B,O),be,!1),he>0){if(he&16)C(ae,Le,Ce,se,O);else if(he&2&&Le.class!==Ce.class&&s(ae,"class",null,Ce.class,O),he&4&&s(ae,"style",Le.style,Ce.style,O),he&8){const Ue=B.dynamicProps;for(let We=0;We<Ue.length;We++){const Ve=Ue[We],He=Le[Ve],Je=Ce[Ve];(Je!==He||Ve==="value")&&s(ae,Ve,He,Je,O,se)}}he&1&&j.children!==B.children&&d(ae,B.children)}else!Ae&&ce==null&&C(ae,Le,Ce,se,O);((Fe=Ce.onVnodeUpdated)||Ne)&&Zr(()=>{Fe&&Gn(Fe,se,B,j),Ne&&hs(B,j,se,"updated")},H)},ne=(j,B,se,H,O,be,Ae)=>{for(let ae=0;ae<B.length;ae++){const he=j[ae],ce=B[ae],Ne=he.el&&(he.type===pn||!ga(he,ce)||he.shapeFlag&70)?m(he.el):se;b(he,ce,Ne,null,H,O,be,Ae,!0)}},C=(j,B,se,H,O)=>{if(B!==se){if(B!==Ot)for(const be in B)!Sa(be)&&!(be in se)&&s(j,be,B[be],null,O,H);for(const be in se){if(Sa(be))continue;const Ae=se[be],ae=B[be];Ae!==ae&&be!=="value"&&s(j,be,ae,Ae,O,H)}"value"in se&&s(j,"value",B.value,se.value,O)}},R=(j,B,se,H,O,be,Ae,ae,he)=>{const ce=B.el=j?j.el:a(""),Ne=B.anchor=j?j.anchor:a("");let{patchFlag:Le,dynamicChildren:Ce,slotScopeIds:Fe}=B;Fe&&(ae=ae?ae.concat(Fe):Fe),j==null?(n(ce,se,H),n(Ne,se,H),U(B.children||[],se,Ne,O,be,Ae,ae,he)):Le>0&&Le&64&&Ce&&j.dynamicChildren?(ne(j.dynamicChildren,Ce,se,O,be,Ae,ae),(B.key!=null||O&&B===O.subTree)&&H1(j,B,!0)):Q(j,B,se,Ne,O,be,Ae,ae,he)},W=(j,B,se,H,O,be,Ae,ae,he)=>{B.slotScopeIds=ae,j==null?B.shapeFlag&512?O.ctx.activate(B,se,H,Ae,he):z(B,se,H,O,be,Ae,he):ve(j,B,he)},z=(j,B,se,H,O,be,Ae)=>{const ae=j.component=Mg(j,H,O);if(O1(j)&&(ae.ctx.renderer=Re),Ug(ae,!1,Ae),ae.asyncDep){if(O&&O.registerDep(ae,oe,Ae),!j.el){const he=ae.subTree=_i(Es);_(null,he,B,se)}}else oe(ae,j,B,se,O,be,Ae)},ve=(j,B,se)=>{const H=B.component=j.component;if(Og(j,B,se))if(H.asyncDep&&!H.asyncResolved){ie(H,B,se);return}else H.next=B,H.update();else B.el=j.el,H.vnode=B},oe=(j,B,se,H,O,be,Ae)=>{const ae=()=>{if(j.isMounted){let{next:Le,bu:Ce,u:Fe,parent:Ue,vnode:We}=j;{const kt=W1(j);if(kt){Le&&(Le.el=We.el,ie(j,Le,Ae)),kt.asyncDep.then(()=>{j.isUnmounted||ae()});return}}let Ve=Le,He;fs(j,!1),Le?(Le.el=We.el,ie(j,Le,Ae)):Le=We,Ce&&tc(Ce),(He=Le.props&&Le.props.onVnodeBeforeUpdate)&&Gn(He,Ue,Le,We),fs(j,!0);const Je=Nd(j),De=j.subTree;j.subTree=Je,b(De,Je,m(De.el),ue(De),j,O,be),Le.el=Je.el,Ve===null&&Tg(j,Je.el),Fe&&Zr(Fe,O),(He=Le.props&&Le.props.onVnodeUpdated)&&Zr(()=>Gn(He,Ue,Le,We),O)}else{let Le;const{el:Ce,props:Fe}=B,{bm:Ue,m:We,parent:Ve,root:He,type:Je}=j,De=Na(B);fs(j,!1),Ue&&tc(Ue),!De&&(Le=Fe&&Fe.onVnodeBeforeMount)&&Gn(Le,Ve,B),fs(j,!0);{He.ce&&He.ce._injectChildStyle(Je);const kt=j.subTree=Nd(j);b(null,kt,se,H,j,O,be),B.el=kt.el}if(We&&Zr(We,O),!De&&(Le=Fe&&Fe.onVnodeMounted)){const kt=B;Zr(()=>Gn(Le,Ve,kt),O)}(B.shapeFlag&256||Ve&&Na(Ve.vnode)&&Ve.vnode.shapeFlag&256)&&j.a&&Zr(j.a,O),j.isMounted=!0,B=se=H=null}};j.scope.on();const he=j.effect=new a1(ae);j.scope.off();const ce=j.update=he.run.bind(he),Ne=j.job=he.runIfDirty.bind(he);Ne.i=j,Ne.id=j.uid,he.scheduler=()=>Af(Ne),fs(j,!0),ce()},ie=(j,B,se)=>{B.component=j;const H=j.vnode.props;j.vnode=B,j.next=null,pg(j,B.props,H,se),yg(j,B.children,se),Yi(),vd(j),Xi()},Q=(j,B,se,H,O,be,Ae,ae,he=!1)=>{const ce=j&&j.children,Ne=j?j.shapeFlag:0,Le=B.children,{patchFlag:Ce,shapeFlag:Fe}=B;if(Ce>0){if(Ce&128){we(ce,Le,se,H,O,be,Ae,ae,he);return}else if(Ce&256){ye(ce,Le,se,H,O,be,Ae,ae,he);return}}Fe&8?(Ne&16&&ee(ce,O,be),Le!==ce&&d(se,Le)):Ne&16?Fe&16?we(ce,Le,se,H,O,be,Ae,ae,he):ee(ce,O,be,!0):(Ne&8&&d(se,""),Fe&16&&U(Le,se,H,O,be,Ae,ae,he))},ye=(j,B,se,H,O,be,Ae,ae,he)=>{j=j||xo,B=B||xo;const ce=j.length,Ne=B.length,Le=Math.min(ce,Ne);let Ce;for(Ce=0;Ce<Le;Ce++){const Fe=B[Ce]=he?qi(B[Ce]):Xn(B[Ce]);b(j[Ce],Fe,se,null,O,be,Ae,ae,he)}ce>Ne?ee(j,O,be,!0,!1,Le):U(B,se,H,O,be,Ae,ae,he,Le)},we=(j,B,se,H,O,be,Ae,ae,he)=>{let ce=0;const Ne=B.length;let Le=j.length-1,Ce=Ne-1;for(;ce<=Le&&ce<=Ce;){const Fe=j[ce],Ue=B[ce]=he?qi(B[ce]):Xn(B[ce]);if(ga(Fe,Ue))b(Fe,Ue,se,null,O,be,Ae,ae,he);else break;ce++}for(;ce<=Le&&ce<=Ce;){const Fe=j[Le],Ue=B[Ce]=he?qi(B[Ce]):Xn(B[Ce]);if(ga(Fe,Ue))b(Fe,Ue,se,null,O,be,Ae,ae,he);else break;Le--,Ce--}if(ce>Le){if(ce<=Ce){const Fe=Ce+1,Ue=Fe<Ne?B[Fe].el:H;for(;ce<=Ce;)b(null,B[ce]=he?qi(B[ce]):Xn(B[ce]),se,Ue,O,be,Ae,ae,he),ce++}}else if(ce>Ce)for(;ce<=Le;)N(j[ce],O,be,!0),ce++;else{const Fe=ce,Ue=ce,We=new Map;for(ce=Ue;ce<=Ce;ce++){const ut=B[ce]=he?qi(B[ce]):Xn(B[ce]);ut.key!=null&&We.set(ut.key,ce)}let Ve,He=0;const Je=Ce-Ue+1;let De=!1,kt=0;const ft=new Array(Je);for(ce=0;ce<Je;ce++)ft[ce]=0;for(ce=Fe;ce<=Le;ce++){const ut=j[ce];if(He>=Je){N(ut,O,be,!0);continue}let pt;if(ut.key!=null)pt=We.get(ut.key);else for(Ve=Ue;Ve<=Ce;Ve++)if(ft[Ve-Ue]===0&&ga(ut,B[Ve])){pt=Ve;break}pt===void 0?N(ut,O,be,!0):(ft[pt-Ue]=ce+1,pt>=kt?kt=pt:De=!0,b(ut,B[pt],se,null,O,be,Ae,ae,he),He++)}const jr=De?Sg(ft):xo;for(Ve=jr.length-1,ce=Je-1;ce>=0;ce--){const ut=Ue+ce,pt=B[ut],Wr=ut+1<Ne?B[ut+1].el:H;ft[ce]===0?b(null,pt,se,Wr,O,be,Ae,ae,he):De&&(Ve<0||ce!==jr[Ve]?je(pt,se,Wr,2):Ve--)}}},je=(j,B,se,H,O=null)=>{const{el:be,type:Ae,transition:ae,children:he,shapeFlag:ce}=j;if(ce&6){je(j.component.subTree,B,se,H);return}if(ce&128){j.suspense.move(B,se,H);return}if(ce&64){Ae.move(j,B,se,Re);return}if(Ae===pn){n(be,B,se);for(let Le=0;Le<he.length;Le++)je(he[Le],B,se,H);n(j.anchor,B,se);return}if(Ae===Yu){I(j,B,se);return}if(H!==2&&ce&1&&ae)if(H===0)ae.beforeEnter(be),n(be,B,se),Zr(()=>ae.enter(be),O);else{const{leave:Le,delayLeave:Ce,afterLeave:Fe}=ae,Ue=()=>n(be,B,se),We=()=>{Le(be,()=>{Ue(),Fe&&Fe()})};Ce?Ce(be,Ue,We):We()}else n(be,B,se)},N=(j,B,se,H=!1,O=!1)=>{const{type:be,props:Ae,ref:ae,children:he,dynamicChildren:ce,shapeFlag:Ne,patchFlag:Le,dirs:Ce,cacheIndex:Fe}=j;if(Le===-2&&(O=!1),ae!=null&&vc(ae,null,se,j,!0),Fe!=null&&(B.renderCache[Fe]=void 0),Ne&256){B.ctx.deactivate(j);return}const Ue=Ne&1&&Ce,We=!Na(j);let Ve;if(We&&(Ve=Ae&&Ae.onVnodeBeforeUnmount)&&Gn(Ve,B,j),Ne&6)V(j.component,se,H);else{if(Ne&128){j.suspense.unmount(se,H);return}Ue&&hs(j,null,B,"beforeUnmount"),Ne&64?j.type.remove(j,B,se,Re,H):ce&&!ce.hasOnce&&(be!==pn||Le>0&&Le&64)?ee(ce,B,se,!1,!0):(be===pn&&Le&384||!O&&Ne&16)&&ee(he,B,se),H&&D(j)}(We&&(Ve=Ae&&Ae.onVnodeUnmounted)||Ue)&&Zr(()=>{Ve&&Gn(Ve,B,j),Ue&&hs(j,null,B,"unmounted")},se)},D=j=>{const{type:B,el:se,anchor:H,transition:O}=j;if(B===pn){q(se,H);return}if(B===Yu){$(j);return}const be=()=>{i(se),O&&!O.persisted&&O.afterLeave&&O.afterLeave()};if(j.shapeFlag&1&&O&&!O.persisted){const{leave:Ae,delayLeave:ae}=O,he=()=>Ae(se,be);ae?ae(j.el,be,he):he()}else be()},q=(j,B)=>{let se;for(;j!==B;)se=v(j),i(j),j=se;i(B)},V=(j,B,se)=>{const{bum:H,scope:O,job:be,subTree:Ae,um:ae,m:he,a:ce}=j;xd(he),xd(ce),H&&tc(H),O.stop(),be&&(be.flags|=8,N(Ae,j,B,se)),ae&&Zr(ae,B),Zr(()=>{j.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&j.asyncDep&&!j.asyncResolved&&j.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ee=(j,B,se,H=!1,O=!1,be=0)=>{for(let Ae=be;Ae<j.length;Ae++)N(j[Ae],B,se,H,O)},ue=j=>{if(j.shapeFlag&6)return ue(j.component.subTree);if(j.shapeFlag&128)return j.suspense.next();const B=v(j.anchor||j.el),se=B&&B[H5];return se?v(se):B};let ge=!1;const me=(j,B,se)=>{j==null?B._vnode&&N(B._vnode,null,null,!0):b(B._vnode||null,j,B,null,null,null,se),B._vnode=j,ge||(ge=!0,vd(),L1(),ge=!1)},Re={p:b,um:N,m:je,r:D,mt:z,mc:U,pc:Q,pbc:ne,n:ue,o:t};return{render:me,hydrate:void 0,createApp:hg(me)}}function Ku({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function fs({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function _g(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function H1(t,e,r=!1){const n=t.children,i=e.children;if(rt(n)&&rt(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=qi(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&H1(o,a)),a.type===Bc&&(a.el=o.el)}}function Sg(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const h=t[n];if(h!==0){if(i=r[r.length-1],t[i]<h){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<h?s=a+1:o=a;h<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function W1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:W1(e)}function xd(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Ag=Symbol.for("v-scx"),xg=()=>nc(Ag);function Ju(t,e,r){return V1(t,e,r)}function V1(t,e,r=Ot){const{immediate:n,deep:i,flush:s,once:o}=r,a=Ir({},r),c=e&&n||!e&&s!=="post";let h;if(ja){if(s==="sync"){const g=xg();h=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=Qn,g.resume=Qn,g.pause=Qn,g}}const d=Rr;a.call=(g,w,b)=>ri(g,d,w,b);let m=!1;s==="post"?a.scheduler=g=>{Zr(g,d&&d.suspense)}:s!=="sync"&&(m=!0,a.scheduler=(g,w)=>{w?g():Af(g)}),a.augmentJob=g=>{e&&(g.flags|=4),m&&(g.flags|=2,d&&(g.id=d.uid,g.i=d))};const v=M5(t,e,a);return ja&&(h?h.push(v):c&&v()),v}function Ng(t,e,r){const n=this.proxy,i=nr(t)?t.includes(".")?G1(n,t):()=>n[t]:t.bind(n,n);let s;ht(e)?s=e:(s=e.handler,r=e);const o=Va(this),a=V1(i,s.bind(n),r);return o(),a}function G1(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const Lg=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Vi(e)}Modifiers`]||t[`${Ji(e)}Modifiers`];function kg(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ot;let i=r;const s=e.startsWith("update:"),o=s&&Lg(n,e.slice(7));o&&(o.trim&&(i=r.map(d=>nr(d)?d.trim():d)),o.number&&(i=r.map(dc)));let a,c=n[a=$u(e)]||n[a=$u(Vi(e))];!c&&s&&(c=n[a=$u(Ji(e))]),c&&ri(c,t,6,i);const h=n[a+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,ri(h,t,6,i)}}function K1(t,e,r=!1){const n=e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!ht(t)){const c=h=>{const d=K1(h,e,!0);d&&(a=!0,Ir(o,d))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(Ft(t)&&n.set(t,null),null):(rt(s)?s.forEach(c=>o[c]=null):Ir(o,s),Ft(t)&&n.set(t,o),o)}function Dc(t,e){return!t||!Pc(e)?!1:(e=e.slice(2).replace(/Once$/,""),St(t,e[0].toLowerCase()+e.slice(1))||St(t,Ji(e))||St(t,e))}function Nd(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:h,renderCache:d,props:m,data:v,setupState:g,ctx:w,inheritAttrs:b}=t,k=mc(t);let _,E;try{if(r.shapeFlag&4){const $=i||n,te=$;_=Xn(h.call(te,$,d,m,g,v,w)),E=a}else{const $=e;_=Xn($.length>1?$(m,{attrs:a,slots:o,emit:c}):$(m,null)),E=e.props?a:Eg(a)}}catch($){ka.length=0,jc($,t,1),_=_i(Es)}let I=_;if(E&&b!==!1){const $=Object.keys(E),{shapeFlag:te}=I;$.length&&te&7&&(s&&$.some(uf)&&(E=Pg(E,s)),I=jo(I,E,!1,!0))}return r.dirs&&(I=jo(I,null,!1,!0),I.dirs=I.dirs?I.dirs.concat(r.dirs):r.dirs),r.transition&&xf(I,r.transition),_=I,mc(k),_}const Eg=t=>{let e;for(const r in t)(r==="class"||r==="style"||Pc(r))&&((e||(e={}))[r]=t[r]);return e},Pg=(t,e)=>{const r={};for(const n in t)(!uf(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Og(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,h=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?Ld(n,o,h):!!o;if(c&8){const d=e.dynamicProps;for(let m=0;m<d.length;m++){const v=d[m];if(o[v]!==n[v]&&!Dc(h,v))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Ld(n,o,h):!0:!!o;return!1}function Ld(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!Dc(r,s))return!0}return!1}function Tg({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const J1=t=>t.__isSuspense;function Cg(t,e){e&&e.pendingBranch?rt(t)?e.effects.push(...t):e.effects.push(t):$5(t)}const pn=Symbol.for("v-fgt"),Bc=Symbol.for("v-txt"),Es=Symbol.for("v-cmt"),Yu=Symbol.for("v-stc"),ka=[];let nn=null;function Qr(t=!1){ka.push(nn=t?null:[])}function Rg(){ka.pop(),nn=ka[ka.length-1]||null}let Ia=1;function kd(t,e=!1){Ia+=t,t<0&&nn&&e&&(nn.hasOnce=!0)}function Y1(t){return t.dynamicChildren=Ia>0?nn||xo:null,Rg(),Ia>0&&nn&&nn.push(t),t}function kn(t,e,r,n,i,s){return Y1(yt(t,e,r,n,i,s,!0))}function X1(t,e,r,n,i){return Y1(_i(t,e,r,n,i,!0))}function Z1(t){return t?t.__v_isVNode===!0:!1}function ga(t,e){return t.type===e.type&&t.key===e.key}const Q1=({key:t})=>t??null,ic=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?nr(t)||Lr(t)||ht(t)?{i:gn,r:t,k:e,f:!!r}:t:null);function yt(t,e=null,r=null,n=0,i=null,s=t===pn?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Q1(e),ref:e&&ic(e),scopeId:E1,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:gn};return a?(kf(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=nr(r)?8:16),Ia>0&&!o&&nn&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&nn.push(c),c}const _i=Ig;function Ig(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===ng)&&(t=Es),Z1(t)){const a=jo(t,e,!0);return r&&kf(a,r),Ia>0&&!s&&nn&&(a.shapeFlag&6?nn[nn.indexOf(t)]=a:nn.push(a)),a.patchFlag=-2,a}if(Hg(t)&&(t=t.__vccOpts),e){e=jg(e);let{class:a,style:c}=e;a&&!nr(a)&&(e.class=pf(a)),Ft(c)&&(Sf(c)&&!rt(c)&&(c=Ir({},c)),e.style=df(c))}const o=nr(t)?1:J1(t)?128:W5(t)?64:Ft(t)?4:ht(t)?2:0;return yt(t,e,r,n,i,o,s,!0)}function jg(t){return t?Sf(t)||D1(t)?Ir({},t):t:null}function jo(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,h=e?Fg(i||{},e):i,d={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Q1(h),ref:e&&e.ref?r&&s?rt(s)?s.concat(ic(e)):[s,ic(e)]:ic(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==pn?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&jo(t.ssContent),ssFallback:t.ssFallback&&jo(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&xf(d,c.clone(d)),d}function wa(t=" ",e=0){return _i(Bc,null,t,e)}function Xu(t="",e=!1){return e?(Qr(),X1(Es,null,t)):_i(Es,null,t)}function Xn(t){return t==null||typeof t=="boolean"?_i(Es):rt(t)?_i(pn,null,t.slice()):Z1(t)?qi(t):_i(Bc,null,String(t))}function qi(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:jo(t)}function kf(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(rt(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),kf(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!D1(e)?e._ctx=gn:i===3&&gn&&(gn.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ht(e)?(e={default:e,_ctx:gn},r=32):(e=String(e),n&64?(r=16,e=[wa(e)]):r=8);t.children=e,t.shapeFlag|=r}function Fg(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=pf([e.class,n.class]));else if(i==="style")e.style=df([e.style,n.style]);else if(Pc(i)){const s=e[i],o=n[i];o&&s!==o&&!(rt(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function Gn(t,e,r,n=null){ri(t,e,7,[r,n])}const Dg=I1();let Bg=0;function Mg(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||Dg,s={uid:Bg++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new u5(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:M1(n,i),emitsOptions:K1(n,i),emit:null,emitted:null,propsDefaults:Ot,inheritAttrs:n.inheritAttrs,ctx:Ot,data:Ot,props:Ot,attrs:Ot,slots:Ot,refs:Ot,setupState:Ot,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=kg.bind(null,s),t.ce&&t.ce(s),s}let Rr=null,bc,Th;{const t=Cc(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};bc=e("__VUE_INSTANCE_SETTERS__",r=>Rr=r),Th=e("__VUE_SSR_SETTERS__",r=>ja=r)}const Va=t=>{const e=Rr;return bc(t),t.scope.on(),()=>{t.scope.off(),bc(e)}},Ed=()=>{Rr&&Rr.scope.off(),bc(null)};function e0(t){return t.vnode.shapeFlag&4}let ja=!1;function Ug(t,e=!1,r=!1){e&&Th(e);const{props:n,children:i}=t.vnode,s=e0(t);dg(t,n,s,e),vg(t,i,r);const o=s?qg(t,e):void 0;return e&&Th(!1),o}function qg(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,ig);const{setup:n}=r;if(n){Yi();const i=t.setupContext=n.length>1?zg(t):null,s=Va(t),o=Wa(n,t,0,[t.props,i]),a=Qp(o);if(Xi(),s(),(a||t.sp)&&!Na(t)&&P1(t),a){if(o.then(Ed,Ed),e)return o.then(c=>{Pd(t,c)}).catch(c=>{jc(c,t,0)});t.asyncDep=o}else Pd(t,o)}else t0(t)}function Pd(t,e,r){ht(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ft(e)&&(t.setupState=S1(e)),t0(t)}function t0(t,e,r){const n=t.type;t.render||(t.render=n.render||Qn);{const i=Va(t);Yi();try{sg(t)}finally{Xi(),i()}}}const $g={get(t,e){return Sr(t,"get",""),t[e]}};function zg(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,$g),slots:t.slots,emit:t.emit,expose:e}}function Mc(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(S1(T5(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in La)return La[r](t)},has(e,r){return r in e||r in La}})):t.proxy}function Hg(t){return ht(t)&&"__vccOpts"in t}const Wg=(t,e)=>D5(t,e,ja),Vg="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ch;const Od=typeof window<"u"&&window.trustedTypes;if(Od)try{Ch=Od.createPolicy("vue",{createHTML:t=>t})}catch{}const r0=Ch?t=>Ch.createHTML(t):t=>t,Gg="http://www.w3.org/2000/svg",Kg="http://www.w3.org/1998/Math/MathML",vi=typeof document<"u"?document:null,Td=vi&&vi.createElement("template"),Jg={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?vi.createElementNS(Gg,t):e==="mathml"?vi.createElementNS(Kg,t):r?vi.createElement(t,{is:r}):vi.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>vi.createTextNode(t),createComment:t=>vi.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vi.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{Td.innerHTML=r0(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=Td.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},Yg=Symbol("_vtc");function Xg(t,e,r){const n=t[Yg];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Cd=Symbol("_vod"),Zg=Symbol("_vsh"),Qg=Symbol(""),em=/(^|;)\s*display\s*:/;function tm(t,e,r){const n=t.style,i=nr(r);let s=!1;if(r&&!i){if(e)if(nr(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&sc(n,a,"")}else for(const o in e)r[o]==null&&sc(n,o,"");for(const o in r)o==="display"&&(s=!0),sc(n,o,r[o])}else if(i){if(e!==r){const o=n[Qg];o&&(r+=";"+o),n.cssText=r,s=em.test(r)}}else e&&t.removeAttribute("style");Cd in t&&(t[Cd]=s?n.display:"",t[Zg]&&(n.display="none"))}const Rd=/\s*!important$/;function sc(t,e,r){if(rt(r))r.forEach(n=>sc(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=rm(t,e);Rd.test(r)?t.setProperty(Ji(n),r.replace(Rd,""),"important"):t[n]=r}}const Id=["Webkit","Moz","ms"],Zu={};function rm(t,e){const r=Zu[e];if(r)return r;let n=Vi(e);if(n!=="filter"&&n in t)return Zu[e]=n;n=r1(n);for(let i=0;i<Id.length;i++){const s=Id[i]+n;if(s in t)return Zu[e]=s}return e}const jd="http://www.w3.org/1999/xlink";function Fd(t,e,r,n,i,s=a5(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(jd,e.slice(6,e.length)):t.setAttributeNS(jd,e,r):r==null||s&&!i1(r)?t.removeAttribute(e):t.setAttribute(e,s?"":ti(r)?String(r):r)}function Dd(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?r0(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=i1(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function ys(t,e,r,n){t.addEventListener(e,r,n)}function nm(t,e,r,n){t.removeEventListener(e,r,n)}const Bd=Symbol("_vei");function im(t,e,r,n,i=null){const s=t[Bd]||(t[Bd]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=sm(e);if(n){const h=s[e]=lm(n,i);ys(t,a,h,c)}else o&&(nm(t,a,o,c),s[e]=void 0)}}const Md=/(?:Once|Passive|Capture)$/;function sm(t){let e;if(Md.test(t)){e={};let n;for(;n=t.match(Md);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ji(t.slice(2)),e]}let Qu=0;const om=Promise.resolve(),am=()=>Qu||(om.then(()=>Qu=0),Qu=Date.now());function lm(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;ri(cm(n,r.value),e,5,[n])};return r.value=t,r.attached=am(),r}function cm(t,e){if(rt(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const Ud=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,um=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?Xg(t,n,o):e==="style"?tm(t,r,n):Pc(e)?uf(e)||im(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hm(t,e,n,o))?(Dd(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Fd(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!nr(n))?Dd(t,Vi(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Fd(t,e,n,o))};function hm(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&Ud(e)&&ht(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ud(e)&&nr(r)?!1:e in t}const wc=t=>{const e=t.props["onUpdate:modelValue"]||!1;return rt(e)?r=>tc(e,r):e};function fm(t){t.target.composing=!0}function qd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Po=Symbol("_assign"),$d={created(t,{modifiers:{lazy:e,trim:r,number:n}},i){t[Po]=wc(i);const s=n||i.props&&i.props.type==="number";ys(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),s&&(a=dc(a)),t[Po](a)}),r&&ys(t,"change",()=>{t.value=t.value.trim()}),e||(ys(t,"compositionstart",fm),ys(t,"compositionend",qd),ys(t,"change",qd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:i,number:s}},o){if(t[Po]=wc(o),t.composing)return;const a=(s||t.type==="number")&&!/^0\d/.test(t.value)?dc(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||i&&t.value.trim()===c)||(t.value=c))}},zd={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const i=Oc(e);ys(t,"change",()=>{const s=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?dc(_c(o)):_c(o));t[Po](t.multiple?i?new Set(s):s:s[0]),t._assigning=!0,x1(()=>{t._assigning=!1})}),t[Po]=wc(n)},mounted(t,{value:e}){Hd(t,e)},beforeUpdate(t,e,r){t[Po]=wc(r)},updated(t,{value:e}){t._assigning||Hd(t,e)}};function Hd(t,e){const r=t.multiple,n=rt(e);if(!(r&&!n&&!Oc(e))){for(let i=0,s=t.options.length;i<s;i++){const o=t.options[i],a=_c(o);if(r)if(n){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(h=>String(h)===String(a)):o.selected=c5(e,a)>-1}else o.selected=e.has(a);else if(Rc(_c(o),e)){t.selectedIndex!==i&&(t.selectedIndex=i);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function _c(t){return"_value"in t?t._value:t.value}const dm={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Wd=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=i=>{if(!("key"in i))return;const s=Ji(i.key);if(e.some(o=>o===s||dm[o]===s))return t(i)})},pm=Ir({patchProp:um},Jg);let Vd;function gm(){return Vd||(Vd=bg(pm))}const mm=(...t)=>{const e=gm().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=ym(n);if(!i)return;const s=e._component;!ht(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,vm(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function vm(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function ym(t){return nr(t)?document.querySelector(t):t}function n0(t,e){return function(){return t.apply(e,arguments)}}const{toString:bm}=Object.prototype,{getPrototypeOf:Ef}=Object,{iterator:Uc,toStringTag:i0}=Symbol,qc=(t=>e=>{const r=bm.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),jn=t=>(t=t.toLowerCase(),e=>qc(e)===t),$c=t=>e=>typeof e===t,{isArray:Fo}=Array,Fa=$c("undefined");function wm(t){return t!==null&&!Fa(t)&&t.constructor!==null&&!Fa(t.constructor)&&$r(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const s0=jn("ArrayBuffer");function _m(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&s0(t.buffer),e}const Sm=$c("string"),$r=$c("function"),o0=$c("number"),zc=t=>t!==null&&typeof t=="object",Am=t=>t===!0||t===!1,oc=t=>{if(qc(t)!=="object")return!1;const e=Ef(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(i0 in t)&&!(Uc in t)},xm=jn("Date"),Nm=jn("File"),Lm=jn("Blob"),km=jn("FileList"),Em=t=>zc(t)&&$r(t.pipe),Pm=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||$r(t.append)&&((e=qc(t))==="formdata"||e==="object"&&$r(t.toString)&&t.toString()==="[object FormData]"))},Om=jn("URLSearchParams"),[Tm,Cm,Rm,Im]=["ReadableStream","Request","Response","Headers"].map(jn),jm=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ga(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Fo(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function a0(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ss=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,l0=t=>!Fa(t)&&t!==Ss;function Rh(){const{caseless:t}=l0(this)&&this||{},e={},r=(n,i)=>{const s=t&&a0(e,i)||i;oc(e[s])&&oc(n)?e[s]=Rh(e[s],n):oc(n)?e[s]=Rh({},n):Fo(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Ga(arguments[n],r);return e}const Fm=(t,e,r,{allOwnKeys:n}={})=>(Ga(e,(i,s)=>{r&&$r(i)?t[s]=n0(i,r):t[s]=i},{allOwnKeys:n}),t),Dm=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Bm=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Mm=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&Ef(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Um=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},qm=t=>{if(!t)return null;if(Fo(t))return t;let e=t.length;if(!o0(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},$m=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&Ef(Uint8Array)),zm=(t,e)=>{const n=(t&&t[Uc]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Hm=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Wm=jn("HTMLFormElement"),Vm=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),Gd=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Gm=jn("RegExp"),c0=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Ga(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},Km=t=>{c0(t,(e,r)=>{if($r(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if($r(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Jm=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Fo(t)?n(t):n(String(t).split(e)),r},Ym=()=>{},Xm=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Zm(t){return!!(t&&$r(t.append)&&t[i0]==="FormData"&&t[Uc])}const Qm=t=>{const e=new Array(10),r=(n,i)=>{if(zc(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Fo(n)?[]:{};return Ga(n,(o,a)=>{const c=r(o,i+1);!Fa(c)&&(s[a]=c)}),e[i]=void 0,s}}return n};return r(t,0)},ev=jn("AsyncFunction"),tv=t=>t&&(zc(t)||$r(t))&&$r(t.then)&&$r(t.catch),u0=((t,e)=>t?setImmediate:e?((r,n)=>(Ss.addEventListener("message",({source:i,data:s})=>{i===Ss&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ss.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",$r(Ss.postMessage)),rv=typeof queueMicrotask<"u"?queueMicrotask.bind(Ss):typeof process<"u"&&process.nextTick||u0,nv=t=>t!=null&&$r(t[Uc]),_e={isArray:Fo,isArrayBuffer:s0,isBuffer:wm,isFormData:Pm,isArrayBufferView:_m,isString:Sm,isNumber:o0,isBoolean:Am,isObject:zc,isPlainObject:oc,isReadableStream:Tm,isRequest:Cm,isResponse:Rm,isHeaders:Im,isUndefined:Fa,isDate:xm,isFile:Nm,isBlob:Lm,isRegExp:Gm,isFunction:$r,isStream:Em,isURLSearchParams:Om,isTypedArray:$m,isFileList:km,forEach:Ga,merge:Rh,extend:Fm,trim:jm,stripBOM:Dm,inherits:Bm,toFlatObject:Mm,kindOf:qc,kindOfTest:jn,endsWith:Um,toArray:qm,forEachEntry:zm,matchAll:Hm,isHTMLForm:Wm,hasOwnProperty:Gd,hasOwnProp:Gd,reduceDescriptors:c0,freezeMethods:Km,toObjectSet:Jm,toCamelCase:Vm,noop:Ym,toFiniteNumber:Xm,findKey:a0,global:Ss,isContextDefined:l0,isSpecCompliantForm:Zm,toJSONObject:Qm,isAsyncFn:ev,isThenable:tv,setImmediate:u0,asap:rv,isIterable:nv};function ct(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}_e.inherits(ct,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_e.toJSONObject(this.config),code:this.code,status:this.status}}});const h0=ct.prototype,f0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{f0[t]={value:t}});Object.defineProperties(ct,f0);Object.defineProperty(h0,"isAxiosError",{value:!0});ct.from=(t,e,r,n,i,s)=>{const o=Object.create(h0);return _e.toFlatObject(t,o,function(c){return c!==Error.prototype},a=>a!=="isAxiosError"),ct.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const iv=null;function Ih(t){return _e.isPlainObject(t)||_e.isArray(t)}function d0(t){return _e.endsWith(t,"[]")?t.slice(0,-2):t}function Kd(t,e,r){return t?t.concat(e).map(function(i,s){return i=d0(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function sv(t){return _e.isArray(t)&&!t.some(Ih)}const ov=_e.toFlatObject(_e,{},null,function(e){return/^is[A-Z]/.test(e)});function Hc(t,e,r){if(!_e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=_e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,k){return!_e.isUndefined(k[b])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&_e.isSpecCompliantForm(e);if(!_e.isFunction(i))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(_e.isDate(w))return w.toISOString();if(!c&&_e.isBlob(w))throw new ct("Blob is not supported. Use a Buffer instead.");return _e.isArrayBuffer(w)||_e.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,b,k){let _=w;if(w&&!k&&typeof w=="object"){if(_e.endsWith(b,"{}"))b=n?b:b.slice(0,-2),w=JSON.stringify(w);else if(_e.isArray(w)&&sv(w)||(_e.isFileList(w)||_e.endsWith(b,"[]"))&&(_=_e.toArray(w)))return b=d0(b),_.forEach(function(I,$){!(_e.isUndefined(I)||I===null)&&e.append(o===!0?Kd([b],$,s):o===null?b:b+"[]",h(I))}),!1}return Ih(w)?!0:(e.append(Kd(k,b,s),h(w)),!1)}const m=[],v=Object.assign(ov,{defaultVisitor:d,convertValue:h,isVisitable:Ih});function g(w,b){if(!_e.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+b.join("."));m.push(w),_e.forEach(w,function(_,E){(!(_e.isUndefined(_)||_===null)&&i.call(e,_,_e.isString(E)?E.trim():E,b,v))===!0&&g(_,b?b.concat(E):[E])}),m.pop()}}if(!_e.isObject(t))throw new TypeError("data must be an object");return g(t),e}function Jd(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Pf(t,e){this._pairs=[],t&&Hc(t,this,e)}const p0=Pf.prototype;p0.append=function(e,r){this._pairs.push([e,r])};p0.toString=function(e){const r=e?function(n){return e.call(this,n,Jd)}:Jd;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function av(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function g0(t,e,r){if(!e)return t;const n=r&&r.encode||av;_e.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=_e.isURLSearchParams(e)?e.toString():new Pf(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class Yd{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){_e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const m0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},lv=typeof URLSearchParams<"u"?URLSearchParams:Pf,cv=typeof FormData<"u"?FormData:null,uv=typeof Blob<"u"?Blob:null,hv={isBrowser:!0,classes:{URLSearchParams:lv,FormData:cv,Blob:uv},protocols:["http","https","file","blob","url","data"]},Of=typeof window<"u"&&typeof document<"u",jh=typeof navigator=="object"&&navigator||void 0,fv=Of&&(!jh||["ReactNative","NativeScript","NS"].indexOf(jh.product)<0),dv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pv=Of&&window.location.href||"http://localhost",gv=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Of,hasStandardBrowserEnv:fv,hasStandardBrowserWebWorkerEnv:dv,navigator:jh,origin:pv},Symbol.toStringTag,{value:"Module"})),xr={...gv,...hv};function mv(t,e){return Hc(t,new xr.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return xr.isNode&&_e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function vv(t){return _e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function yv(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function v0(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=s>=r.length;return o=!o&&_e.isArray(i)?i.length:o,c?(_e.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!_e.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&_e.isArray(i[o])&&(i[o]=yv(i[o])),!a)}if(_e.isFormData(t)&&_e.isFunction(t.entries)){const r={};return _e.forEachEntry(t,(n,i)=>{e(vv(n),i,r,0)}),r}return null}function bv(t,e,r){if(_e.isString(t))try{return(e||JSON.parse)(t),_e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Ka={transitional:m0,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=_e.isObject(e);if(s&&_e.isHTMLForm(e)&&(e=new FormData(e)),_e.isFormData(e))return i?JSON.stringify(v0(e)):e;if(_e.isArrayBuffer(e)||_e.isBuffer(e)||_e.isStream(e)||_e.isFile(e)||_e.isBlob(e)||_e.isReadableStream(e))return e;if(_e.isArrayBufferView(e))return e.buffer;if(_e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return mv(e,this.formSerializer).toString();if((a=_e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Hc(a?{"files[]":e}:e,c&&new c,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),bv(e)):e}],transformResponse:[function(e){const r=this.transitional||Ka.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(_e.isResponse(e)||_e.isReadableStream(e))return e;if(e&&_e.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ct.from(a,ct.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xr.classes.FormData,Blob:xr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_e.forEach(["delete","get","head","post","put","patch"],t=>{Ka.headers[t]={}});const wv=_e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),_v=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&wv[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},Xd=Symbol("internals");function ma(t){return t&&String(t).trim().toLowerCase()}function ac(t){return t===!1||t==null?t:_e.isArray(t)?t.map(ac):String(t)}function Sv(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Av=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function eh(t,e,r,n,i){if(_e.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!_e.isString(e)){if(_e.isString(n))return e.indexOf(n)!==-1;if(_e.isRegExp(n))return n.test(e)}}function xv(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Nv(t,e){const r=_e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let zr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,c,h){const d=ma(c);if(!d)throw new Error("header name must be a non-empty string");const m=_e.findKey(i,d);(!m||i[m]===void 0||h===!0||h===void 0&&i[m]!==!1)&&(i[m||c]=ac(a))}const o=(a,c)=>_e.forEach(a,(h,d)=>s(h,d,c));if(_e.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(_e.isString(e)&&(e=e.trim())&&!Av(e))o(_v(e),r);else if(_e.isObject(e)&&_e.isIterable(e)){let a={},c,h;for(const d of e){if(!_e.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[h=d[0]]=(c=a[h])?_e.isArray(c)?[...c,d[1]]:[c,d[1]]:d[1]}o(a,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=ma(e),e){const n=_e.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Sv(i);if(_e.isFunction(r))return r.call(this,i,n);if(_e.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ma(e),e){const n=_e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||eh(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=ma(o),o){const a=_e.findKey(n,o);a&&(!r||eh(n,n[a],a,r))&&(delete n[a],i=!0)}}return _e.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||eh(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return _e.forEach(this,(i,s)=>{const o=_e.findKey(n,s);if(o){r[o]=ac(i),delete r[s];return}const a=e?xv(s):String(s).trim();a!==s&&delete r[s],r[a]=ac(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return _e.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&_e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[Xd]=this[Xd]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ma(o);n[a]||(Nv(i,o),n[a]=!0)}return _e.isArray(e)?e.forEach(s):s(e),this}};zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_e.reduceDescriptors(zr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});_e.freezeMethods(zr);function th(t,e){const r=this||Ka,n=e||r,i=zr.from(n.headers);let s=n.data;return _e.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function y0(t){return!!(t&&t.__CANCEL__)}function Do(t,e,r){ct.call(this,t??"canceled",ct.ERR_CANCELED,e,r),this.name="CanceledError"}_e.inherits(Do,ct,{__CANCEL__:!0});function b0(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new ct("Request failed with status code "+r.status,[ct.ERR_BAD_REQUEST,ct.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Lv(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function kv(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(c){const h=Date.now(),d=n[s];o||(o=h),r[i]=c,n[i]=h;let m=s,v=0;for(;m!==i;)v+=r[m++],m=m%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),h-o<e)return;const g=d&&h-d;return g?Math.round(v*1e3/g):void 0}}function Ev(t,e){let r=0,n=1e3/e,i,s;const o=(h,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t.apply(null,h)};return[(...h)=>{const d=Date.now(),m=d-r;m>=n?o(h,d):(i=h,s||(s=setTimeout(()=>{s=null,o(i)},n-m)))},()=>i&&o(i)]}const Sc=(t,e,r=3)=>{let n=0;const i=kv(50,250);return Ev(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,c=o-n,h=i(c),d=o<=a;n=o;const m={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:h||void 0,estimated:h&&a&&d?(a-o)/h:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(m)},r)},Zd=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},Qd=t=>(...e)=>_e.asap(()=>t(...e)),Pv=xr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,xr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(xr.origin),xr.navigator&&/(msie|trident)/i.test(xr.navigator.userAgent)):()=>!0,Ov=xr.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];_e.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),_e.isString(n)&&o.push("path="+n),_e.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Tv(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Cv(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function w0(t,e,r){let n=!Tv(e);return t&&(n||r==!1)?Cv(t,e):e}const ep=t=>t instanceof zr?{...t}:t;function Ps(t,e){e=e||{};const r={};function n(h,d,m,v){return _e.isPlainObject(h)&&_e.isPlainObject(d)?_e.merge.call({caseless:v},h,d):_e.isPlainObject(d)?_e.merge({},d):_e.isArray(d)?d.slice():d}function i(h,d,m,v){if(_e.isUndefined(d)){if(!_e.isUndefined(h))return n(void 0,h,m,v)}else return n(h,d,m,v)}function s(h,d){if(!_e.isUndefined(d))return n(void 0,d)}function o(h,d){if(_e.isUndefined(d)){if(!_e.isUndefined(h))return n(void 0,h)}else return n(void 0,d)}function a(h,d,m){if(m in e)return n(h,d);if(m in t)return n(void 0,h)}const c={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(h,d,m)=>i(ep(h),ep(d),m,!0)};return _e.forEach(Object.keys(Object.assign({},t,e)),function(d){const m=c[d]||i,v=m(t[d],e[d],d);_e.isUndefined(v)&&m!==a||(r[d]=v)}),r}const _0=t=>{const e=Ps({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;e.headers=o=zr.from(o),e.url=g0(w0(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let c;if(_e.isFormData(r)){if(xr.hasStandardBrowserEnv||xr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((c=o.getContentType())!==!1){const[h,...d]=c?c.split(";").map(m=>m.trim()).filter(Boolean):[];o.setContentType([h||"multipart/form-data",...d].join("; "))}}if(xr.hasStandardBrowserEnv&&(n&&_e.isFunction(n)&&(n=n(e)),n||n!==!1&&Pv(e.url))){const h=i&&s&&Ov.read(s);h&&o.set(i,h)}return e},Rv=typeof XMLHttpRequest<"u",Iv=Rv&&function(t){return new Promise(function(r,n){const i=_0(t);let s=i.data;const o=zr.from(i.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:h}=i,d,m,v,g,w;function b(){g&&g(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let k=new XMLHttpRequest;k.open(i.method.toUpperCase(),i.url,!0),k.timeout=i.timeout;function _(){if(!k)return;const I=zr.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),te={data:!a||a==="text"||a==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:I,config:t,request:k};b0(function(X){r(X),b()},function(X){n(X),b()},te),k=null}"onloadend"in k?k.onloadend=_:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(_)},k.onabort=function(){k&&(n(new ct("Request aborted",ct.ECONNABORTED,t,k)),k=null)},k.onerror=function(){n(new ct("Network Error",ct.ERR_NETWORK,t,k)),k=null},k.ontimeout=function(){let $=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const te=i.transitional||m0;i.timeoutErrorMessage&&($=i.timeoutErrorMessage),n(new ct($,te.clarifyTimeoutError?ct.ETIMEDOUT:ct.ECONNABORTED,t,k)),k=null},s===void 0&&o.setContentType(null),"setRequestHeader"in k&&_e.forEach(o.toJSON(),function($,te){k.setRequestHeader(te,$)}),_e.isUndefined(i.withCredentials)||(k.withCredentials=!!i.withCredentials),a&&a!=="json"&&(k.responseType=i.responseType),h&&([v,w]=Sc(h,!0),k.addEventListener("progress",v)),c&&k.upload&&([m,g]=Sc(c),k.upload.addEventListener("progress",m),k.upload.addEventListener("loadend",g)),(i.cancelToken||i.signal)&&(d=I=>{k&&(n(!I||I.type?new Do(null,t,k):I),k.abort(),k=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=Lv(i.url);if(E&&xr.protocols.indexOf(E)===-1){n(new ct("Unsupported protocol "+E+":",ct.ERR_BAD_REQUEST,t));return}k.send(s||null)})},jv=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(h){if(!i){i=!0,a();const d=h instanceof Error?h:this.reason;n.abort(d instanceof ct?d:new Do(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new ct(`timeout ${e} of ms exceeded`,ct.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),t=null)};t.forEach(h=>h.addEventListener("abort",s));const{signal:c}=n;return c.unsubscribe=()=>_e.asap(a),c}},Fv=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Dv=async function*(t,e){for await(const r of Bv(t))yield*Fv(r,e)},Bv=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},tp=(t,e,r,n)=>{const i=Dv(t,e);let s=0,o,a=c=>{o||(o=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:h,value:d}=await i.next();if(h){a(),c.close();return}let m=d.byteLength;if(r){let v=s+=m;r(v)}c.enqueue(new Uint8Array(d))}catch(h){throw a(h),h}},cancel(c){return a(c),i.return()}},{highWaterMark:2})},Wc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",S0=Wc&&typeof ReadableStream=="function",Mv=Wc&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),A0=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Uv=S0&&A0(()=>{let t=!1;const e=new Request(xr.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),rp=64*1024,Fh=S0&&A0(()=>_e.isReadableStream(new Response("").body)),Ac={stream:Fh&&(t=>t.body)};Wc&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ac[e]&&(Ac[e]=_e.isFunction(t[e])?r=>r[e]():(r,n)=>{throw new ct(`Response type '${e}' is not supported`,ct.ERR_NOT_SUPPORT,n)})})})(new Response);const qv=async t=>{if(t==null)return 0;if(_e.isBlob(t))return t.size;if(_e.isSpecCompliantForm(t))return(await new Request(xr.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(_e.isArrayBufferView(t)||_e.isArrayBuffer(t))return t.byteLength;if(_e.isURLSearchParams(t)&&(t=t+""),_e.isString(t))return(await Mv(t)).byteLength},$v=async(t,e)=>{const r=_e.toFiniteNumber(t.getContentLength());return r??qv(e)},zv=Wc&&(async t=>{let{url:e,method:r,data:n,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:c,responseType:h,headers:d,withCredentials:m="same-origin",fetchOptions:v}=_0(t);h=h?(h+"").toLowerCase():"text";let g=jv([i,s&&s.toAbortSignal()],o),w;const b=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let k;try{if(c&&Uv&&r!=="get"&&r!=="head"&&(k=await $v(d,n))!==0){let te=new Request(e,{method:"POST",body:n,duplex:"half"}),pe;if(_e.isFormData(n)&&(pe=te.headers.get("content-type"))&&d.setContentType(pe),te.body){const[X,U]=Zd(k,Sc(Qd(c)));n=tp(te.body,rp,X,U)}}_e.isString(m)||(m=m?"include":"omit");const _="credentials"in Request.prototype;w=new Request(e,{...v,signal:g,method:r.toUpperCase(),headers:d.normalize().toJSON(),body:n,duplex:"half",credentials:_?m:void 0});let E=await fetch(w);const I=Fh&&(h==="stream"||h==="response");if(Fh&&(a||I&&b)){const te={};["status","statusText","headers"].forEach(K=>{te[K]=E[K]});const pe=_e.toFiniteNumber(E.headers.get("content-length")),[X,U]=a&&Zd(pe,Sc(Qd(a),!0))||[];E=new Response(tp(E.body,rp,X,()=>{U&&U(),b&&b()}),te)}h=h||"text";let $=await Ac[_e.findKey(Ac,h)||"text"](E,t);return!I&&b&&b(),await new Promise((te,pe)=>{b0(te,pe,{data:$,headers:zr.from(E.headers),status:E.status,statusText:E.statusText,config:t,request:w})})}catch(_){throw b&&b(),_&&_.name==="TypeError"&&/Load failed|fetch/i.test(_.message)?Object.assign(new ct("Network Error",ct.ERR_NETWORK,t,w),{cause:_.cause||_}):ct.from(_,_&&_.code,t,w)}}),Dh={http:iv,xhr:Iv,fetch:zv};_e.forEach(Dh,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const np=t=>`- ${t}`,Hv=t=>_e.isFunction(t)||t===null||t===!1,x0={getAdapter:t=>{t=_e.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!Hv(r)&&(n=Dh[(o=String(r)).toLowerCase()],n===void 0))throw new ct(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,c])=>`adapter ${a} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(np).join(`
`):" "+np(s[0]):"as no adapter specified";throw new ct("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:Dh};function rh(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Do(null,t)}function ip(t){return rh(t),t.headers=zr.from(t.headers),t.data=th.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),x0.getAdapter(t.adapter||Ka.adapter)(t).then(function(n){return rh(t),n.data=th.call(t,t.transformResponse,n),n.headers=zr.from(n.headers),n},function(n){return y0(n)||(rh(t),n&&n.response&&(n.response.data=th.call(t,t.transformResponse,n.response),n.response.headers=zr.from(n.response.headers))),Promise.reject(n)})}const N0="1.9.0",Vc={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vc[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const sp={};Vc.transitional=function(e,r,n){function i(s,o){return"[Axios v"+N0+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new ct(i(o," has been removed"+(r?" in "+r:"")),ct.ERR_DEPRECATED);return r&&!sp[o]&&(sp[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};Vc.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Wv(t,e,r){if(typeof t!="object")throw new ct("options must be an object",ct.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new ct("option "+s+" must be "+c,ct.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ct("Unknown option "+s,ct.ERR_BAD_OPTION)}}const lc={assertOptions:Wv,validators:Vc},Kn=lc.validators;let Ns=class{constructor(e){this.defaults=e||{},this.interceptors={request:new Yd,response:new Yd}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Ps(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&lc.assertOptions(n,{silentJSONParsing:Kn.transitional(Kn.boolean),forcedJSONParsing:Kn.transitional(Kn.boolean),clarifyTimeoutError:Kn.transitional(Kn.boolean)},!1),i!=null&&(_e.isFunction(i)?r.paramsSerializer={serialize:i}:lc.assertOptions(i,{encode:Kn.function,serialize:Kn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),lc.assertOptions(r,{baseUrl:Kn.spelling("baseURL"),withXsrfToken:Kn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&_e.merge(s.common,s[r.method]);s&&_e.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),r.headers=zr.concat(o,s);const a=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,a.unshift(b.fulfilled,b.rejected))});const h=[];this.interceptors.response.forEach(function(b){h.push(b.fulfilled,b.rejected)});let d,m=0,v;if(!c){const w=[ip.bind(this),void 0];for(w.unshift.apply(w,a),w.push.apply(w,h),v=w.length,d=Promise.resolve(r);m<v;)d=d.then(w[m++],w[m++]);return d}v=a.length;let g=r;for(m=0;m<v;){const w=a[m++],b=a[m++];try{g=w(g)}catch(k){b.call(this,k);break}}try{d=ip.call(this,g)}catch(w){return Promise.reject(w)}for(m=0,v=h.length;m<v;)d=d.then(h[m++],h[m++]);return d}getUri(e){e=Ps(this.defaults,e);const r=w0(e.baseURL,e.url,e.allowAbsoluteUrls);return g0(r,e.params,e.paramsSerializer)}};_e.forEach(["delete","get","head","options"],function(e){Ns.prototype[e]=function(r,n){return this.request(Ps(n||{},{method:e,url:r,data:(n||{}).data}))}});_e.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Ps(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Ns.prototype[e]=r(),Ns.prototype[e+"Form"]=r(!0)});let Vv=class L0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Do(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new L0(function(i){e=i}),cancel:e}}};function Gv(t){return function(r){return t.apply(null,r)}}function Kv(t){return _e.isObject(t)&&t.isAxiosError===!0}const Bh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bh).forEach(([t,e])=>{Bh[e]=t});function k0(t){const e=new Ns(t),r=n0(Ns.prototype.request,e);return _e.extend(r,Ns.prototype,e,{allOwnKeys:!0}),_e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return k0(Ps(t,i))},r}const Xt=k0(Ka);Xt.Axios=Ns;Xt.CanceledError=Do;Xt.CancelToken=Vv;Xt.isCancel=y0;Xt.VERSION=N0;Xt.toFormData=Hc;Xt.AxiosError=ct;Xt.Cancel=Xt.CanceledError;Xt.all=function(e){return Promise.all(e)};Xt.spread=Gv;Xt.isAxiosError=Kv;Xt.mergeConfig=Ps;Xt.AxiosHeaders=zr;Xt.formToJSON=t=>v0(_e.isHTMLForm(t)?new FormData(t):t);Xt.getAdapter=x0.getAdapter;Xt.HttpStatusCode=Bh;Xt.default=Xt;const{Axios:f3,AxiosError:d3,CanceledError:p3,isCancel:g3,CancelToken:m3,VERSION:v3,all:y3,Cancel:b3,isAxiosError:w3,spread:_3,toFormData:S3,AxiosHeaders:A3,HttpStatusCode:x3,formToJSON:N3,getAdapter:L3,mergeConfig:k3}=Xt;var Xp,Zp;const Ja=((Zp=(Xp=import.meta)==null?void 0:Xp.env)==null?void 0:Zp.VITE_PROXY_BASE)||"https://summonersheet-proxy.summonersheet-connor050.workers.dev",Ya=Xt.create({baseURL:Ja}),Jv={EUW1:"euw1"},Xa=Jv.EUW1,op=async(t,e,r=Xa)=>{try{return(await Ya.get("/api/account/by-riot-id",{params:{name:t,tag:e,region:r}})).data}catch(n){throw console.error("Error fetching summoner data:",n.message),n}},Yv=async(t,e=Xa)=>{try{return(await Ya.get("/api/lol/champion-mastery/by-puuid",{params:{puuid:t,region:e}})).data}catch(r){throw console.error("Error fetching champion mastery data:",r.message),r}},Xv=async(t,e=Xa)=>{try{return(await Ya.get("/api/lol/league/by-puuid",{params:{puuid:t,region:e}})).data}catch(r){throw console.error("Error fetching player details:",r.message),r}};function Gc(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Zv(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{h(n.next(d))}catch(m){o(m)}}function c(d){try{h(n.throw(d))}catch(m){o(m)}}function h(d){d.done?s(d.value):i(d.value).then(a,c)}h((n=n.apply(t,e||[])).next())})}const Qv=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Tf extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ey extends Tf{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ap extends Tf{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lp extends Tf{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mh;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mh||(Mh={}));class ty{constructor(e,{headers:r={},customFetch:n,region:i=Mh.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Qv(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Zv(this,arguments,void 0,function*(r,n={}){var i;let s,o;try{const{headers:a,method:c,body:h,signal:d,timeout:m}=n;let v={},{region:g}=n;g||(g=this.region);const w=new URL(`${this.url}/${r}`);g&&g!=="any"&&(v["x-region"]=g,w.searchParams.set("forceFunctionRegion",g));let b;h&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",b=h):typeof h=="string"?(v["Content-Type"]="text/plain",b=h):typeof FormData<"u"&&h instanceof FormData?b=h:(v["Content-Type"]="application/json",b=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?b=JSON.stringify(h):b=h;let k=d;m&&(o=new AbortController,s=setTimeout(()=>o.abort(),m),d?(k=o.signal,d.addEventListener("abort",()=>o.abort())):k=o.signal);const _=yield this.fetch(w.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),a),body:b,signal:k}).catch(te=>{throw new ey(te)}),E=_.headers.get("x-relay-error");if(E&&E==="true")throw new ap(_);if(!_.ok)throw new lp(_);let I=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),$;return I==="application/json"?$=yield _.json():I==="application/octet-stream"||I==="application/pdf"?$=yield _.blob():I==="text/event-stream"?$=_:I==="multipart/form-data"?$=yield _.formData():$=yield _.text(),{data:$,error:null,response:_}}catch(a){return{data:null,error:a,response:a instanceof lp||a instanceof ap?a.context:void 0}}finally{s&&clearTimeout(s)}})}}var ry=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},ny=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let o=null,a=null,c=null,h=s.status,d=s.statusText;if(s.ok){var m,v;if(r.method!=="HEAD"){var g;const _=await s.text();_===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?a=_:a=JSON.parse(_))}const b=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),k=(v=s.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");b&&k&&k.length>1&&(c=parseInt(k[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,c=null,h=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var w;const b=await s.text();try{o=JSON.parse(b),Array.isArray(o)&&s.status===404&&(a=[],o=null,h=200,d="OK")}catch{s.status===404&&b===""?(h=204,d="No Content"):o={message:b}}if(o&&r.isMaybeSingle&&(!(o==null||(w=o.details)===null||w===void 0)&&w.includes("0 rows"))&&(o=null,h=200,d="OK"),o&&r.shouldThrowOnError)throw new ry(o)}return{error:o,data:a,count:c,status:h,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var o;let a="";const c=s==null?void 0:s.cause;if(c){var h,d,m,v;const w=(h=c==null?void 0:c.message)!==null&&h!==void 0?h:"",b=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";a=`${(m=s==null?void 0:s.name)!==null&&m!==void 0?m:"FetchError"}: ${s==null?void 0:s.message}`,a+=`

Caused by: ${(v=c==null?void 0:c.name)!==null&&v!==void 0?v:"Error"}: ${w}`,b&&(a+=` (${b})`),c!=null&&c.stack&&(a+=`
${c.stack}`)}else{var g;a=(g=s==null?void 0:s.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},iy=class extends ny{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${o?`${o},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var o;const a=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${c}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const cp=new RegExp("[,()]");var vo=class extends iy{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&cp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&cp.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},sy=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:r=!1,count:n}=e??{},i=r?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(h=>/\s/.test(h)&&!s?"":(h==='"'&&(s=!s),h)).join(""),{url:a,headers:c}=this.cloneRequestState();return a.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new vo({method:i,url:a,headers:c,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const i="POST",{url:s,headers:o}=this.cloneRequestState();if(e&&o.append("Prefer",`count=${e}`),r||o.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((c,h)=>c.concat(Object.keys(h)),[]);if(a.length>0){const c=[...new Set(a)].map(h=>`"${h}"`);s.searchParams.set("columns",c.join(","))}}return new vo({method:i,url:s,headers:o,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:i=!0}={}){var s;const o="POST",{url:a,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&a.searchParams.set("on_conflict",e),n&&c.append("Prefer",`count=${n}`),i||c.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(h.length>0){const d=[...new Set(h)].map(m=>`"${m}"`);a.searchParams.set("columns",d.join(","))}}return new vo({method:o,url:a,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var r;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new vo({method:n,url:i,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE",{url:n,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new vo({method:r,url:n,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},oy=class E0{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sy(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new E0(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){var o;let a;const c=new URL(`${this.url}/rpc/${e}`);let h;const d=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(d)),m=n&&Object.values(r).some(d);m?(a="POST",h=r):n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([g,w])=>w!==void 0).map(([g,w])=>[g,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([g,w])=>{c.searchParams.append(g,w)})):(a="POST",h=r);const v=new Headers(this.headers);return m?v.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&v.set("Prefer",`count=${s}`),new vo({method:a,url:c,headers:v,schema:this.schemaName,body:h,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class ay{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const ly="2.90.1",cy=`realtime-js/${ly}`,P0="1.0.0",uy="2.0.0",up=P0,Uh=1e4,hy=1e3,fy=100;var $i;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($i||($i={}));var or;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(or||(or={}));var Rn;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Rn||(Rn={}));var qh;(function(t){t.websocket="websocket"})(qh||(qh={}));var bs;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(bs||(bs={}));class dy{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var i,s;const o=e.topic,a=(i=e.ref)!==null&&i!==void 0?i:"",c=(s=e.join_ref)!==null&&s!==void 0?s:"",h=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+a.length+o.length+h.length+m.length,g=new ArrayBuffer(this.HEADER_LENGTH+v);let w=new DataView(g),b=0;w.setUint8(b++,this.KINDS.userBroadcastPush),w.setUint8(b++,c.length),w.setUint8(b++,a.length),w.setUint8(b++,o.length),w.setUint8(b++,h.length),w.setUint8(b++,m.length),w.setUint8(b++,r),Array.from(c,_=>w.setUint8(b++,_.charCodeAt(0))),Array.from(a,_=>w.setUint8(b++,_.charCodeAt(0))),Array.from(o,_=>w.setUint8(b++,_.charCodeAt(0))),Array.from(h,_=>w.setUint8(b++,_.charCodeAt(0))),Array.from(m,_=>w.setUint8(b++,_.charCodeAt(0)));var k=new Uint8Array(g.byteLength+n.byteLength);return k.set(new Uint8Array(g),0),k.set(new Uint8Array(n),g.byteLength),k.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,o,a,c]=n;return r({join_ref:i,ref:s,topic:o,event:a,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let c=this.HEADER_LENGTH+4;const h=n.decode(e.slice(c,c+i));c=c+i;const d=n.decode(e.slice(c,c+s));c=c+s;const m=n.decode(e.slice(c,c+o));c=c+o;const v=e.slice(c,e.byteLength),g=a===this.JSON_ENCODING?JSON.parse(n.decode(v)):v,w={type:this.BROADCAST_EVENT,event:d,payload:g};return o>0&&(w.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class O0{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Rt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Rt||(Rt={}));const hp=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,o)=>(s[o]=py(o,t,e,i),s),{}):{}},py=(t,e,r,n)=>{const i=e.find(a=>a.name===t),s=i==null?void 0:i.type,o=r[t];return s&&!n.includes(s)?T0(s,o):$h(o)},T0=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return yy(e,r)}switch(t){case Rt.bool:return gy(e);case Rt.float4:case Rt.float8:case Rt.int2:case Rt.int4:case Rt.int8:case Rt.numeric:case Rt.oid:return my(e);case Rt.json:case Rt.jsonb:return vy(e);case Rt.timestamp:return by(e);case Rt.abstime:case Rt.date:case Rt.daterange:case Rt.int4range:case Rt.int8range:case Rt.money:case Rt.reltime:case Rt.text:case Rt.time:case Rt.timestamptz:case Rt.timetz:case Rt.tsrange:case Rt.tstzrange:return $h(e);default:return $h(e)}},$h=t=>t,gy=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},my=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},yy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>T0(e,a))}return t},by=t=>typeof t=="string"?t.replace(" ","T"):t,C0=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class nh{constructor(e,r,n={},i=Uh){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var fp;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(fp||(fp={}));class Ea{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ea.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Ea.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ea.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),a={},c={};return this.map(s,(h,d)=>{o[h]||(c[h]=d)}),this.map(o,(h,d)=>{const m=s[h];if(m){const v=d.map(k=>k.presence_ref),g=m.map(k=>k.presence_ref),w=d.filter(k=>g.indexOf(k.presence_ref)<0),b=m.filter(k=>v.indexOf(k.presence_ref)<0);w.length>0&&(a[h]=w),b.length>0&&(c[h]=b)}else a[h]=d}),this.syncDiff(s,{joins:a,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,c)=>{var h;const d=(h=e[a])!==null&&h!==void 0?h:[];if(e[a]=this.cloneDeep(c),d.length>0){const m=e[a].map(g=>g.presence_ref),v=d.filter(g=>m.indexOf(g.presence_ref)<0);e[a].unshift(...v)}n(a,d,c)}),this.map(o,(a,c)=>{let h=e[a];if(!h)return;const d=c.map(m=>m.presence_ref);h=h.filter(m=>d.indexOf(m.presence_ref)<0),e[a]=h,i(a,h,c),h.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dp;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(dp||(dp={}));var Pa;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pa||(Pa={}));var yi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class So{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=or.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new nh(this,Rn.join,this.params,this.timeout),this.rejoinTimer=new O0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=or.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=or.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=or.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rn.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ea(this),this.broadcastEndpointURL=C0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==or.closed){const{config:{broadcast:o,presence:a,private:c}}=this.params,h=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Pa.PRESENCE]&&this.bindings[Pa.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},v={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:h,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(g=>e==null?void 0:e(yi.CHANNEL_ERROR,g)),this._onClose(()=>e==null?void 0:e(yi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){e==null||e(yi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,k=(w=b==null?void 0:b.length)!==null&&w!==void 0?w:0,_=[];for(let E=0;E<k;E++){const I=b[E],{filter:{event:$,schema:te,table:pe,filter:X}}=I,U=g&&g[E];if(U&&U.event===$&&So.isFilterValueEqual(U.schema,te)&&So.isFilterValueEqual(U.table,pe)&&So.isFilterValueEqual(U.filter,X))_.push(Object.assign(Object.assign({},I),{id:U.id}));else{this.unsubscribe(),this.state=or.errored,e==null||e(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(yi.SUBSCRIBED);return}}).receive("error",g=>{this.state=or.errored,e==null||e(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===or.joined&&e===Pa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;if(r==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(a.status===202)return{success:!0};let c=a.statusText;try{const h=await a.json();c=h.error||h.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:o}=e,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,a,c;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=or.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new nh(this,Rn.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=or.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new nh(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>fy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:a,error:c,leave:h,join:d}=Rn;if(n&&[a,c,h,d].indexOf(o)>=0&&n!==this._joinRef())return;let v=this._onMessage(o,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var w,b,k;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((k=(b=g.filter)===null||b===void 0?void 0:b.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(g=>g.callback(v,n)):(s=this.bindings[o])===null||s===void 0||s.filter(g=>{var w,b,k,_,E,I,$,te;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const pe=g.id,X=(w=g.filter)===null||w===void 0?void 0:w.event;return pe&&((b=r.ids)===null||b===void 0?void 0:b.includes(pe))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((k=r.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))&&(!(!((_=g.filter)===null||_===void 0)&&_.table)||g.filter.table===((E=r.data)===null||E===void 0?void 0:E.table))}else{const pe=($=(I=g==null?void 0:g.filter)===null||I===void 0?void 0:I.event)===null||$===void 0?void 0:$.toLocaleLowerCase();return pe==="*"||pe===((te=r==null?void 0:r.event)===null||te===void 0?void 0:te.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof v=="object"&&"ids"in v){const w=v.data,{schema:b,table:k,commit_timestamp:_,type:E,errors:I}=w;v=Object.assign(Object.assign({},{schema:b,table:k,commit_timestamp:_,eventType:E,new:{},old:{},errors:I}),this._getPayloadRecords(w))}g.callback(v,n)})}_isClosed(){return this.state===or.closed}_isJoined(){return this.state===or.joined}_isJoining(){return this.state===or.joining}_isLeaving(){return this.state===or.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&So.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Rn.close,{},e)}_onError(e){this._on(Rn.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=or.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=hp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=hp(e.columns,e.old_record)),r}}const ih=()=>{},Gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},wy=[1e3,2e3,5e3,1e4],_y=1e4,Sy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ay{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Uh,this.transport=null,this.heartbeatIntervalMs=Gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ih,this.ref=0,this.reconnectTimer=null,this.vsn=up,this.logger=ih,this.conn=null,this.sendBuffer=[],this.serializer=new dy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${qh.websocket}`,this.httpEndpoint=C0(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ay.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $i.connecting:return bs.Connecting;case $i.open:return bs.Open;case $i.closing:return bs.Closing;default:return bs.Closed}}isConnected(){return this.connectionState()===bs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new So(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(hy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:o}=r,a=o?`(${o})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${a}`.trim(),s),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(i,s,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===$i.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$i.open||this.conn.readyState===$i.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Rn.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Sy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(i=>{const s={access_token:r,version:cy};r&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Rn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new O0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,o,a,c,h,d,m,v,g;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Uh,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Gl.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:ih,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:up,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:w=>wy[w-1]||_y,this.vsn){case P0:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(w,b)=>b(JSON.stringify(w)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(w,b)=>b(JSON.parse(w));break;case uy:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Da=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function xy(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function Ny(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function Ly(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:o}){const a=xy(t.baseUrl,n,i),c=await Ny(t.auth),h=await e(a,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...c,...o},body:s?JSON.stringify(s):void 0}),d=await h.text(),m=(h.headers.get("content-type")||"").includes("application/json"),v=m&&d?JSON.parse(d):d;if(!h.ok){const g=m?v:void 0,w=g==null?void 0:g.error;throw new Da((w==null?void 0:w.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:g})}return{status:h.status,headers:h.headers,data:v}}}}function Kl(t){return t.join("")}var ky=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Kl(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Kl(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Kl(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Kl(t.namespace)}`}),!0}catch(e){if(e instanceof Da&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Da&&r.status===409)return;throw r}}};function ao(t){return t.join("")}var Ey=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ao(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Da&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Da&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},Py=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=Ly({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new ky(this.client,e),this.tableOps=new Ey(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Kc=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Bt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Oy=class extends Kc{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zh=class extends Kc{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Cf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ty=()=>Response,Hh=t=>{if(Array.isArray(t))return t.map(r=>Hh(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Hh(n)}),e},Cy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ry=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Ba(t){"@babel/helpers - typeof";return Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ba(t)}function Iy(t,e){if(Ba(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ba(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jy(t){var e=Iy(t,"string");return Ba(e)=="symbol"?e:e+""}function Fy(t,e,r){return(e=jy(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pp(Object(r),!0).forEach(function(n){Fy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const sh=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},Dy=async(t,e,r)=>{t instanceof await Ty()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const i=t.status||500,s=(n==null?void 0:n.statusCode)||i+"";e(new Oy(sh(n),i,s))}).catch(n=>{e(new zh(sh(n),n))}):e(new zh(sh(t),t))},By=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(Cy(n)?(i.headers=Qe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Qe(Qe({},i),r))};async function Za(t,e,r,n,i,s){return new Promise((o,a)=>{t(r,By(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Dy(c,a,n))})}async function Ma(t,e,r,n){return Za(t,"GET",e,r,n)}async function Tn(t,e,r,n,i){return Za(t,"POST",e,n,i,r)}async function Wh(t,e,r,n,i){return Za(t,"PUT",e,n,i,r)}async function My(t,e,r,n){return Za(t,"HEAD",e,Qe(Qe({},r),{},{noResolveJson:!0}),n)}async function Rf(t,e,r,n,i){return Za(t,"DELETE",e,n,i,r)}var Uy=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}}};let R0;R0=Symbol.toStringTag;var qy=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[R0]="BlobDownloadBuilder",this.promise=null}asStream(){return new Uy(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Bt(e))return{data:null,error:e};throw e}}};const $y={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},gp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var zy=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=Cf(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var i=this;try{let s;const o=Qe(Qe({},gp),n);let a=Qe(Qe({},i.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",i.encodeMetadata(c)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",o.cacheControl),c&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(c))):(s=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,c&&(a["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(a=Qe(Qe({},a),n.headers));const h=i._removeEmptyFolders(e),d=i._getFinalPath(h),m=await(t=="PUT"?Wh:Tn)(i.fetch,`${i.url}/object/${d}`,s,Qe({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:h,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if(Bt(s))return{data:null,error:s};throw s}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var i=this;const s=i._removeEmptyFolders(t),o=i._getFinalPath(s),a=new URL(i.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let c;const h=Qe({upsert:gp.upsert},n),d=Qe(Qe({},i.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",h.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",h.cacheControl)):(c=r,d["cache-control"]=`max-age=${h.cacheControl}`,d["content-type"]=h.contentType),{data:{path:s,fullPath:(await Wh(i.fetch,a.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Bt(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const i=Qe({},r.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await Tn(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(r.url+s.url),a=o.searchParams.get("token");if(!a)throw new Kc("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await Tn(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async copy(t,e,r){var n=this;try{return{data:{path:(await Tn(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,r){var n=this;try{let i=n._getFinalPath(t),s=await Tn(n.fetch,`${n.url}/object/sign/${i}`,Qe({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${n.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,r){var n=this;try{const i=await Tn(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Qe(Qe({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(t),o=()=>Ma(this.fetch,`${this.url}/${r}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new qy(o,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:Hh(await Ma(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await My(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Bt(n)&&n instanceof zh){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&n.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});o!==""&&n.push(o);let a=n.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${a}`)}}}async remove(t){var e=this;try{return{data:await Rf(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const i=Qe(Qe(Qe({},$y),e),{},{prefix:t||""});return{data:await Tn(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},r),error:null}}catch(i){if(n.shouldThrowOnError)throw i;if(Bt(i))return{data:null,error:i};throw i}}async listV2(t,e){var r=this;try{const n=Qe({},t);return{data:await Tn(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const I0="2.90.1",j0={"X-Client-Info":`storage-js/${I0}`};var Hy=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const i=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Qe(Qe({},j0),e),this.fetch=Cf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Ma(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Ma(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await Tn(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await Wh(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bt(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Rf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},Wy=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},j0),e),this.fetch=Cf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Tn(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),i=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Ma(e.fetch,i,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await Rf(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bt(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!Ry(t))throw new Kc("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Py({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,s){const o=i[s];return typeof o!="function"?o:async(...a)=>{try{return{data:await o.apply(i,a),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}};const If={"X-Client-Info":`storage-js/${I0}`,"Content-Type":"application/json"};var F0=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function tn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var oh=class extends F0{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Vy=class extends F0{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const jf=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Gy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},mp=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ky=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const o=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||n+"";e(new oh(mp(s),n,o))}).catch(()=>{const s=n+"";e(new oh(i.statusText||`HTTP ${n} error`,n,s))});else{const s=n+"";e(new oh(i.statusText||`HTTP ${n} error`,n,s))}}else e(new Vy(mp(t),t))},Jy=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(Gy(n)?(i.headers=Qe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Qe(Qe({},i),r)):i};async function Yy(t,e,r,n,i,s){return new Promise((o,a)=>{t(r,Jy(e,n,i,s)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const h=c.headers.get("content-type");return!h||!h.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>Ky(c,a,n))})}async function rn(t,e,r,n,i){return Yy(t,"POST",e,n,i,r)}var Xy=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},If),e),this.fetch=jf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await rn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await rn(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await rn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await rn(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(tn(n))return{data:null,error:n};throw n}}},Zy=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},If),e),this.fetch=jf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await rn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await rn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await rn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await rn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await rn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}},Qy=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Qe(Qe({},If),e),this.fetch=jf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await rn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await rn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await rn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await rn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(tn(r))return{data:null,error:r};throw r}}},eb=class extends Qy{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new tb(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},tb=class extends Xy{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Qe(Qe({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Qe(Qe({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new rb(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},rb=class extends Zy{constructor(t,e,r,n,i){super(t,e,i),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Qe(Qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Qe(Qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Qe(Qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Qe(Qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Qe(Qe({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},nb=class extends Hy{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new zy(this.url,this.headers,t,this.fetch)}get vectors(){return new eb(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Wy(this.url+"/iceberg",this.headers,this.fetch)}};const D0="2.90.1",yo=30*1e3,Vh=3,ah=Vh*yo,ib="http://localhost:9999",sb="supabase.auth.token",ob={"X-Client-Info":`gotrue-js/${D0}`},Gh="X-Supabase-Api-Version",B0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ab=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lb=10*60*1e3;class Ua extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ge(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class cb extends Ua{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ub(t){return Ge(t)&&t.name==="AuthApiError"}class ws extends Ua{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Ai extends Ua{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Xr extends Ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hb(t){return Ge(t)&&t.name==="AuthSessionMissingError"}class lo extends Ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Jl extends Ai{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Yl extends Ai{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fb(t){return Ge(t)&&t.name==="AuthImplicitGrantRedirectError"}class vp extends Ai{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class db extends Ai{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Kh extends Ai{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function lh(t){return Ge(t)&&t.name==="AuthRetryableFetchError"}class yp extends Ai{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Jh extends Ai{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const xc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bp=` 	
\r=`.split(""),pb=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<bp.length;e+=1)t[bp[e].charCodeAt(0)]=-2;for(let e=0;e<xc.length;e+=1)t[xc[e].charCodeAt(0)]=e;return t})();function wp(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(xc[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(xc[n]),e.queuedBits-=6}}function M0(t,e,r){const n=pb[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function _p(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{vb(o,n,r)};for(let o=0;o<t.length;o+=1)M0(t.charCodeAt(o),i,s);return e.join("")}function gb(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function mb(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}gb(n,e)}}function vb(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Oo(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)M0(t.charCodeAt(i),r,n);return new Uint8Array(e)}function yb(t){const e=[];return mb(t,r=>e.push(r)),new Uint8Array(e)}function As(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>wp(i,r,n)),wp(null,r,n),e.join("")}function bb(t){return Math.round(Date.now()/1e3)+t}function wb(){return Symbol("auth-callback")}const gr=()=>typeof window<"u"&&typeof document<"u",ds={tested:!1,writable:!1},U0=()=>{if(!gr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ds.tested)return ds.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ds.tested=!0,ds.writable=!0}catch{ds.tested=!0,ds.writable=!1}return ds.writable};function _b(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const q0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Sb=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ps=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pr=async(t,e)=>{await t.removeItem(e)};class Jc{constructor(){this.promise=new Jc.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Jc.promiseConstructor=Promise;function ch(t){const e=t.split(".");if(e.length!==3)throw new Jh("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!ab.test(e[n]))throw new Jh("JWT not in base64url format");return{header:JSON.parse(_p(e[0])),payload:JSON.parse(_p(e[1])),signature:Oo(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ab(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function xb(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Nb(t){return("0"+t.toString(16)).substr(-2)}function Lb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Nb).join("")}async function kb(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function Eb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await kb(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function co(t,e,r=!1){const n=Lb();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await bo(t,`${e}-code-verifier`,i);const s=await Eb(n);return[s,n===s?"plain":"s256"]}const Pb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ob(t){const e=t.headers.get(Gh);if(!e||!e.match(Pb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Tb(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Cb(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Rb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function uo(t){if(!Rb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function uh(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ib(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Sp(t){return JSON.parse(JSON.stringify(t))}const ms=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jb=[502,503,504];async function Ap(t){var e;if(!Sb(t))throw new Kh(ms(t),0);if(jb.includes(t.status))throw new Kh(ms(t),t.status);let r;try{r=await t.json()}catch(s){throw new ws(ms(s),s)}let n;const i=Ob(t);if(i&&i.getTime()>=B0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new yp(ms(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Xr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new yp(ms(r),t.status,r.weak_password.reasons);throw new cb(ms(r),t.status||500,n)}const Fb=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ze(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Gh]||(s[Gh]=B0["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Db(t,e,r+a,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Db(t,e,r,n,i,s){const o=Fb(e,n,i,s);let a;try{a=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Kh(ms(c),0)}if(a.ok||await Ap(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await Ap(c)}}function On(t){var e;let r=null;Ub(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=bb(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function xp(t){const e=On(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function zi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Bb(t){return{data:t,error:null}}function Mb(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Gc(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:a,user:c},error:null}}function Np(t){return t}function Ub(t){return t.access_token&&t.refresh_token&&t.expires_in}const hh=["global","local","others"];class qb{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=q0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=hh[0]){if(hh.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hh.join(", ")}`);try{return await Ze(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ze(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:zi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Gc(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ze(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Mb,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:zi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,a,c;try{const h={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Np});if(d.error)throw d.error;const m=await d.json(),v=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);h[`${k}Page`]=b}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ge(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){uo(e);try{return await Ze(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:zi})}catch(r){if(Ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){uo(e);try{return await Ze(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:zi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){uo(e);try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:zi})}catch(n){if(Ge(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){uo(e.userId);try{const{data:r,error:n}=await Ze(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _deleteFactor(e){uo(e.userId),uo(e.id);try{return{data:await Ze(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,o,a,c;try{const h={nextPage:null,lastPage:0,total:0},d=await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Np});if(d.error)throw d.error;const m=await d.json(),v=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return g.length>0&&(g.forEach(w=>{const b=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(w.split(";")[1].split("=")[1]);h[`${k}Page`]=b}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},m),h),error:null}}catch(h){if(Ge(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ze(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ze(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Ge(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ze(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ze(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Ge(r))return{data:null,error:r};throw r}}}function Lp(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ho={debug:!!(globalThis&&U0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class $0 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $b extends $0{}async function zb(t,e,r){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ho.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw ho.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $b(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ho.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Hb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function z0(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Wb(t){return parseInt(t,16)}function Vb(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Gb(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:o,notBefore:a,requestId:c,resources:h,scheme:d,uri:m,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const g=z0(t.address),w=d?`${d}://${n}`:n,b=t.statement?`${t.statement}
`:"",k=`${w} wants you to sign in with your Ethereum account:
${g}

${b}`;let _=`URI: ${m}
Version: ${v}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${s.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),a&&(_+=`
Not Before: ${a.toISOString()}`),c&&(_+=`
Request ID: ${c}`),h){let E=`
Resources:`;for(const I of h){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);E+=`
- ${I}`}_+=E}return`${k}
${_}`}class rr extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class Nc extends rr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Kb({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new rr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new rr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new rr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new rr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new rr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new rr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new rr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(H0(o)){if(s.rp.id!==o)return new rr({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new rr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new rr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Jb({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new rr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new rr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(H0(n)){if(r.rpId!==n)return new rr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new rr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new rr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new rr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Yb{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Xb=new Yb;function Zb(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Gc(t,["challenge","user","excludeCredentials"]),s=Oo(e).buffer,o=Object.assign(Object.assign({},r),{id:Oo(r.id).buffer}),a=Object.assign(Object.assign({},i),{challenge:s,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];a.excludeCredentials[c]=Object.assign(Object.assign({},h),{id:Oo(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return a}function Qb(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Gc(t,["challenge","allowCredentials"]),i=Oo(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];s.allowCredentials[o]=Object.assign(Object.assign({},a),{id:Oo(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return s}function ew(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:As(new Uint8Array(t.response.attestationObject)),clientDataJSON:As(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function tw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:As(new Uint8Array(i.authenticatorData)),clientDataJSON:As(new Uint8Array(i.clientDataJSON)),signature:As(new Uint8Array(i.signature)),userHandle:i.userHandle?As(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function H0(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function kp(){var t,e;return!!(gr()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function rw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nc("Browser returned unexpected credential type",e)}:{data:null,error:new Nc("Empty credential response",e)}}catch(e){return{data:null,error:Kb({error:e,options:t})}}}async function nw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Nc("Browser returned unexpected credential type",e)}:{data:null,error:new Nc("Empty credential response",e)}}catch(e){return{data:null,error:Jb({error:e,options:t})}}}const iw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Lc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const o=i[s];if(o!==void 0)if(Array.isArray(o))n[s]=o;else if(r(o))n[s]=o;else if(e(o)){const a=n[s];e(a)?n[s]=Lc(a,o):n[s]=Lc(o)}else n[s]=o}return n}function ow(t,e){return Lc(iw,t,e||{})}function aw(t,e){return Lc(sw,t,e||{})}class lw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const c=i??Xb.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:h}=o.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(o.webauthn.type){case"create":{const h=ow(o.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:m}=await rw({publicKey:h,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const h=aw(o.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:m}=await nw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:h,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ua("rpId is required for WebAuthn authentication")};try{if(!kp())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!o)return{data:null,error:a};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Ua("rpId is required for WebAuthn registration")};try{if(!kp())return{data:null,error:new ws("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:c,error:h}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:h}}catch(o){return Ge(o)?{data:null,error:o}:{data:null,error:new ws("Unexpected error in register",o)}}}}Hb();const cw={url:ib,storageKey:sb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ob,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Ep(t,e,r){return await r()}const fo={};class qa{get jwks(){var e,r;return(r=(e=fo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fo[this.storageKey]=Object.assign(Object.assign({},fo[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},cw),e);if(this.storageKey=s.storageKey,this.instanceID=(r=qa.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,qa.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&gr()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new qb({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=q0(s.fetch),this.lock=s.lock||Ep,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&gr()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=zb:this.lock=Ep,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new lw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:U0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Lp(this.memoryStorage)),gr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${D0}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(gr()&&(r=_b(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),gr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),fb(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:o,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ge(r)?this._returnResult({error:r}):this._returnResult({error:new ws("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:On}),{data:o,error:a}=s;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(s){if(Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:m,options:v}=e;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await co(this.storage,this.storageKey)),s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:d,password:m,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:g,code_challenge_method:w},xform:On})}else if("phone"in e){const{phone:d,password:m,options:v}=e;s=await Ze(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(i=v==null?void 0:v.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:On})}else throw new Jl("You must provide either an email or phone number and a password");const{data:o,error:a}=s;if(a||!o)return await pr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const c=o.session,h=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(s){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:a}=e;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xp})}else if("phone"in e){const{phone:s,password:o,options:a}=e;r=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:xp})}else throw new Jl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new lo;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,o,a,c,h,d,m,v;let g,w;if("message"in e)g=e.message,w=e.signature;else{const{chain:b,wallet:k,statement:_,options:E}=e;let I;if(gr())if(typeof k=="object")I=k;else{const K=window;if("ethereum"in K&&typeof K.ethereum=="object"&&"request"in K.ethereum&&typeof K.ethereum.request=="function")I=K.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=k}const $=new URL((r=E==null?void 0:E.url)!==null&&r!==void 0?r:window.location.href),te=await I.request({method:"eth_requestAccounts"}).then(K=>K).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const pe=z0(te[0]);let X=(n=E==null?void 0:E.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!X){const K=await I.request({method:"eth_chainId"});X=Wb(K)}const U={domain:$.host,address:pe,statement:_,uri:$.href,version:"1",chainId:X,nonce:(i=E==null?void 0:E.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(o=(s=E==null?void 0:E.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=E==null?void 0:E.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(c=E==null?void 0:E.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(h=E==null?void 0:E.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(d=E==null?void 0:E.signInWithEthereum)===null||d===void 0?void 0:d.resources};g=Gb(U),w=await I.request({method:"personal_sign",params:[Vb(g),pe]})}try{const{data:b,error:k}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:w},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:On});if(k)throw k;if(!b||!b.session||!b.user){const _=new lo;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:k})}catch(b){if(Ge(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,i,s,o,a,c,h,d,m,v,g;let w,b;if("message"in e)w=e.message,b=e.signature;else{const{chain:k,wallet:_,statement:E,options:I}=e;let $;if(gr())if(typeof _=="object")$=_;else{const pe=window;if("solana"in pe&&typeof pe.solana=="object"&&("signIn"in pe.solana&&typeof pe.solana.signIn=="function"||"signMessage"in pe.solana&&typeof pe.solana.signMessage=="function"))$=pe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(I!=null&&I.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=_}const te=new URL((r=I==null?void 0:I.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in $&&$.signIn){const pe=await $.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},I==null?void 0:I.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),E?{statement:E}:null));let X;if(Array.isArray(pe)&&pe[0]&&typeof pe[0]=="object")X=pe[0];else if(pe&&typeof pe=="object"&&"signedMessage"in pe&&"signature"in pe)X=pe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in X&&"signature"in X&&(typeof X.signedMessage=="string"||X.signedMessage instanceof Uint8Array)&&X.signature instanceof Uint8Array)w=typeof X.signedMessage=="string"?X.signedMessage:new TextDecoder().decode(X.signedMessage),b=X.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in $)||typeof $.signMessage!="function"||!("publicKey"in $)||typeof $!="object"||!$.publicKey||!("toBase58"in $.publicKey)||typeof $.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${te.host} wants you to sign in with your Solana account:`,$.publicKey.toBase58(),...E?["",E,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(i=(n=I==null?void 0:I.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=I==null?void 0:I.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${I.signInWithSolana.notBefore}`]:[],...!((o=I==null?void 0:I.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${I.signInWithSolana.expirationTime}`]:[],...!((a=I==null?void 0:I.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${I.signInWithSolana.chainId}`]:[],...!((c=I==null?void 0:I.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${I.signInWithSolana.nonce}`]:[],...!((h=I==null?void 0:I.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${I.signInWithSolana.requestId}`]:[],...!((m=(d=I==null?void 0:I.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...I.signInWithSolana.resources.map(X=>`- ${X}`)]:[]].join(`
`);const pe=await $.signMessage(new TextEncoder().encode(w),"utf8");if(!pe||!(pe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=pe}}try{const{data:k,error:_}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:As(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:On});if(_)throw _;if(!k||!k.session||!k.user){const E=new lo;return this._returnResult({data:{user:null,session:null},error:E})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:_})}catch(k){if(Ge(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(e){const r=await ps(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new db;const{data:s,error:o}=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:On});if(await pr(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!s||!s.session||!s.user){const a=new lo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,a=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:On}),{data:c,error:h}=a;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user){const d=new lo;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:h})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:a,options:c}=e;let h=null,d=null;this.flowType==="pkce"&&([h,d]=await co(this.storage,this.storageKey));const{error:m}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:h,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:a,options:c}=e,{data:h,error:d}=await Ze(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:d})}throw new Jl("You must provide either an email or phone number.")}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await Ze(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:On});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,h=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:h,session:c},error:null})}catch(i){if(Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,o;try{let a=null,c=null;this.flowType==="pkce"&&([a,c]=await co(this.storage,this.storageKey));const h=await Ze(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:c}),headers:this.headers,xform:Bb});return!((s=h.data)===null||s===void 0)&&s.url&&gr()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(a){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Xr;const{error:i}=await Ze(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(Ge(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:a}=await Ze(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new Jl("You must provide either an email or phone number and a type")}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ps(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<ah:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await ps(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=uh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=Ib(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:zi}):await this._useSession(async r=>{var n,i,s;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Xr}:await Ze(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:zi})})}catch(r){if(Ge(r))return hb(r)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Xr;const o=i.session;let a=null,c=null;this.flowType==="pkce"&&e.email!=null&&([a,c]=await co(this.storage,this.storageKey));const{data:h,error:d}=await Ze(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:c}),jwt:o.access_token,xform:zi});if(d)throw d;return o.user=h.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Xr;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=ch(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{data:a,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!a)return{data:{user:null,session:null},error:null};s=a}else{const{data:a,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(Ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Xr;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!gr())throw new Yl("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Yl(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new vp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Yl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new vp("No code detected.");const{data:E,error:I}=await this._exchangeCodeForSession(e.code);if(I)throw I;const $=new URL(window.location.href);return $.searchParams.delete("code"),window.history.replaceState(window.history.state,"",$.toString()),{data:{session:E.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:a,expires_at:c,token_type:h}=e;if(!s||!a||!o||!h)throw new Yl("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(a);let v=d+m;c&&(v=parseInt(c));const g=v-d;g*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${m}s`);const w=v-m;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,v,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,v,d);const{data:b,error:k}=await this._getUser(s);if(k)throw k;const _={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:v,refresh_token:o,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ps(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ub(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=wb(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await co(this.storage,this.storageKey,!0));try{return await Ze(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,a,c,h,d;const{data:m,error:v}=s;if(v)throw v;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Ze(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(h=m.session)===null||h===void 0?void 0:h.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return gr()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Ge(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:o,provider:a,token:c,access_token:h,nonce:d}=e,m=await Ze(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:c,access_token:h,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:On}),{data:v,error:g}=m;return g?this._returnResult({data:{user:null,session:null},error:g}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new lo}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:g}))}catch(i){if(await pr(this.storage,`${this.storageKey}-code-verifier`),Ge(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Ze(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await xb(async i=>(i>0&&await Ab(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ze(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:On})),(i,s)=>{const o=200*Math.pow(2,i);return s&&lh(s)&&Date.now()+o-n<yo})}catch(n){if(this._debug(r,"error",n),Ge(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),gr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ps(this.storage,this.storageKey);if(i&&this.userStorage){let o=await ps(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await bo(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:uh()}else if(i&&!i.user&&!i.user){const o=await ps(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await pr(this.storage,this.storageKey+"-user"),await bo(this.storage,this.storageKey,i)):i.user=uh()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<ah;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ah}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),lh(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(i.access_token);!a&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Jc;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new Xr;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const a={data:s.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(s){if(this._debug(i,"error",s),Ge(s)){const o={data:null,error:s};return lh(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let a=0;a<s.length;a+=1)console.error(s[a]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await pr(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Sp(i);await bo(this.storage,this.storageKey,s)}else{const i=Sp(r);await bo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&gr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yo}ms, refresh threshold is ${Vh} ticks`),i<=Vh&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof $0)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!gr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await co(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Ze(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:h}=await Ze(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(e.factorType==="totp"&&c.type==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?ew(e.webauthn.credential_response):tw(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:c}=await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:c}))})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const o=await Ze(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Zb(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Qb(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=ch(n.access_token);let o=null;s.aal&&(o=s.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const h=s.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Ze(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Xr})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Xr});const o=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Xr});const o=await Ze(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&gr()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Ze(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Xr})})}catch(e){if(Ge(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Ze(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Xr})})}catch(r){if(Ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+lb>i)return n;const{data:s,error:o}=await Ze(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:g,error:w}=await this.getSession();if(w||!g.session)return this._returnResult({data:null,error:w});n=g.session.access_token}const{header:i,payload:s,signature:o,raw:{header:a,payload:c}}=ch(n);r!=null&&r.allowExpired||Tb(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:s,header:i,signature:o},error:null}}const d=Cb(i.alg),m=await crypto.subtle.importKey("jwk",h,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,o,yb(`${a}.${c}`)))throw new Jh("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Ge(n))return this._returnResult({data:null,error:n});throw n}}}qa.nextInstanceID={};const uw=qa,hw="2.90.1";let _a="";typeof Deno<"u"?_a="deno":typeof document<"u"?_a="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_a="react-native":_a="node";const fw={"X-Client-Info":`supabase-js-${_a}/${hw}`},dw={headers:fw},pw={schema:"public"},gw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mw={};function $a(t){"@babel/helpers - typeof";return $a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$a(t)}function vw(t,e){if($a(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($a(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yw(t){var e=vw(t,"string");return $a(e)=="symbol"?e:e+""}function bw(t,e,r){return(e=yw(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ht(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pp(Object(r),!0).forEach(function(n){bw(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pp(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const ww=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_w=()=>Headers,Sw=(t,e,r)=>{const n=ww(r),i=_w();return async(s,o)=>{var a;const c=(a=await e())!==null&&a!==void 0?a:t;let h=new i(o==null?void 0:o.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${c}`),n(s,Ht(Ht({},o),{},{headers:h}))}};function Aw(t){return t.endsWith("/")?t:t+"/"}function xw(t,e){var r,n;const{db:i,auth:s,realtime:o,global:a}=t,{db:c,auth:h,realtime:d,global:m}=e,v={db:Ht(Ht({},c),i),auth:Ht(Ht({},h),s),realtime:Ht(Ht({},d),o),storage:{},global:Ht(Ht(Ht({},m),a),{},{headers:Ht(Ht({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function Nw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Lw=class extends uw{constructor(t){super(t)}},kw=class{constructor(t,e,r){var n,i;this.supabaseUrl=t,this.supabaseKey=e;const s=Nw(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const o=`sb-${s.hostname.split(".")[0]}-auth-token`,a={db:pw,realtime:mw,auth:Ht(Ht({},gw),{},{storageKey:o}),global:dw},c=xw(r??{},a);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=c.auth)!==null&&h!==void 0?h:{},this.headers,c.global.fetch)}this.fetch=Sw(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Ht({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new oy(new URL("rest/v1",s).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new nb(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new ty(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,storageKey:s,flowType:o,lock:a,debug:c,throwOnError:h},d,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lw({url:this.authUrl.href,headers:Ht(Ht({},v),d),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:i,flowType:o,lock:a,debug:c,throwOnError:h,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Ay(this.realtimeUrl.href,Ht(Ht({},t),{},{params:Ht(Ht({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ew=(t,e,r)=>new kw(t,e,r);function Pw(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Pw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ow="https://cujoefujusokpixizmfi.supabase.co",Tw="sb_publishable_aIeS4GXhP6tkxE5ccGzhdA_6b0AEQ9W",Ff=Ew(Ow,Tw),W0=async(t,e,r,n="euw1")=>{try{const i=await fetch(`${Ja}/api/db/player/sync`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({puuid:t,gameName:e,tagLine:r,region:n})});if(!i.ok)throw new Error(`Worker error ${i.status}`);const s=await i.json();return Array.isArray(s)?s[0]:s}catch(i){throw console.error("Error syncing player:",i.message),i}},Cw=async(t,e)=>{try{const r=await fetch(`${Ja}/api/db/stats/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:t,summonerData:e})});if(!r.ok){const i=await r.text().catch(()=>"");throw new Error(`Worker error ${r.status}${i?`: ${i}`:""}`)}return await r.json()}catch(r){throw console.error("Error saving summoner stats:",r.message),r}},Yc=async t=>{try{const{data:e,error:r}=await Ff.from("players").select("*").eq("puuid",t).single();if(r&&r.code!=="PGRST116")throw r;return e||null}catch(e){throw console.error("Error fetching player:",e.message),e}},Rw=async t=>{try{const e=await Yc(t);if(!e)return[];const{data:r,error:n}=await Ff.from("summoner_stats").select("recorded_at").eq("player_id",e.player_id).order("recorded_at",{ascending:!1});if(n)throw n;return r||[]}catch(e){throw console.error("Error fetching player snapshots:",e.message),e}},Iw=async(t,e)=>{try{const r=await Yc(t);if(!r)return null;const{data:n,error:i}=await Ff.from("summoner_stats").select("*").eq("player_id",r.player_id).eq("recorded_at",e).single();if(i&&i.code!=="PGRST116")throw i;return n||null}catch(r){throw console.error("Error fetching summoner stats by date:",r.message),r}},jw=async(t,e)=>{try{const r=await fetch(`${Ja}/api/db/champion-stats/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:t,championMasteryData:e})});if(!r.ok){const i=await r.text().catch(()=>"");throw new Error(`Worker error ${r.status}${i?`: ${i}`:""}`)}return await r.json()}catch(r){throw console.error("Error saving champion stats:",r.message),r}},Fw=async(t,e)=>{try{const r=await fetch(`${Ja}/api/db/rank-stats/save`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerId:t,rankedData:e})});if(!r.ok){const i=await r.text().catch(()=>"");throw new Error(`Worker error ${r.status}${i?`: ${i}`:""}`)}return await r.json()}catch(r){throw console.error("Error saving rank stats:",r.message),r}},Dw=async(t,e=Xa)=>{try{const n=(await Ya.get("/api/account/by-puuid",{params:{puuid:t,region:e}})).data;try{await W0(n.puuid,n.gameName,n.tagLine,e),console.log(" Player saved to database:",n.gameName)}catch(i){console.warn("Database sync failed:",i.message)}return n}catch(r){throw console.error("Error fetching Riot ID by PUUID:",r.message),r}},Bw=async(t,e=Xa)=>{try{const n=(await Ya.get("/api/lol/summoner/by-puuid",{params:{puuid:t,region:e}})).data;try{let i=await Yc(t);i||(i=await W0(t,n.name,"unknown",e)),await Cw(i.player_id,{summonerLevel:n.summonerLevel,accountId:n.accountId,profileIconId:n.profileIconId})}catch(i){console.warn("Database sync failed:",i.message)}return n}catch(r){throw console.error("Error fetching summoner by PUUID:",r.message),r}},Mw="modulepreload",Uw=function(t){return"/summonersheet/"+t},Op={},Yh=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=Uw(c),c in Op)return;Op[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Mw,h||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),h)return new Promise((v,g)=>{m.addEventListener("load",v),m.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Nt(t){"@babel/helpers - typeof";return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(t)}var Nr=Uint8Array,sn=Uint16Array,Df=Int32Array,Xc=new Nr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Zc=new Nr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Xh=new Nr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),V0=function(t,e){for(var r=new sn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Df(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},G0=V0(Xc,2),K0=G0.b,Zh=G0.r;K0[28]=258,Zh[258]=28;var J0=V0(Zc,0),qw=J0.b,Tp=J0.r,Qh=new sn(32768);for(var jt=0;jt<32768;++jt){var Bi=(jt&43690)>>1|(jt&21845)<<1;Bi=(Bi&52428)>>2|(Bi&13107)<<2,Bi=(Bi&61680)>>4|(Bi&3855)<<4,Qh[jt]=((Bi&65280)>>8|(Bi&255)<<8)>>1}var ei=function(t,e,r){for(var n=t.length,i=0,s=new sn(e);i<n;++i)t[i]&&++s[t[i]-1];var o=new sn(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(r){a=new sn(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var h=i<<4|t[i],d=e-t[i],m=o[t[i]-1]++<<d,v=m|(1<<d)-1;m<=v;++m)a[Qh[m]>>c]=h}else for(a=new sn(n),i=0;i<n;++i)t[i]&&(a[i]=Qh[o[t[i]-1]++]>>15-t[i]);return a},Gi=new Nr(288);for(var jt=0;jt<144;++jt)Gi[jt]=8;for(var jt=144;jt<256;++jt)Gi[jt]=9;for(var jt=256;jt<280;++jt)Gi[jt]=7;for(var jt=280;jt<288;++jt)Gi[jt]=8;var za=new Nr(32);for(var jt=0;jt<32;++jt)za[jt]=5;var $w=ei(Gi,9,0),zw=ei(Gi,9,1),Hw=ei(za,5,0),Ww=ei(za,5,1),fh=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},En=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},dh=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Bf=function(t){return(t+7)/8|0},Y0=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new Nr(t.subarray(e,r))},Vw=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Cn=function(t,e,r){var n=new Error(e||Vw[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Cn),!r)throw n;return n},Gw=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new Nr(0);var o=!r,a=o||e.i!=2,c=e.i;o&&(r=new Nr(i*3));var h=function(Ie){var j=r.length;if(Ie>j){var B=new Nr(Math.max(j*2,Ie));B.set(r),r=B}},d=e.f||0,m=e.p||0,v=e.b||0,g=e.l,w=e.d,b=e.m,k=e.n,_=i*8;do{if(!g){d=En(t,m,1);var E=En(t,m+1,3);if(m+=3,E)if(E==1)g=zw,w=Ww,b=9,k=5;else if(E==2){var pe=En(t,m,31)+257,X=En(t,m+10,15)+4,U=pe+En(t,m+5,31)+1;m+=14;for(var K=new Nr(U),ne=new Nr(19),C=0;C<X;++C)ne[Xh[C]]=En(t,m+C*3,7);m+=X*3;for(var R=fh(ne),W=(1<<R)-1,z=ei(ne,R,1),C=0;C<U;){var ve=z[En(t,m,W)];m+=ve&15;var I=ve>>4;if(I<16)K[C++]=I;else{var oe=0,ie=0;for(I==16?(ie=3+En(t,m,3),m+=2,oe=K[C-1]):I==17?(ie=3+En(t,m,7),m+=3):I==18&&(ie=11+En(t,m,127),m+=7);ie--;)K[C++]=oe}}var Q=K.subarray(0,pe),ye=K.subarray(pe);b=fh(Q),k=fh(ye),g=ei(Q,b,1),w=ei(ye,k,1)}else Cn(1);else{var I=Bf(m)+4,$=t[I-4]|t[I-3]<<8,te=I+$;if(te>i){c&&Cn(0);break}a&&h(v+$),r.set(t.subarray(I,te),v),e.b=v+=$,e.p=m=te*8,e.f=d;continue}if(m>_){c&&Cn(0);break}}a&&h(v+131072);for(var we=(1<<b)-1,je=(1<<k)-1,N=m;;N=m){var oe=g[dh(t,m)&we],D=oe>>4;if(m+=oe&15,m>_){c&&Cn(0);break}if(oe||Cn(2),D<256)r[v++]=D;else if(D==256){N=m,g=null;break}else{var q=D-254;if(D>264){var C=D-257,V=Xc[C];q=En(t,m,(1<<V)-1)+K0[C],m+=V}var ee=w[dh(t,m)&je],ue=ee>>4;ee||Cn(3),m+=ee&15;var ye=qw[ue];if(ue>3){var V=Zc[ue];ye+=dh(t,m)&(1<<V)-1,m+=V}if(m>_){c&&Cn(0);break}a&&h(v+131072);var ge=v+q;if(v<ye){var me=s-ye,Re=Math.min(ye,ge);for(me+v<0&&Cn(3);v<Re;++v)r[v]=n[me+v]}for(;v<ge;++v)r[v]=r[v-ye]}}e.l=g,e.p=N,e.b=v,e.f=d,g&&(d=1,e.m=b,e.d=w,e.n=k)}while(!d);return v!=r.length&&o?Y0(r,0,v):r.subarray(0,v)},mi=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},va=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},ph=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:Z0,l:0};if(i==1){var o=new Nr(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(te,pe){return te.f-pe.f}),r.push({s:-1,f:25001});var a=r[0],c=r[1],h=0,d=1,m=2;for(r[0]={s:-1,f:a.f+c.f,l:a,r:c};d!=i-1;)a=r[r[h].f<r[m].f?h++:m++],c=r[h!=d&&r[h].f<r[m].f?h++:m++],r[d++]={s:-1,f:a.f+c.f,l:a,r:c};for(var v=s[0].s,n=1;n<i;++n)s[n].s>v&&(v=s[n].s);var g=new sn(v+1),w=ef(r[d-1],g,0);if(w>e){var n=0,b=0,k=w-e,_=1<<k;for(s.sort(function(pe,X){return g[X.s]-g[pe.s]||pe.f-X.f});n<i;++n){var E=s[n].s;if(g[E]>e)b+=_-(1<<w-g[E]),g[E]=e;else break}for(b>>=k;b>0;){var I=s[n].s;g[I]<e?b-=1<<e-g[I]++-1:++n}for(;n>=0&&b;--n){var $=s[n].s;g[$]==e&&(--g[$],++b)}w=e}return{t:new Nr(g),l:w}},ef=function(t,e,r){return t.s==-1?Math.max(ef(t.l,e,r+1),ef(t.r,e,r+1)):e[t.s]=r},Cp=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new sn(++e),n=0,i=t[0],s=1,o=function(c){r[n++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:r.subarray(0,n),n:e}},ya=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},X0=function(t,e,r){var n=r.length,i=Bf(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},Rp=function(t,e,r,n,i,s,o,a,c,h,d){mi(e,d++,r),++i[256];for(var m=ph(i,15),v=m.t,g=m.l,w=ph(s,15),b=w.t,k=w.l,_=Cp(v),E=_.c,I=_.n,$=Cp(b),te=$.c,pe=$.n,X=new sn(19),U=0;U<E.length;++U)++X[E[U]&31];for(var U=0;U<te.length;++U)++X[te[U]&31];for(var K=ph(X,7),ne=K.t,C=K.l,R=19;R>4&&!ne[Xh[R-1]];--R);var W=h+5<<3,z=ya(i,Gi)+ya(s,za)+o,ve=ya(i,v)+ya(s,b)+o+14+3*R+ya(X,ne)+2*X[16]+3*X[17]+7*X[18];if(c>=0&&W<=z&&W<=ve)return X0(e,d,t.subarray(c,c+h));var oe,ie,Q,ye;if(mi(e,d,1+(ve<z)),d+=2,ve<z){oe=ei(v,g,0),ie=v,Q=ei(b,k,0),ye=b;var we=ei(ne,C,0);mi(e,d,I-257),mi(e,d+5,pe-1),mi(e,d+10,R-4),d+=14;for(var U=0;U<R;++U)mi(e,d+3*U,ne[Xh[U]]);d+=3*R;for(var je=[E,te],N=0;N<2;++N)for(var D=je[N],U=0;U<D.length;++U){var q=D[U]&31;mi(e,d,we[q]),d+=ne[q],q>15&&(mi(e,d,D[U]>>5&127),d+=D[U]>>12)}}else oe=$w,ie=Gi,Q=Hw,ye=za;for(var U=0;U<a;++U){var V=n[U];if(V>255){var q=V>>18&31;va(e,d,oe[q+257]),d+=ie[q+257],q>7&&(mi(e,d,V>>23&31),d+=Xc[q]);var ee=V&31;va(e,d,Q[ee]),d+=ye[ee],ee>3&&(va(e,d,V>>5&8191),d+=Zc[ee])}else va(e,d,oe[V]),d+=ie[V]}return va(e,d,oe[256]),d+ie[256]},Kw=new Df([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Z0=new Nr(0),Jw=function(t,e,r,n,i,s){var o=s.z||t.length,a=new Nr(n+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(n,a.length-i),h=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var m=Kw[e-1],v=m>>13,g=m&8191,w=(1<<r)-1,b=s.p||new sn(32768),k=s.h||new sn(w+1),_=Math.ceil(r/3),E=2*_,I=function(se){return(t[se]^t[se+1]<<_^t[se+2]<<E)&w},$=new Df(25e3),te=new sn(288),pe=new sn(32),X=0,U=0,K=s.i||0,ne=0,C=s.w||0,R=0;K+2<o;++K){var W=I(K),z=K&32767,ve=k[W];if(b[z]=ve,k[W]=z,C<=K){var oe=o-K;if((X>7e3||ne>24576)&&(oe>423||!h)){d=Rp(t,c,0,$,te,pe,U,ne,R,K-R,d),ne=X=U=0,R=K;for(var ie=0;ie<286;++ie)te[ie]=0;for(var ie=0;ie<30;++ie)pe[ie]=0}var Q=2,ye=0,we=g,je=z-ve&32767;if(oe>2&&W==I(K-je))for(var N=Math.min(v,oe)-1,D=Math.min(32767,K),q=Math.min(258,oe);je<=D&&--we&&z!=ve;){if(t[K+Q]==t[K+Q-je]){for(var V=0;V<q&&t[K+V]==t[K+V-je];++V);if(V>Q){if(Q=V,ye=je,V>N)break;for(var ee=Math.min(je,V-2),ue=0,ie=0;ie<ee;++ie){var ge=K-je+ie&32767,me=b[ge],Re=ge-me&32767;Re>ue&&(ue=Re,ve=ge)}}}z=ve,ve=b[z],je+=z-ve&32767}if(ye){$[ne++]=268435456|Zh[Q]<<18|Tp[ye];var Ie=Zh[Q]&31,j=Tp[ye]&31;U+=Xc[Ie]+Zc[j],++te[257+Ie],++pe[j],C=K+Q,++X}else $[ne++]=t[K],++te[t[K]]}}for(K=Math.max(K,C);K<o;++K)$[ne++]=t[K],++te[t[K]];d=Rp(t,c,h,$,te,pe,U,ne,R,K-R,d),h||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=k,s.p=b,s.i=K,s.w=C)}else{for(var K=s.w||0;K<o+h;K+=65535){var B=K+65535;B>=o&&(c[d/8|0]=h,B=o),d=X0(c,d+1,t.subarray(K,B))}s.i=o}return Y0(a,0,n+Bf(d)+i)},Q0=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=n+=r[o];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Yw=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new Nr(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return Jw(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},e2=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},Xw=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Q0();i.p(e.dictionary),e2(t,2,i.d())}},Zw=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Cn(6,"invalid zlib data"),(t[1]>>5&1)==1&&Cn(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function tf(t,e){e||(e={});var r=Q0();r.p(t);var n=Yw(t,e,e.dictionary?6:2,4);return Xw(n,e),e2(n,n.length-4,r.d()),n}function Qw(t,e){return Gw(t.subarray(Zw(t),-4),{i:2},e,e)}var e_=typeof TextDecoder<"u"&&new TextDecoder,t_=0;try{e_.decode(Z0,{stream:!0}),t_=1}catch{}var tt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function gh(){tt.console&&typeof tt.console.log=="function"&&tt.console.log.apply(tt.console,arguments)}var Pt={log:gh,warn:function(t){tt.console&&(typeof tt.console.warn=="function"?tt.console.warn.apply(tt.console,arguments):gh.call(null,arguments))},error:function(t){tt.console&&(typeof tt.console.error=="function"?tt.console.error.apply(tt.console,arguments):gh(t))}};function mh(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){vs(n.response,e,r)},n.onerror=function(){Pt.error("could not download file")},n.send()}function Ip(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xl(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Oa,rf,vs=tt.saveAs||((typeof window>"u"?"undefined":Nt(window))!=="object"||window!==tt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=tt.URL||tt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Ip(i.href)?mh(t,e,r):Xl(i,i.target="_blank"):Xl(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xl(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Ip(t))mh(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Xl(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Nt(s)!=="object"&&(Pt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return mh(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(tt.HTMLElement)||tt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Nt(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var d=a.result;d=o?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=d:location=d,n=null},a.readAsDataURL(t)}else{var c=tt.URL||tt.webkitURL,h=c.createObjectURL(t);n?n.location=h:location.href=h,n=null,setTimeout(function(){c.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function t2(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),h=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),h.length==1&&(h="0"+h),"#"+a+c+h}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function vh(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=yr(r,n,i,s,e[0],7,-680876936),s=yr(s,r,n,i,e[1],12,-389564586),i=yr(i,s,r,n,e[2],17,606105819),n=yr(n,i,s,r,e[3],22,-1044525330),r=yr(r,n,i,s,e[4],7,-176418897),s=yr(s,r,n,i,e[5],12,1200080426),i=yr(i,s,r,n,e[6],17,-1473231341),n=yr(n,i,s,r,e[7],22,-45705983),r=yr(r,n,i,s,e[8],7,1770035416),s=yr(s,r,n,i,e[9],12,-1958414417),i=yr(i,s,r,n,e[10],17,-42063),n=yr(n,i,s,r,e[11],22,-1990404162),r=yr(r,n,i,s,e[12],7,1804603682),s=yr(s,r,n,i,e[13],12,-40341101),i=yr(i,s,r,n,e[14],17,-1502002290),r=br(r,n=yr(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=br(s,r,n,i,e[6],9,-1069501632),i=br(i,s,r,n,e[11],14,643717713),n=br(n,i,s,r,e[0],20,-373897302),r=br(r,n,i,s,e[5],5,-701558691),s=br(s,r,n,i,e[10],9,38016083),i=br(i,s,r,n,e[15],14,-660478335),n=br(n,i,s,r,e[4],20,-405537848),r=br(r,n,i,s,e[9],5,568446438),s=br(s,r,n,i,e[14],9,-1019803690),i=br(i,s,r,n,e[3],14,-187363961),n=br(n,i,s,r,e[8],20,1163531501),r=br(r,n,i,s,e[13],5,-1444681467),s=br(s,r,n,i,e[2],9,-51403784),i=br(i,s,r,n,e[7],14,1735328473),r=wr(r,n=br(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=wr(s,r,n,i,e[8],11,-2022574463),i=wr(i,s,r,n,e[11],16,1839030562),n=wr(n,i,s,r,e[14],23,-35309556),r=wr(r,n,i,s,e[1],4,-1530992060),s=wr(s,r,n,i,e[4],11,1272893353),i=wr(i,s,r,n,e[7],16,-155497632),n=wr(n,i,s,r,e[10],23,-1094730640),r=wr(r,n,i,s,e[13],4,681279174),s=wr(s,r,n,i,e[0],11,-358537222),i=wr(i,s,r,n,e[3],16,-722521979),n=wr(n,i,s,r,e[6],23,76029189),r=wr(r,n,i,s,e[9],4,-640364487),s=wr(s,r,n,i,e[12],11,-421815835),i=wr(i,s,r,n,e[15],16,530742520),r=_r(r,n=wr(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=_r(s,r,n,i,e[7],10,1126891415),i=_r(i,s,r,n,e[14],15,-1416354905),n=_r(n,i,s,r,e[5],21,-57434055),r=_r(r,n,i,s,e[12],6,1700485571),s=_r(s,r,n,i,e[3],10,-1894986606),i=_r(i,s,r,n,e[10],15,-1051523),n=_r(n,i,s,r,e[1],21,-2054922799),r=_r(r,n,i,s,e[8],6,1873313359),s=_r(s,r,n,i,e[15],10,-30611744),i=_r(i,s,r,n,e[6],15,-1560198380),n=_r(n,i,s,r,e[13],21,1309151649),r=_r(r,n,i,s,e[4],6,-145523070),s=_r(s,r,n,i,e[11],10,-1120210379),i=_r(i,s,r,n,e[2],15,718787259),n=_r(n,i,s,r,e[9],21,-343485551),t[0]=Hi(r,t[0]),t[1]=Hi(n,t[1]),t[2]=Hi(i,t[2]),t[3]=Hi(s,t[3])}function Qc(t,e,r,n,i,s){return e=Hi(Hi(e,t),Hi(n,s)),Hi(e<<i|e>>>32-i,r)}function yr(t,e,r,n,i,s,o){return Qc(e&r|~e&n,t,e,i,s,o)}function br(t,e,r,n,i,s,o){return Qc(e&n|r&~n,t,e,i,s,o)}function wr(t,e,r,n,i,s,o){return Qc(e^r^n,t,e,i,s,o)}function _r(t,e,r,n,i,s,o){return Qc(r^(e|~n),t,e,i,s,o)}function r2(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)vh(n,r_(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(vh(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,vh(n,i),n}function r_(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Oa=tt.atob.bind(tt),rf=tt.btoa.bind(tt);var jp="0123456789abcdef".split("");function n_(t){for(var e="",r=0;r<4;r++)e+=jp[t>>8*r+4&15]+jp[t>>8*r&15];return e}function i_(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function nf(t){return r2(t).map(i_).join("")}var s_=function(t){for(var e=0;e<t.length;e++)t[e]=n_(t[e]);return t.join("")}(r2("hello"))!="5d41402abc4b2a76b9719d911017c592";function Hi(t,e){if(s_){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sf(t,e){var r,n,i,s;if(t!==r){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var h=0;for(c=0;c<256;c++){var d=a[c];h=(h+d+o.charCodeAt(c))%256,a[c]=a[h],a[h]=d}r=t,n=a}else a=n;var m=e.length,v=0,g=0,w="";for(c=0;c<m;c++)g=(g+(d=a[v=(v+1)%256]))%256,a[v]=a[g],a[g]=d,o=a[(a[v]+a[g])%256],w+=String.fromCharCode(e.charCodeAt(c)^o);return w}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Fp={print:4,modify:8,copy:16,"annot-forms":32};function wo(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(Fp.perm!==void 0)throw new Error("Invalid permission: "+a);i+=Fp[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=nf(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=sf(this.encryptionKey,this.padding)}function _o(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function Dp(t){if(Nt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(a){tt.console&&Pt.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function kc(t){if(!(this instanceof kc))return new kc(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function n2(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function _s(t,e,r,n,i){if(!(this instanceof _s))return new _s(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,n2.call(this,n,i)}function Ao(t,e,r,n,i){if(!(this instanceof Ao))return new Ao(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,n2.call(this,n,i)}function et(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,h="S",d=null;Nt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(d=t.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),h=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},g={internal:{},__private__:{}};g.__private__.PubSub=Dp;var w="1.3",b=g.__private__.getPdfVersion=function(){return w};g.__private__.setPdfVersion=function(f){w=f};var k={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return k};var _=g.__private__.getPageFormat=function(f){return k[f]};i=i||"a4";var E={COMPAT:"compat",ADVANCED:"advanced"},I=E.COMPAT;function $(){this.saveGraphicsState(),O(new Xe(De,0,0,-De,0,Li()*De).toString()+" cm"),this.setFontSize(this.getFontSize()/De),h="n",I=E.ADVANCED}function te(){this.restoreGraphicsState(),h="S",I=E.COMPAT}var pe=g.__private__.combineFontStyleAndFontWeight=function(f,A){if(f=="bold"&&A=="normal"||f=="bold"&&A==400||f=="normal"&&A=="italic"||f=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(f=A==400||A==="normal"?f==="italic"?"italic":"normal":A!=700&&A!=="bold"||f!=="normal"?(A==700?"bold":A)+""+f:"bold"),f};g.advancedAPI=function(f){var A=I===E.COMPAT;return A&&$.call(this),typeof f!="function"||(f(this),A&&te.call(this)),this},g.compatAPI=function(f){var A=I===E.ADVANCED;return A&&te.call(this),typeof f!="function"||(f(this),A&&$.call(this)),this},g.isAdvancedAPI=function(){return I===E.ADVANCED};var X,U=function(f){if(I!==E.ADVANCED)throw new Error(f+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},K=g.roundToPrecision=g.__private__.roundToPrecision=function(f,A){var M=e||A;if(isNaN(f)||isNaN(M))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return f.toFixed(M).replace(/0+$/,"")};X=g.hpf=g.__private__.hpf=typeof c=="number"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return K(f,c)}:c==="smart"?function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return K(f,f>-1&&f<1?16:5)}:function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.hpf");return K(f,16)};var ne=g.f2=g.__private__.f2=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f2");return K(f,2)},C=g.__private__.f3=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.f3");return K(f,3)},R=g.scale=g.__private__.scale=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.scale");return I===E.COMPAT?f*De:I===E.ADVANCED?f:void 0},W=function(f){return I===E.COMPAT?Li()-f:I===E.ADVANCED?f:void 0},z=function(f){return R(W(f))};g.__private__.setPrecision=g.setPrecision=function(f){typeof parseInt(f,10)=="number"&&(e=parseInt(f,10))};var ve,oe="00000000000000000000000000000000",ie=g.__private__.getFileId=function(){return oe},Q=g.__private__.setFileId=function(f){return oe=f!==void 0&&/^[a-fA-F0-9]{32}$/.test(f)?f.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(mr=new wo(d.userPermissions,d.userPassword,d.ownerPassword,oe)),oe};g.setFileId=function(f){return Q(f),this},g.getFileId=function(){return ie()};var ye=g.__private__.convertDateToPDFDate=function(f){var A=f.getTimezoneOffset(),M=A<0?"+":"-",G=Math.floor(Math.abs(A/60)),le=Math.abs(A%60),xe=[M,q(G),"'",q(le),"'"].join("");return["D:",f.getFullYear(),q(f.getMonth()+1),q(f.getDate()),q(f.getHours()),q(f.getMinutes()),q(f.getSeconds()),xe].join("")},we=g.__private__.convertPDFDateToDate=function(f){var A=parseInt(f.substr(2,4),10),M=parseInt(f.substr(6,2),10)-1,G=parseInt(f.substr(8,2),10),le=parseInt(f.substr(10,2),10),xe=parseInt(f.substr(12,2),10),Te=parseInt(f.substr(14,2),10);return new Date(A,M,G,le,xe,Te,0)},je=g.__private__.setCreationDate=function(f){var A;if(f===void 0&&(f=new Date),f instanceof Date)A=ye(f);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(f))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=f}return ve=A},N=g.__private__.getCreationDate=function(f){var A=ve;return f==="jsDate"&&(A=we(ve)),A};g.setCreationDate=function(f){return je(f),this},g.getCreationDate=function(f){return N(f)};var D,q=g.__private__.padd2=function(f){return("0"+parseInt(f)).slice(-2)},V=g.__private__.padd2Hex=function(f){return("00"+(f=f.toString())).substr(f.length)},ee=0,ue=[],ge=[],me=0,Re=[],Ie=[],j=!1,B=ge,se=function(){ee=0,me=0,ge=[],ue=[],Re=[],si=Zt(),bn=Zt()};g.__private__.setCustomOutputDestination=function(f){j=!0,B=f};var H=function(f){j||(B=f)};g.__private__.resetCustomOutputDestination=function(){j=!1,B=ge};var O=g.__private__.out=function(f){return f=f.toString(),me+=f.length+1,B.push(f),B},be=g.__private__.write=function(f){return O(arguments.length===1?f.toString():Array.prototype.join.call(arguments," "))},Ae=g.__private__.getArrayBuffer=function(f){for(var A=f.length,M=new ArrayBuffer(A),G=new Uint8Array(M);A--;)G[A]=f.charCodeAt(A);return M},ae=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return ae};var he=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(f){return he=I===E.ADVANCED?f/De:f,this};var ce,Ne=g.__private__.getFontSize=g.getFontSize=function(){return I===E.COMPAT?he:he*De},Le=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(f){return Le=f,this},g.__private__.getR2L=g.getR2L=function(){return Le};var Ce,Fe=g.__private__.setZoomMode=function(f){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(f))ce=f;else if(isNaN(f)){if(A.indexOf(f)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+f+'" is not recognized.');ce=f}else ce=parseInt(f,10)};g.__private__.getZoomMode=function(){return ce};var Ue,We=g.__private__.setPageMode=function(f){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(f)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+f+'" is not recognized.');Ce=f};g.__private__.getPageMode=function(){return Ce};var Ve=g.__private__.setLayoutMode=function(f){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(f)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+f+'" is not recognized.');Ue=f};g.__private__.getLayoutMode=function(){return Ue},g.__private__.setDisplayMode=g.setDisplayMode=function(f,A,M){return Fe(f),Ve(A),We(M),this};var He={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(f){if(Object.keys(He).indexOf(f)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return He[f]},g.__private__.getDocumentProperties=function(){return He},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(f){for(var A in He)He.hasOwnProperty(A)&&f[A]&&(He[A]=f[A]);return this},g.__private__.setDocumentProperty=function(f,A){if(Object.keys(He).indexOf(f)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return He[f]=A};var Je,De,kt,ft,jr,ut={},pt={},Wr=[],bt={},Zi={},Mt={},vn={},ii=null,Ut=0,it=[],wt=new Dp(g),Qi=t.hotfixes||[],hr={},Bn={},Mn=[],Xe=function f(A,M,G,le,xe,Te){if(!(this instanceof f))return new f(A,M,G,le,xe,Te);isNaN(A)&&(A=1),isNaN(M)&&(M=0),isNaN(G)&&(G=0),isNaN(le)&&(le=1),isNaN(xe)&&(xe=0),isNaN(Te)&&(Te=0),this._matrix=[A,M,G,le,xe,Te]};Object.defineProperty(Xe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Xe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Xe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Xe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Xe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Xe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Xe.prototype,"a",{get:function(){return this._matrix[0]},set:function(f){this._matrix[0]=f}}),Object.defineProperty(Xe.prototype,"b",{get:function(){return this._matrix[1]},set:function(f){this._matrix[1]=f}}),Object.defineProperty(Xe.prototype,"c",{get:function(){return this._matrix[2]},set:function(f){this._matrix[2]=f}}),Object.defineProperty(Xe.prototype,"d",{get:function(){return this._matrix[3]},set:function(f){this._matrix[3]=f}}),Object.defineProperty(Xe.prototype,"e",{get:function(){return this._matrix[4]},set:function(f){this._matrix[4]=f}}),Object.defineProperty(Xe.prototype,"f",{get:function(){return this._matrix[5]},set:function(f){this._matrix[5]=f}}),Object.defineProperty(Xe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Xe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Xe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Xe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Xe.prototype.join=function(f){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(X).join(f)},Xe.prototype.multiply=function(f){var A=f.sx*this.sx+f.shy*this.shx,M=f.sx*this.shy+f.shy*this.sy,G=f.shx*this.sx+f.sy*this.shx,le=f.shx*this.shy+f.sy*this.sy,xe=f.tx*this.sx+f.ty*this.shx+this.tx,Te=f.tx*this.shy+f.ty*this.sy+this.ty;return new Xe(A,M,G,le,xe,Te)},Xe.prototype.decompose=function(){var f=this.sx,A=this.shy,M=this.shx,G=this.sy,le=this.tx,xe=this.ty,Te=Math.sqrt(f*f+A*A),qe=(f/=Te)*M+(A/=Te)*G;M-=f*qe,G-=A*qe;var Ke=Math.sqrt(M*M+G*G);return qe/=Ke,f*(G/=Ke)<A*(M/=Ke)&&(f=-f,A=-A,qe=-qe,Te=-Te),{scale:new Xe(Te,0,0,Ke,0,0),translate:new Xe(1,0,0,1,le,xe),rotate:new Xe(f,A,-A,f,0,0),skew:new Xe(1,0,qe,1,0,0)}},Xe.prototype.toString=function(f){return this.join(" ")},Xe.prototype.inversed=function(){var f=this.sx,A=this.shy,M=this.shx,G=this.sy,le=this.tx,xe=this.ty,Te=1/(f*G-A*M),qe=G*Te,Ke=-A*Te,at=-M*Te,st=f*Te;return new Xe(qe,Ke,at,st,-qe*le-at*xe,-Ke*le-st*xe)},Xe.prototype.applyToPoint=function(f){var A=f.x*this.sx+f.y*this.shx+this.tx,M=f.x*this.shy+f.y*this.sy+this.ty;return new Hs(A,M)},Xe.prototype.applyToRectangle=function(f){var A=this.applyToPoint(f),M=this.applyToPoint(new Hs(f.x+f.w,f.y+f.h));return new Ko(A.x,A.y,M.x-A.x,M.y-A.y)},Xe.prototype.clone=function(){var f=this.sx,A=this.shy,M=this.shx,G=this.sy,le=this.tx,xe=this.ty;return new Xe(f,A,M,G,le,xe)},g.Matrix=Xe;var yn=g.matrixMult=function(f,A){return A.multiply(f)},Un=new Xe(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Un;var Fr=function(f,A){if(!Zi[f]){var M=(A instanceof _s?"Sh":"P")+(Object.keys(bt).length+1).toString(10);A.id=M,Zi[f]=M,bt[M]=A,wt.publish("addPattern",A)}};g.ShadingPattern=_s,g.TilingPattern=Ao,g.addShadingPattern=function(f,A){return U("addShadingPattern()"),Fr(f,A),this},g.beginTilingPattern=function(f){U("beginTilingPattern()"),vl(f.boundingBox[0],f.boundingBox[1],f.boundingBox[2]-f.boundingBox[0],f.boundingBox[3]-f.boundingBox[1],f.matrix)},g.endTilingPattern=function(f,A){U("endTilingPattern()"),A.stream=Ie[D].join(`
`),Fr(f,A),wt.publish("endTilingPattern",A),Mn.pop().restore()};var ir=g.__private__.newObject=function(){var f=Zt();return Vr(f,!0),f},Zt=g.__private__.newObjectDeferred=function(){return ee++,ue[ee]=function(){return me},ee},Vr=function(f,A){return A=typeof A=="boolean"&&A,ue[f]=me,A&&O(f+" 0 obj"),f},Ts=g.__private__.newAdditionalObject=function(){var f={objId:Zt(),content:""};return Re.push(f),f},si=Zt(),bn=Zt(),wn=g.__private__.decodeColorString=function(f){var A=f.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var M=parseFloat(A[0]);A=[M,M,M,"r"]}for(var G="#",le=0;le<3;le++)G+=("0"+Math.floor(255*parseFloat(A[le])).toString(16)).slice(-2);return G},_n=g.__private__.encodeColorString=function(f){var A;typeof f=="string"&&(f={ch1:f});var M=f.ch1,G=f.ch2,le=f.ch3,xe=f.ch4,Te=f.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof M=="string"&&M.charAt(0)!=="#"){var qe=new t2(M);if(qe.ok)M=qe.toHex();else if(!/^\d*\.?\d*$/.test(M))throw new Error('Invalid color "'+M+'" passed to jsPDF.encodeColorString.')}if(typeof M=="string"&&/^#[0-9A-Fa-f]{3}$/.test(M)&&(M="#"+M[1]+M[1]+M[2]+M[2]+M[3]+M[3]),typeof M=="string"&&/^#[0-9A-Fa-f]{6}$/.test(M)){var Ke=parseInt(M.substr(1),16);M=Ke>>16&255,G=Ke>>8&255,le=255&Ke}if(G===void 0||xe===void 0&&M===G&&G===le)if(typeof M=="string")A=M+" "+Te[0];else switch(f.precision){case 2:A=ne(M/255)+" "+Te[0];break;case 3:default:A=C(M/255)+" "+Te[0]}else if(xe===void 0||Nt(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return A=["1.","1.","1.",Te[1]].join(" ");if(typeof M=="string")A=[M,G,le,Te[1]].join(" ");else switch(f.precision){case 2:A=[ne(M/255),ne(G/255),ne(le/255),Te[1]].join(" ");break;default:case 3:A=[C(M/255),C(G/255),C(le/255),Te[1]].join(" ")}}else if(typeof M=="string")A=[M,G,le,xe,Te[2]].join(" ");else switch(f.precision){case 2:A=[ne(M),ne(G),ne(le),ne(xe),Te[2]].join(" ");break;case 3:default:A=[C(M),C(G),C(le),C(xe),Te[2]].join(" ")}return A},qn=g.__private__.getFilters=function(){return o},on=g.__private__.putStream=function(f){var A=(f=f||{}).data||"",M=f.filters||qn(),G=f.alreadyAppliedFilters||[],le=f.addLength1||!1,xe=A.length,Te=f.objectId,qe=function(vr){return vr};if(d!==null&&Te===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(qe=mr.encryptor(Te,0));var Ke={};M===!0&&(M=["FlateEncode"]);var at=f.additionalKeyValues||[],st=(Ke=et.API.processDataByFilters!==void 0?et.API.processDataByFilters(A,M):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(G)?G.join(" "):G.toString());if(Ke.data.length!==0&&(at.push({key:"Length",value:Ke.data.length}),le===!0&&at.push({key:"Length1",value:xe})),st.length!=0)if(st.split("/").length-1==1)at.push({key:"Filter",value:st});else{at.push({key:"Filter",value:"["+st+"]"});for(var gt=0;gt<at.length;gt+=1)if(at[gt].key==="DecodeParms"){for(var Dt=[],qt=0;qt<Ke.reverseChain.split("/").length-1;qt+=1)Dt.push("null");Dt.push(at[gt].value),at[gt].value="["+Dt.join(" ")+"]"}}O("<<");for(var Qt=0;Qt<at.length;Qt++)O("/"+at[Qt].key+" "+at[Qt].value);O(">>"),Ke.data.length!==0&&(O("stream"),O(qe(Ke.data)),O("endstream"))},$n=g.__private__.putPage=function(f){var A=f.number,M=f.data,G=f.objId,le=f.contentsObjId;Vr(G,!0),O("<</Type /Page"),O("/Parent "+f.rootDictionaryObjId+" 0 R"),O("/Resources "+f.resourceDictionaryObjId+" 0 R"),O("/MediaBox ["+parseFloat(X(f.mediaBox.bottomLeftX))+" "+parseFloat(X(f.mediaBox.bottomLeftY))+" "+X(f.mediaBox.topRightX)+" "+X(f.mediaBox.topRightY)+"]"),f.cropBox!==null&&O("/CropBox ["+X(f.cropBox.bottomLeftX)+" "+X(f.cropBox.bottomLeftY)+" "+X(f.cropBox.topRightX)+" "+X(f.cropBox.topRightY)+"]"),f.bleedBox!==null&&O("/BleedBox ["+X(f.bleedBox.bottomLeftX)+" "+X(f.bleedBox.bottomLeftY)+" "+X(f.bleedBox.topRightX)+" "+X(f.bleedBox.topRightY)+"]"),f.trimBox!==null&&O("/TrimBox ["+X(f.trimBox.bottomLeftX)+" "+X(f.trimBox.bottomLeftY)+" "+X(f.trimBox.topRightX)+" "+X(f.trimBox.topRightY)+"]"),f.artBox!==null&&O("/ArtBox ["+X(f.artBox.bottomLeftX)+" "+X(f.artBox.bottomLeftY)+" "+X(f.artBox.topRightX)+" "+X(f.artBox.topRightY)+"]"),typeof f.userUnit=="number"&&f.userUnit!==1&&O("/UserUnit "+f.userUnit),wt.publish("putPage",{objId:G,pageContext:it[A],pageNumber:A,page:M}),O("/Contents "+le+" 0 R"),O(">>"),O("endobj");var xe=M.join(`
`);return I===E.ADVANCED&&(xe+=`
Q`),Vr(le,!0),on({data:xe,filters:qn(),objectId:le}),O("endobj"),G},es=g.__private__.putPages=function(){var f,A,M=[];for(f=1;f<=Ut;f++)it[f].objId=Zt(),it[f].contentsObjId=Zt();for(f=1;f<=Ut;f++)M.push($n({number:f,data:Ie[f],objId:it[f].objId,contentsObjId:it[f].contentsObjId,mediaBox:it[f].mediaBox,cropBox:it[f].cropBox,bleedBox:it[f].bleedBox,trimBox:it[f].trimBox,artBox:it[f].artBox,userUnit:it[f].userUnit,rootDictionaryObjId:si,resourceDictionaryObjId:bn}));Vr(si,!0),O("<</Type /Pages");var G="/Kids [";for(A=0;A<Ut;A++)G+=M[A]+" 0 R ";O(G+"]"),O("/Count "+Ut),O(">>"),O("endobj"),wt.publish("postPutPages")},Cs=function(f){wt.publish("putFont",{font:f,out:O,newObject:ir,putStream:on}),f.isAlreadyPutted!==!0&&(f.objectNumber=ir(),O("<<"),O("/Type /Font"),O("/BaseFont /"+_o(f.postScriptName)),O("/Subtype /Type1"),typeof f.encoding=="string"&&O("/Encoding /"+f.encoding),O("/FirstChar 32"),O("/LastChar 255"),O(">>"),O("endobj"))},Rs=function(){for(var f in ut)ut.hasOwnProperty(f)&&(m===!1||m===!0&&v.hasOwnProperty(f))&&Cs(ut[f])},Is=function(f){f.objectNumber=ir();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[X(f.x),X(f.y),X(f.x+f.width),X(f.y+f.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+f.matrix.toString()+"]"});var M=f.pages[1].join(`
`);on({data:M,additionalKeyValues:A,objectId:f.objectNumber}),O("endobj")},js=function(){for(var f in hr)hr.hasOwnProperty(f)&&Is(hr[f])},Qa=function(f,A){var M,G=[],le=1/(A-1);for(M=0;M<1;M+=le)G.push(M);if(G.push(1),f[0].offset!=0){var xe={offset:0,color:f[0].color};f.unshift(xe)}if(f[f.length-1].offset!=1){var Te={offset:1,color:f[f.length-1].color};f.push(Te)}for(var qe="",Ke=0,at=0;at<G.length;at++){for(M=G[at];M>f[Ke+1].offset;)Ke++;var st=f[Ke].offset,gt=(M-st)/(f[Ke+1].offset-st),Dt=f[Ke].color,qt=f[Ke+1].color;qe+=V(Math.round((1-gt)*Dt[0]+gt*qt[0]).toString(16))+V(Math.round((1-gt)*Dt[1]+gt*qt[1]).toString(16))+V(Math.round((1-gt)*Dt[2]+gt*qt[2]).toString(16))}return qe.trim()},eu=function(f,A){A||(A=21);var M=ir(),G=Qa(f.colors,A),le=[];le.push({key:"FunctionType",value:"0"}),le.push({key:"Domain",value:"[0.0 1.0]"}),le.push({key:"Size",value:"["+A+"]"}),le.push({key:"BitsPerSample",value:"8"}),le.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),le.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),on({data:G,additionalKeyValues:le,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:M}),O("endobj"),f.objectNumber=ir(),O("<< /ShadingType "+f.type),O("/ColorSpace /DeviceRGB");var xe="/Coords ["+X(parseFloat(f.coords[0]))+" "+X(parseFloat(f.coords[1]))+" ";f.type===2?xe+=X(parseFloat(f.coords[2]))+" "+X(parseFloat(f.coords[3])):xe+=X(parseFloat(f.coords[2]))+" "+X(parseFloat(f.coords[3]))+" "+X(parseFloat(f.coords[4]))+" "+X(parseFloat(f.coords[5])),O(xe+="]"),f.matrix&&O("/Matrix ["+f.matrix.toString()+"]"),O("/Function "+M+" 0 R"),O("/Extend [true true]"),O(">>"),O("endobj")},tu=function(f,A){var M=Zt(),G=ir();A.push({resourcesOid:M,objectOid:G}),f.objectNumber=G;var le=[];le.push({key:"Type",value:"/Pattern"}),le.push({key:"PatternType",value:"1"}),le.push({key:"PaintType",value:"1"}),le.push({key:"TilingType",value:"1"}),le.push({key:"BBox",value:"["+f.boundingBox.map(X).join(" ")+"]"}),le.push({key:"XStep",value:X(f.xStep)}),le.push({key:"YStep",value:X(f.yStep)}),le.push({key:"Resources",value:M+" 0 R"}),f.matrix&&le.push({key:"Matrix",value:"["+f.matrix.toString()+"]"}),on({data:f.stream,additionalKeyValues:le,objectId:f.objectNumber}),O("endobj")},Fs=function(f){var A;for(A in bt)bt.hasOwnProperty(A)&&(bt[A]instanceof _s?eu(bt[A]):bt[A]instanceof Ao&&tu(bt[A],f))},el=function(f){for(var A in f.objectNumber=ir(),O("<<"),f)switch(A){case"opacity":O("/ca "+ne(f[A]));break;case"stroke-opacity":O("/CA "+ne(f[A]))}O(">>"),O("endobj")},ru=function(){var f;for(f in Mt)Mt.hasOwnProperty(f)&&el(Mt[f])},Bo=function(){for(var f in O("/XObject <<"),hr)hr.hasOwnProperty(f)&&hr[f].objectNumber>=0&&O("/"+f+" "+hr[f].objectNumber+" 0 R");wt.publish("putXobjectDict"),O(">>")},nu=function(){mr.oid=ir(),O("<<"),O("/Filter /Standard"),O("/V "+mr.v),O("/R "+mr.r),O("/U <"+mr.toHexString(mr.U)+">"),O("/O <"+mr.toHexString(mr.O)+">"),O("/P "+mr.P),O(">>"),O("endobj")},tl=function(){for(var f in O("/Font <<"),ut)ut.hasOwnProperty(f)&&(m===!1||m===!0&&v.hasOwnProperty(f))&&O("/"+f+" "+ut[f].objectNumber+" 0 R");O(">>")},iu=function(){if(Object.keys(bt).length>0){for(var f in O("/Shading <<"),bt)bt.hasOwnProperty(f)&&bt[f]instanceof _s&&bt[f].objectNumber>=0&&O("/"+f+" "+bt[f].objectNumber+" 0 R");wt.publish("putShadingPatternDict"),O(">>")}},Ds=function(f){if(Object.keys(bt).length>0){for(var A in O("/Pattern <<"),bt)bt.hasOwnProperty(A)&&bt[A]instanceof g.TilingPattern&&bt[A].objectNumber>=0&&bt[A].objectNumber<f&&O("/"+A+" "+bt[A].objectNumber+" 0 R");wt.publish("putTilingPatternDict"),O(">>")}},su=function(){if(Object.keys(Mt).length>0){var f;for(f in O("/ExtGState <<"),Mt)Mt.hasOwnProperty(f)&&Mt[f].objectNumber>=0&&O("/"+f+" "+Mt[f].objectNumber+" 0 R");wt.publish("putGStateDict"),O(">>")}},Wt=function(f){Vr(f.resourcesOid,!0),O("<<"),O("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),tl(),iu(),Ds(f.objectOid),su(),Bo(),O(">>"),O("endobj")},rl=function(){var f=[];Rs(),ru(),js(),Fs(f),wt.publish("putResources"),f.forEach(Wt),Wt({resourcesOid:bn,objectOid:Number.MAX_SAFE_INTEGER}),wt.publish("postPutResources")},nl=function(){wt.publish("putAdditionalObjects");for(var f=0;f<Re.length;f++){var A=Re[f];Vr(A.objId,!0),O(A.content),O("endobj")}wt.publish("postPutAdditionalObjects")},il=function(f){pt[f.fontName]=pt[f.fontName]||{},pt[f.fontName][f.fontStyle]=f.id},Mo=function(f,A,M,G,le){var xe={id:"F"+(Object.keys(ut).length+1).toString(10),postScriptName:f,fontName:A,fontStyle:M,encoding:G,isStandardFont:le||!1,metadata:{}};return wt.publish("addFont",{font:xe,instance:this}),ut[xe.id]=xe,il(xe),xe.id},ou=function(f){for(var A=0,M=ae.length;A<M;A++){var G=Mo.call(this,f[A][0],f[A][1],f[A][2],ae[A][3],!0);m===!1&&(v[G]=!0);var le=f[A][0].split("-");il({id:G,fontName:le[0],fontStyle:le[1]||""})}wt.publish("addFonts",{fonts:ut,dictionary:pt})},Sn=function(f){return f.foo=function(){try{return f.apply(this,arguments)}catch(G){var A=G.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var M="Error in function "+A.split(`
`)[0].split("<")[0]+": "+G.message;if(!tt.console)throw new Error(M);tt.console.error(M,G),tt.alert&&alert(M)}},f.foo.bar=f,f.foo},Bs=function(f,A){var M,G,le,xe,Te,qe,Ke,at,st;if(le=(A=A||{}).sourceEncoding||"Unicode",Te=A.outputEncoding,(A.autoencode||Te)&&ut[Je].metadata&&ut[Je].metadata[le]&&ut[Je].metadata[le].encoding&&(xe=ut[Je].metadata[le].encoding,!Te&&ut[Je].encoding&&(Te=ut[Je].encoding),!Te&&xe.codePages&&(Te=xe.codePages[0]),typeof Te=="string"&&(Te=xe[Te]),Te)){for(Ke=!1,qe=[],M=0,G=f.length;M<G;M++)(at=Te[f.charCodeAt(M)])?qe.push(String.fromCharCode(at)):qe.push(f[M]),qe[M].charCodeAt(0)>>8&&(Ke=!0);f=qe.join("")}for(M=f.length;Ke===void 0&&M!==0;)f.charCodeAt(M-1)>>8&&(Ke=!0),M--;if(!Ke)return f;for(qe=A.noBOM?[]:[254,255],M=0,G=f.length;M<G;M++){if((st=(at=f.charCodeAt(M))>>8)>>8)throw new Error("Character at position "+M+" of string '"+f+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qe.push(st),qe.push(at-(st<<8))}return String.fromCharCode.apply(void 0,qe)},Dr=g.__private__.pdfEscape=g.pdfEscape=function(f,A){return Bs(f,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uo=g.__private__.beginPage=function(f){Ie[++Ut]=[],it[Ut]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(f[0]),topRightY:Number(f[1])}},ol(Ut),H(Ie[D])},sl=function(f,A){var M,G,le;switch(r=A||r,typeof f=="string"&&(M=_(f.toLowerCase()),Array.isArray(M)&&(G=M[0],le=M[1])),Array.isArray(f)&&(G=f[0]*De,le=f[1]*De),isNaN(G)&&(G=i[0],le=i[1]),(G>14400||le>14400)&&(Pt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),G=Math.min(14400,G),le=Math.min(14400,le)),i=[G,le],r.substr(0,1)){case"l":le>G&&(i=[le,G]);break;case"p":G>le&&(i=[le,G])}Uo(i),fl(Ho),O(An),Vo!==0&&O(Vo+" J"),Go!==0&&O(Go+" j"),wt.publish("addPage",{pageNumber:Ut})},au=function(f){f>0&&f<=Ut&&(Ie.splice(f,1),it.splice(f,1),Ut--,D>Ut&&(D=Ut),this.setPage(D))},ol=function(f){f>0&&f<=Ut&&(D=f)},lu=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ie.length-1},al=function(f,A,M){var G,le=void 0;return M=M||{},f=f!==void 0?f:ut[Je].fontName,A=A!==void 0?A:ut[Je].fontStyle,G=f.toLowerCase(),pt[G]!==void 0&&pt[G][A]!==void 0?le=pt[G][A]:pt[f]!==void 0&&pt[f][A]!==void 0?le=pt[f][A]:M.disableWarning===!1&&Pt.warn("Unable to look up font label for font '"+f+"', '"+A+"'. Refer to getFontList() for available fonts."),le||M.noFallback||(le=pt.times[A])==null&&(le=pt.times.normal),le},cu=g.__private__.putInfo=function(){var f=ir(),A=function(G){return G};for(var M in d!==null&&(A=mr.encryptor(f,0)),O("<<"),O("/Producer ("+Dr(A("jsPDF "+et.version))+")"),He)He.hasOwnProperty(M)&&He[M]&&O("/"+M.substr(0,1).toUpperCase()+M.substr(1)+" ("+Dr(A(He[M]))+")");O("/CreationDate ("+Dr(A(ve))+")"),O(">>"),O("endobj")},qo=g.__private__.putCatalog=function(f){var A=(f=f||{}).rootDictionaryObjId||si;switch(ir(),O("<<"),O("/Type /Catalog"),O("/Pages "+A+" 0 R"),ce||(ce="fullwidth"),ce){case"fullwidth":O("/OpenAction [3 0 R /FitH null]");break;case"fullheight":O("/OpenAction [3 0 R /FitV null]");break;case"fullpage":O("/OpenAction [3 0 R /Fit]");break;case"original":O("/OpenAction [3 0 R /XYZ null null 1]");break;default:var M=""+ce;M.substr(M.length-1)==="%"&&(ce=parseInt(ce)/100),typeof ce=="number"&&O("/OpenAction [3 0 R /XYZ null null "+ne(ce)+"]")}switch(Ue||(Ue="continuous"),Ue){case"continuous":O("/PageLayout /OneColumn");break;case"single":O("/PageLayout /SinglePage");break;case"two":case"twoleft":O("/PageLayout /TwoColumnLeft");break;case"tworight":O("/PageLayout /TwoColumnRight")}Ce&&O("/PageMode /"+Ce),wt.publish("putCatalog"),O(">>"),O("endobj")},uu=g.__private__.putTrailer=function(){O("trailer"),O("<<"),O("/Size "+(ee+1)),O("/Root "+ee+" 0 R"),O("/Info "+(ee-1)+" 0 R"),d!==null&&O("/Encrypt "+mr.oid+" 0 R"),O("/ID [ <"+oe+"> <"+oe+"> ]"),O(">>")},hu=g.__private__.putHeader=function(){O("%PDF-"+w),O("%")},fu=g.__private__.putXRef=function(){var f="0000000000";O("xref"),O("0 "+(ee+1)),O("0000000000 65535 f ");for(var A=1;A<=ee;A++)typeof ue[A]=="function"?O((f+ue[A]()).slice(-10)+" 00000 n "):ue[A]!==void 0?O((f+ue[A]).slice(-10)+" 00000 n "):O("0000000000 00000 n ")},oi=g.__private__.buildDocument=function(){se(),H(ge),wt.publish("buildDocument"),hu(),es(),nl(),rl(),d!==null&&nu(),cu(),qo();var f=me;return fu(),uu(),O("startxref"),O(""+f),O("%%EOF"),H(Ie[D]),ge.join(`
`)},Ms=g.__private__.getBlob=function(f){return new Blob([Ae(f)],{type:"application/pdf"})},Us=g.output=g.__private__.output=Sn(function(f,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",f){case void 0:return oi();case"save":g.save(A.filename);break;case"arraybuffer":return Ae(oi());case"blob":return Ms(oi());case"bloburi":case"bloburl":if(tt.URL!==void 0&&typeof tt.URL.createObjectURL=="function")return tt.URL&&tt.URL.createObjectURL(Ms(oi()))||void 0;Pt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var M="",G=oi();try{M=rf(G)}catch{M=rf(unescape(encodeURIComponent(G)))}return"data:application/pdf;filename="+A.filename+";base64,"+M;case"pdfobjectnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(le=A.pdfObjectUrl,xe="");var Te='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+le+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",qe=tt.open();return qe!==null&&qe.document.write(Te),qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(tt)==="[object Window]"){var Ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',at=tt.open();if(at!==null){at.document.write(Ke);var st=this;at.document.documentElement.querySelector("#pdfViewer").onload=function(){at.document.title=A.filename,at.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(st.output("bloburl"))}}return at}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(tt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',Dt=tt.open();if(Dt!==null&&(Dt.document.write(gt),Dt.document.title=A.filename),Dt||typeof safari>"u")return Dt;break;case"datauri":case"dataurl":return tt.document.location.href=this.output("datauristring",A);default:return null}}),ll=function(f){return Array.isArray(Qi)===!0&&Qi.indexOf(f)>-1};switch(n){case"pt":De=1;break;case"mm":De=72/25.4;break;case"cm":De=72/2.54;break;case"in":De=72;break;case"px":De=ll("px_scaling")==1?.75:96/72;break;case"pc":case"em":De=12;break;case"ex":De=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);De=n}var mr=null;je(),Q();var du=function(f){return d!==null?mr.encryptor(f,0):function(A){return A}},cl=g.__private__.getPageInfo=g.getPageInfo=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:it[f].objId,pageNumber:f,pageContext:it[f]}},nt=g.__private__.getPageInfoByObjId=function(f){if(isNaN(f)||f%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in it)if(it[A].objId===f)break;return cl(A)},pu=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:it[D].objId,pageNumber:D,pageContext:it[D]}};g.addPage=function(){return sl.apply(this,arguments),this},g.setPage=function(){return ol.apply(this,arguments),H.call(this,Ie[D]),this},g.insertPage=function(f){return this.addPage(),this.movePage(D,f),this},g.movePage=function(f,A){var M,G;if(f>A){M=Ie[f],G=it[f];for(var le=f;le>A;le--)Ie[le]=Ie[le-1],it[le]=it[le-1];Ie[A]=M,it[A]=G,this.setPage(A)}else if(f<A){M=Ie[f],G=it[f];for(var xe=f;xe<A;xe++)Ie[xe]=Ie[xe+1],it[xe]=it[xe+1];Ie[A]=M,it[A]=G,this.setPage(A)}return this},g.deletePage=function(){return au.apply(this,arguments),this},g.__private__.text=g.text=function(f,A,M,G,le){var xe,Te,qe,Ke,at,st,gt,Dt,qt,Qt=(G=G||{}).scope||this;if(typeof f=="number"&&typeof A=="number"&&(typeof M=="string"||Array.isArray(M))){var vr=M;M=A,A=f,f=vr}if(arguments[3]instanceof Xe?(U("The transform parameter of text() with a Matrix value"),qt=le):(qe=arguments[4],Ke=arguments[5],Nt(gt=arguments[3])==="object"&&gt!==null||(typeof qe=="string"&&(Ke=qe,qe=null),typeof gt=="string"&&(Ke=gt,gt=null),typeof gt=="number"&&(qe=gt,gt=null),G={flags:gt,angle:qe,align:Ke})),isNaN(A)||isNaN(M)||f==null)throw new Error("Invalid arguments passed to jsPDF.text");if(f.length===0)return Qt;var ar="",xn=!1,Gr=typeof G.lineHeightFactor=="number"?G.lineHeightFactor:rs,Wn=Qt.internal.scaleFactor;function yl(Tt){return Tt=Tt.split("	").join(Array(G.TabLen||9).join(" ")),Dr(Tt,gt)}function Zo(Tt){for(var Ct,Gt=Tt.concat(),sr=[],hi=Gt.length;hi--;)typeof(Ct=Gt.shift())=="string"?sr.push(Ct):Array.isArray(Tt)&&(Ct.length===1||Ct[1]===void 0&&Ct[2]===void 0)?sr.push(Ct[0]):sr.push([Ct[0],Ct[1],Ct[2]]);return sr}function Qo(Tt,Ct){var Gt;if(typeof Tt=="string")Gt=Ct(Tt)[0];else if(Array.isArray(Tt)){for(var sr,hi,aa=Tt.concat(),to=[],Al=aa.length;Al--;)typeof(sr=aa.shift())=="string"?to.push(Ct(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&(hi=Ct(sr[0],sr[1],sr[2]),to.push([hi[0],hi[1],hi[2]]));Gt=to}return Gt}var Vs=!1,ea=!0;if(typeof f=="string")Vs=!0;else if(Array.isArray(f)){var ta=f.concat();Te=[];for(var Gs,fr=ta.length;fr--;)(typeof(Gs=ta.shift())!="string"||Array.isArray(Gs)&&typeof Gs[0]!="string")&&(ea=!1);Vs=ea}if(Vs===!1)throw new Error('Type of text must be string or Array. "'+f+'" is not recognized.');typeof f=="string"&&(f=f.match(/[\r?\n]/)?f.split(/\r\n|\r|\n/g):[f]);var Ks=he/Qt.internal.scaleFactor,Js=Ks*(Gr-1);switch(G.baseline){case"bottom":M-=Js;break;case"top":M+=Ks-Js;break;case"hanging":M+=Ks-2*Js;break;case"middle":M+=Ks/2-Js}if((st=G.maxWidth||0)>0&&(typeof f=="string"?f=Qt.splitTextToSize(f,st):Object.prototype.toString.call(f)==="[object Array]"&&(f=f.reduce(function(Tt,Ct){return Tt.concat(Qt.splitTextToSize(Ct,st))},[]))),xe={text:f,x:A,y:M,options:G,mutex:{pdfEscape:Dr,activeFontKey:Je,fonts:ut,activeFontSize:he}},wt.publish("preProcessText",xe),f=xe.text,qe=(G=xe.options).angle,!(qt instanceof Xe)&&qe&&typeof qe=="number"){qe*=Math.PI/180,G.rotationDirection===0&&(qe=-qe),I===E.ADVANCED&&(qe=-qe);var Ys=Math.cos(qe),ra=Math.sin(qe);qt=new Xe(Ys,ra,-ra,Ys,0,0)}else qe&&qe instanceof Xe&&(qt=qe);I!==E.ADVANCED||qt||(qt=Un),(at=G.charSpace||zs)!==void 0&&(ar+=X(R(at))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dt=G.horizontalScale)!==void 0&&(ar+=X(100*Dt)+` Tz
`),G.lang;var Br=-1,xu=G.renderingMode!==void 0?G.renderingMode:G.stroke,na=Qt.internal.getCurrentPageInfo().pageContext;switch(xu){case 0:case!1:case"fill":Br=0;break;case 1:case!0:case"stroke":Br=1;break;case 2:case"fillThenStroke":Br=2;break;case 3:case"invisible":Br=3;break;case 4:case"fillAndAddForClipping":Br=4;break;case 5:case"strokeAndAddPathForClipping":Br=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Br=6;break;case 7:case"addToPathForClipping":Br=7}var bl=na.usedRenderingMode!==void 0?na.usedRenderingMode:-1;Br!==-1?ar+=Br+` Tr
`:bl!==-1&&(ar+=`0 Tr
`),Br!==-1&&(na.usedRenderingMode=Br),Ke=G.align||"left";var an,Xs=he*Gr,wl=Qt.internal.pageSize.getWidth(),_l=ut[Je];at=G.charSpace||zs,st=G.maxWidth||0,gt=Object.assign({autoencode:!0,noBOM:!0},G.flags);var ki=[],ss=function(Tt){return Qt.getStringUnitWidth(Tt,{font:_l,charSpace:at,fontSize:he,doKerning:!1})*he/Wn};if(Object.prototype.toString.call(f)==="[object Array]"){var Mr;Te=Zo(f),Ke!=="left"&&(an=Te.map(ss));var kr,Ei=0;if(Ke==="right"){A-=an[0],f=[],fr=Te.length;for(var li=0;li<fr;li++)li===0?(kr=Hn(A),Mr=ai(M)):(kr=R(Ei-an[li]),Mr=-Xs),f.push([Te[li],kr,Mr]),Ei=an[li]}else if(Ke==="center"){A-=an[0]/2,f=[],fr=Te.length;for(var ci=0;ci<fr;ci++)ci===0?(kr=Hn(A),Mr=ai(M)):(kr=R((Ei-an[ci])/2),Mr=-Xs),f.push([Te[ci],kr,Mr]),Ei=an[ci]}else if(Ke==="left"){f=[],fr=Te.length;for(var Zs=0;Zs<fr;Zs++)f.push(Te[Zs])}else if(Ke==="justify"&&_l.encoding==="Identity-H"){f=[],fr=Te.length,st=st!==0?st:wl;for(var ui=0,Vt=0;Vt<fr;Vt++)if(Mr=Vt===0?ai(M):-Xs,kr=Vt===0?Hn(A):ui,Vt<fr-1){var ia=R((st-an[Vt])/(Te[Vt].split(" ").length-1)),Er=Te[Vt].split(" ");f.push([Er[0]+" ",kr,Mr]),ui=0;for(var ln=1;ln<Er.length;ln++){var Qs=(ss(Er[ln-1]+" "+Er[ln])-ss(Er[ln]))*Wn+ia;ln==Er.length-1?f.push([Er[ln],Qs,0]):f.push([Er[ln]+" ",Qs,0]),ui-=Qs}}else f.push([Te[Vt],kr,Mr]);f.push(["",ui,0])}else{if(Ke!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(f=[],fr=Te.length,st=st!==0?st:wl,Vt=0;Vt<fr;Vt++)Mr=Vt===0?ai(M):-Xs,kr=Vt===0?Hn(A):0,Vt<fr-1?ki.push(X(R((st-an[Vt])/(Te[Vt].split(" ").length-1)))):ki.push(0),f.push([Te[Vt],kr,Mr])}}var Sl=typeof G.R2L=="boolean"?G.R2L:Le;Sl===!0&&(f=Qo(f,function(Tt,Ct,Gt){return[Tt.split("").reverse().join(""),Ct,Gt]})),xe={text:f,x:A,y:M,options:G,mutex:{pdfEscape:Dr,activeFontKey:Je,fonts:ut,activeFontSize:he}},wt.publish("postProcessText",xe),f=xe.text,xn=xe.mutex.isHex||!1;var sa=ut[Je].encoding;sa!=="WinAnsiEncoding"&&sa!=="StandardEncoding"||(f=Qo(f,function(Tt,Ct,Gt){return[yl(Tt),Ct,Gt]})),Te=Zo(f),f=[];for(var os,as,Pi,ls=0,eo=1,cs=Array.isArray(Te[0])?eo:ls,Oi="",oa=function(Tt,Ct,Gt){var sr="";return Gt instanceof Xe?(Gt=typeof G.angle=="number"?yn(Gt,new Xe(1,0,0,1,Tt,Ct)):yn(new Xe(1,0,0,1,Tt,Ct),Gt),I===E.ADVANCED&&(Gt=yn(new Xe(1,0,0,-1,0,0),Gt)),sr=Gt.join(" ")+` Tm
`):sr=X(Tt)+" "+X(Ct)+` Td
`,sr},cn=0;cn<Te.length;cn++){switch(Oi="",cs){case eo:Pi=(xn?"<":"(")+Te[cn][0]+(xn?">":")"),os=parseFloat(Te[cn][1]),as=parseFloat(Te[cn][2]);break;case ls:Pi=(xn?"<":"(")+Te[cn]+(xn?">":")"),os=Hn(A),as=ai(M)}ki!==void 0&&ki[cn]!==void 0&&(Oi=ki[cn]+` Tw
`),cn===0?f.push(Oi+oa(os,as,qt)+Pi):cs===ls?f.push(Oi+Pi):cs===eo&&f.push(Oi+oa(os,as,qt)+Pi)}f=cs===ls?f.join(` Tj
T* `):f.join(` Tj
`),f+=` Tj
`;var un=`BT
/`;return un+=Je+" "+he+` Tf
`,un+=X(he*Gr)+` TL
`,un+=ns+`
`,un+=ar,un+=f,O(un+="ET"),v[Je]=!0,Qt};var gu=g.__private__.clip=g.clip=function(f){return O(f==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return gu("evenodd")},g.__private__.discardPath=g.discardPath=function(){return O("n"),this};var zn=g.__private__.isValidStyle=function(f){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(f)!==-1&&(A=!0),A};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(f){return zn(f)&&(h=f),this};var ul=g.__private__.getStyle=g.getStyle=function(f){var A=h;switch(f){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=f}return A},hl=g.close=function(){return O("h"),this};g.stroke=function(){return O("S"),this},g.fill=function(f){return qs("f",f),this},g.fillEvenOdd=function(f){return qs("f*",f),this},g.fillStroke=function(f){return qs("B",f),this},g.fillStrokeEvenOdd=function(f){return qs("B*",f),this};var qs=function(f,A){Nt(A)==="object"?vu(A,f):O(f)},$o=function(f){f===null||I===E.ADVANCED&&f===void 0||(f=ul(f),O(f))};function mu(f,A,M,G,le){var xe=new Ao(A||this.boundingBox,M||this.xStep,G||this.yStep,this.gState,le||this.matrix);xe.stream=this.stream;var Te=f+"$$"+this.cloneIndex+++"$$";return Fr(Te,xe),xe}var vu=function(f,A){var M=Zi[f.key],G=bt[M];if(G instanceof _s)O("q"),O(yu(A)),G.gState&&g.setGState(G.gState),O(f.matrix.toString()+" cm"),O("/"+M+" sh"),O("Q");else if(G instanceof Ao){var le=new Xe(1,0,0,-1,0,Li());f.matrix&&(le=le.multiply(f.matrix||Un),M=mu.call(G,f.key,f.boundingBox,f.xStep,f.yStep,le).id),O("q"),O("/Pattern cs"),O("/"+M+" scn"),G.gState&&g.setGState(G.gState),O(A),O("Q")}},yu=function(f){switch(f){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},zo=g.moveTo=function(f,A){return O(X(R(f))+" "+X(z(A))+" m"),this},ts=g.lineTo=function(f,A){return O(X(R(f))+" "+X(z(A))+" l"),this},xi=g.curveTo=function(f,A,M,G,le,xe){return O([X(R(f)),X(z(A)),X(R(M)),X(z(G)),X(R(le)),X(z(xe)),"c"].join(" ")),this};g.__private__.line=g.line=function(f,A,M,G,le){if(isNaN(f)||isNaN(A)||isNaN(M)||isNaN(G)||!zn(le))throw new Error("Invalid arguments passed to jsPDF.line");return I===E.COMPAT?this.lines([[M-f,G-A]],f,A,[1,1],le||"S"):this.lines([[M-f,G-A]],f,A,[1,1]).stroke()},g.__private__.lines=g.lines=function(f,A,M,G,le,xe){var Te,qe,Ke,at,st,gt,Dt,qt,Qt,vr,ar,xn;if(typeof f=="number"&&(xn=M,M=A,A=f,f=xn),G=G||[1,1],xe=xe||!1,isNaN(A)||isNaN(M)||!Array.isArray(f)||!Array.isArray(G)||!zn(le)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(zo(A,M),Te=G[0],qe=G[1],at=f.length,vr=A,ar=M,Ke=0;Ke<at;Ke++)(st=f[Ke]).length===2?(vr=st[0]*Te+vr,ar=st[1]*qe+ar,ts(vr,ar)):(gt=st[0]*Te+vr,Dt=st[1]*qe+ar,qt=st[2]*Te+vr,Qt=st[3]*qe+ar,vr=st[4]*Te+vr,ar=st[5]*qe+ar,xi(gt,Dt,qt,Qt,vr,ar));return xe&&hl(),$o(le),this},g.path=function(f){for(var A=0;A<f.length;A++){var M=f[A],G=M.c;switch(M.op){case"m":zo(G[0],G[1]);break;case"l":ts(G[0],G[1]);break;case"c":xi.apply(this,G);break;case"h":hl()}}return this},g.__private__.rect=g.rect=function(f,A,M,G,le){if(isNaN(f)||isNaN(A)||isNaN(M)||isNaN(G)||!zn(le))throw new Error("Invalid arguments passed to jsPDF.rect");return I===E.COMPAT&&(G=-G),O([X(R(f)),X(z(A)),X(R(M)),X(R(G)),"re"].join(" ")),$o(le),this},g.__private__.triangle=g.triangle=function(f,A,M,G,le,xe,Te){if(isNaN(f)||isNaN(A)||isNaN(M)||isNaN(G)||isNaN(le)||isNaN(xe)||!zn(Te))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[M-f,G-A],[le-M,xe-G],[f-le,A-xe]],f,A,[1,1],Te,!0),this},g.__private__.roundedRect=g.roundedRect=function(f,A,M,G,le,xe,Te){if(isNaN(f)||isNaN(A)||isNaN(M)||isNaN(G)||isNaN(le)||isNaN(xe)||!zn(Te))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var qe=4/3*(Math.SQRT2-1);return le=Math.min(le,.5*M),xe=Math.min(xe,.5*G),this.lines([[M-2*le,0],[le*qe,0,le,xe-xe*qe,le,xe],[0,G-2*xe],[0,xe*qe,-le*qe,xe,-le,xe],[2*le-M,0],[-le*qe,0,-le,-xe*qe,-le,-xe],[0,2*xe-G],[0,-xe*qe,le*qe,-xe,le,-xe]],f+le,A,[1,1],Te,!0),this},g.__private__.ellipse=g.ellipse=function(f,A,M,G,le){if(isNaN(f)||isNaN(A)||isNaN(M)||isNaN(G)||!zn(le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*M,Te=4/3*(Math.SQRT2-1)*G;return zo(f+M,A),xi(f+M,A-Te,f+xe,A-G,f,A-G),xi(f-xe,A-G,f-M,A-Te,f-M,A),xi(f-M,A+Te,f-xe,A+G,f,A+G),xi(f+xe,A+G,f+M,A+Te,f+M,A),$o(le),this},g.__private__.circle=g.circle=function(f,A,M,G){if(isNaN(f)||isNaN(A)||isNaN(M)||!zn(G))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(f,A,M,M,G)},g.setFont=function(f,A,M){return M&&(A=pe(A,M)),Je=al(f,A,{disableWarning:!1}),this};var bu=g.__private__.getFont=g.getFont=function(){return ut[al.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var f,A,M={};for(f in pt)if(pt.hasOwnProperty(f))for(A in M[f]=[],pt[f])pt[f].hasOwnProperty(A)&&M[f].push(A);return M},g.addFont=function(f,A,M,G,le){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?le=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(M=pe(M,G)),le=le||"Identity-H",Mo.call(this,f,A,M,le)};var rs,Ho=t.lineWidth||.200025,$s=g.__private__.getLineWidth=g.getLineWidth=function(){return Ho},fl=g.__private__.setLineWidth=g.setLineWidth=function(f){return Ho=f,O(X(R(f))+" w"),this};g.__private__.setLineDash=et.API.setLineDash=et.API.setLineDashPattern=function(f,A){if(f=f||[],A=A||0,isNaN(A)||!Array.isArray(f))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return f=f.map(function(M){return X(R(M))}).join(" "),A=X(R(A)),O("["+f+"] "+A+" d"),this};var dl=g.__private__.getLineHeight=g.getLineHeight=function(){return he*rs};g.__private__.getLineHeight=g.getLineHeight=function(){return he*rs};var pl=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(f){return typeof(f=f||1.15)=="number"&&(rs=f),this},gl=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return rs};pl(t.lineHeight);var Hn=g.__private__.getHorizontalCoordinate=function(f){return R(f)},ai=g.__private__.getVerticalCoordinate=function(f){return I===E.ADVANCED?f:it[D].mediaBox.topRightY-it[D].mediaBox.bottomLeftY-R(f)},wu=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(f){return X(Hn(f))},Ni=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(f){return X(ai(f))},An=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return wn(An)},g.__private__.setStrokeColor=g.setDrawColor=function(f,A,M,G){return An=_n({ch1:f,ch2:A,ch3:M,ch4:G,pdfColorType:"draw",precision:2}),O(An),this};var Wo=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return wn(Wo)},g.__private__.setFillColor=g.setFillColor=function(f,A,M,G){return Wo=_n({ch1:f,ch2:A,ch3:M,ch4:G,pdfColorType:"fill",precision:2}),O(Wo),this};var ns=t.textColor||"0 g",_u=g.__private__.getTextColor=g.getTextColor=function(){return wn(ns)};g.__private__.setTextColor=g.setTextColor=function(f,A,M,G){return ns=_n({ch1:f,ch2:A,ch3:M,ch4:G,pdfColorType:"text",precision:3}),this};var zs=t.charSpace,Su=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(zs||0)};g.__private__.setCharSpace=g.setCharSpace=function(f){if(isNaN(f))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return zs=f,this};var Vo=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(f){var A=g.CapJoinStyles[f];if(A===void 0)throw new Error("Line cap style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vo=A,O(A+" J"),this};var Go=0;g.__private__.setLineJoin=g.setLineJoin=function(f){var A=g.CapJoinStyles[f];if(A===void 0)throw new Error("Line join style of '"+f+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Go=A,O(A+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(f){if(f=f||0,isNaN(f))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return O(X(R(f))+" M"),this},g.GState=kc,g.setGState=function(f){(f=typeof f=="string"?Mt[vn[f]]:ml(null,f)).equals(ii)||(O("/"+f.id+" gs"),ii=f)};var ml=function(f,A){if(!f||!vn[f]){var M=!1;for(var G in Mt)if(Mt.hasOwnProperty(G)&&Mt[G].equals(A)){M=!0;break}if(M)A=Mt[G];else{var le="GS"+(Object.keys(Mt).length+1).toString(10);Mt[le]=A,A.id=le}return f&&(vn[f]=A.id),wt.publish("addGState",A),A}};g.addGState=function(f,A){return ml(f,A),this},g.saveGraphicsState=function(){return O("q"),Wr.push({key:Je,size:he,color:ns}),this},g.restoreGraphicsState=function(){O("Q");var f=Wr.pop();return Je=f.key,he=f.size,ns=f.color,ii=null,this},g.setCurrentTransformationMatrix=function(f){return O(f.toString()+" cm"),this},g.comment=function(f){return O("#"+f),this};var Hs=function(f,A){var M=f||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return M},set:function(xe){isNaN(xe)||(M=parseFloat(xe))}});var G=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return G},set:function(xe){isNaN(xe)||(G=parseFloat(xe))}});var le="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return le},set:function(xe){le=xe.toString()}}),this},Ko=function(f,A,M,G){Hs.call(this,f,A),this.type="rect";var le=M||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return le},set:function(Te){isNaN(Te)||(le=parseFloat(Te))}});var xe=G||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Te){isNaN(Te)||(xe=parseFloat(Te))}}),this},Jo=function(){this.page=Ut,this.currentPage=D,this.pages=Ie.slice(0),this.pagesContext=it.slice(0),this.x=kt,this.y=ft,this.matrix=jr,this.width=is(D),this.height=Li(D),this.outputDestination=B,this.id="",this.objectNumber=-1};Jo.prototype.restore=function(){Ut=this.page,D=this.currentPage,it=this.pagesContext,Ie=this.pages,kt=this.x,ft=this.y,jr=this.matrix,Yo(D,this.width),Xo(D,this.height),B=this.outputDestination};var vl=function(f,A,M,G,le){Mn.push(new Jo),Ut=D=0,Ie=[],kt=f,ft=A,jr=le,Uo([M,G])},Au=function(f){if(Bn[f])Mn.pop().restore();else{var A=new Jo,M="Xo"+(Object.keys(hr).length+1).toString(10);A.id=M,Bn[f]=M,hr[M]=A,wt.publish("addFormObject",A),Mn.pop().restore()}};for(var Ws in g.beginFormObject=function(f,A,M,G,le){return vl(f,A,M,G,le),this},g.endFormObject=function(f){return Au(f),this},g.doFormObject=function(f,A){var M=hr[Bn[f]];return O("q"),O(A.toString()+" cm"),O("/"+M.id+" Do"),O("Q"),this},g.getFormObject=function(f){var A=hr[Bn[f]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},g.save=function(f,A){return f=f||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(vs(Ms(oi()),f),typeof vs.unload=="function"&&tt.setTimeout&&setTimeout(vs.unload,911),this):new Promise(function(M,G){try{var le=vs(Ms(oi()),f);typeof vs.unload=="function"&&tt.setTimeout&&setTimeout(vs.unload,911),M(le)}catch(xe){G(xe.message)}})},et.API)et.API.hasOwnProperty(Ws)&&(Ws==="events"&&et.API.events.length?function(f,A){var M,G,le;for(le=A.length-1;le!==-1;le--)M=A[le][0],G=A[le][1],f.subscribe.apply(f,[M].concat(typeof G=="function"?[G]:G))}(wt,et.API.events):g[Ws]=et.API[Ws]);var is=g.getPageWidth=function(f){return(it[f=f||D].mediaBox.topRightX-it[f].mediaBox.bottomLeftX)/De},Yo=g.setPageWidth=function(f,A){it[f].mediaBox.topRightX=A*De+it[f].mediaBox.bottomLeftX},Li=g.getPageHeight=function(f){return(it[f=f||D].mediaBox.topRightY-it[f].mediaBox.bottomLeftY)/De},Xo=g.setPageHeight=function(f,A){it[f].mediaBox.topRightY=A*De+it[f].mediaBox.bottomLeftY};return g.internal={pdfEscape:Dr,getStyle:ul,getFont:bu,getFontSize:Ne,getCharSpace:Su,getTextColor:_u,getLineHeight:dl,getLineHeightFactor:gl,getLineWidth:$s,write:be,getHorizontalCoordinate:Hn,getVerticalCoordinate:ai,getCoordinateString:wu,getVerticalCoordinateString:Ni,collections:{},newObject:ir,newAdditionalObject:Ts,newObjectDeferred:Zt,newObjectDeferredBegin:Vr,getFilters:qn,putStream:on,events:wt,scaleFactor:De,pageSize:{getWidth:function(){return is(D)},setWidth:function(f){Yo(D,f)},getHeight:function(){return Li(D)},setHeight:function(f){Xo(D,f)}},encryptionOptions:d,encryption:mr,getEncryptor:du,output:Us,getNumberOfPages:lu,pages:Ie,out:O,f2:ne,f3:C,getPageInfo:cl,getPageInfoByObjId:nt,getCurrentPageInfo:pu,getPDFVersion:b,Point:Hs,Rectangle:Ko,Matrix:Xe,hasHotfix:ll},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return is(D)},set:function(f){Yo(D,f)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Li(D)},set:function(f){Xo(D,f)},enumerable:!0,configurable:!0}),ou.call(g,ae),Je="F1",sl(i,r),wt.publish("initialized"),g}wo.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},wo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wo.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},wo.prototype.processOwnerPassword=function(t,e){return sf(nf(e).substr(0,5),t)},wo.prototype.encryptor=function(t,e){var r=nf(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return sf(r,n)}},kc.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Nt(t)!==Nt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},et.API={events:[]},et.version="3.0.1";var zt=et.API,Mf=1,Os=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},po=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ot=function(t){return t.toFixed(2)},Mi=function(t){return t.toFixed(5)};zt.__acroform__={};var Hr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Bp=function(t){return t*Mf},Jn=function(t){var e=new s2,r=ze.internal.getHeight(t)||0,n=ze.internal.getWidth(t)||0;return e.BBox=[0,0,Number(ot(n)),Number(ot(r))],e},o_=zt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},a_=zt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},l_=zt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Kt=zt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return l_(t,e-1)},Jt=zt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return o_(t,e-1)},Yt=zt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return a_(t,e-1)},c_=zt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+a)||0,c.upperRight_X=r(i+o)||0,c.upperRight_Y=n(s)||0,[Number(ot(c.lowerLeft_X)),Number(ot(c.lowerLeft_Y)),Number(ot(c.upperRight_X)),Number(ot(c.upperRight_Y))]},u_=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=of(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+ot(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Jn(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},of=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(C){return C.split(`
`)}):i.map(function(C){return[C]});var s=r,o=ze.internal.getHeight(t)||0;o=o<0?-o:o;var a=ze.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(C,R,W){if(C+1<i.length){var z=R+" "+i[C+1][0];return Zl(z,t,W).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var h,d,m=Zl("3",t,s).height,v=t.multiline?o-s:(o-m)/2,g=v+=2,w=0,b=0,k=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zl(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var _="",E=0,I=0;I<i.length;I++)if(i.hasOwnProperty(I)){var $=!1;if(i[I].length!==1&&k!==i[I].length-1){if((m+2)*(E+2)+2>o)continue e;_+=i[I][k],$=!0,b=I,I--}else{_=(_+=i[I][k]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var te=parseInt(I),pe=c(te,_,s),X=I>=i.length-1;if(pe&&!X){_+=" ",k=0;continue}if(pe||X){if(X)b=te;else if(t.multiline&&(m+2)*(E+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(E+2)+2>o)continue e;b=te}}for(var U="",K=w;K<=b;K++){var ne=i[K];if(t.multiline){if(K===b){U+=ne[k]+" ",k=(k+1)%ne.length;continue}if(K===w){U+=ne[ne.length-1]+" ";continue}}U+=ne[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,d=Zl(U,t,s).width,t.textAlign){case"right":h=a-d-2;break;case"center":h=(a-d)/2;break;case"left":default:h=2}e+=ot(h)+" "+ot(g)+` Td
`,e+="("+Os(U)+`) Tj
`,e+=-ot(h)+` 0 Td
`,g=-(s+2),d=0,w=$?b:b+1,E++,_=""}break}return n.text=e,n.fontSize=s,n},Zl=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},h_={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},f_=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},d_=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),Nt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},p_=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Fn.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(h_)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Mf=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new o2,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&f_(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var o in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var a=n[o],c=[],h=a.Rect;if(a.Rect&&(a.Rect=c_(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ze.createDefaultAppearanceStream(a),Nt(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=h,a.hasAppearanceStream&&!a.appearanceStreamContent){var d=u_(a);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(a.appearanceStreamContent){var m="";for(var v in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(v)){var g=a.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var w=g[o];typeof w=="function"&&(w=w.call(i,a)),m+="/"+o+" "+w+" ",i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w)}}else typeof(w=g)=="function"&&(w=w.call(i,a)),m+="/"+o+" "+w,i.internal.acroformPlugin.xForms.indexOf(w)>=0||i.internal.acroformPlugin.xForms.push(w);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&d_(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},i2=zt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Nt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Os(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},yh=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Os(n(t))+")"},Zn=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Zn.prototype.toString=function(){return this.objId+" 0 R"},Zn.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Zn.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:i2(i,this.objId,this.scope)}):i instanceof Zn?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var s2=function(){Zn.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Hr(s2,Zn);var o2=function(){Zn.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Os(r(t))+")"}},set:function(r){t=r}})};Hr(o2,Zn);var Fn=function t(){Zn.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kt(e,3)},set:function(_){_?this.F=Jt(e,3):this.F=Yt(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Ec)return;s="FieldObject"+t.FieldNum++}var _=function(E){return E};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+Os(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Mf:h},set:function(_){h=_}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(_){d=_}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Ec||this instanceof Ls))return yh(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=_}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ur?v:yh(v,this.objId,this.scope)},set:function(_){_=_.toString(),v=this instanceof ur?_:_.substr(0,1)==="("?po(_.substr(1,_.length-2)):po(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur?po(v.substr(1,v.length-1)):v},set:function(_){_=_.toString(),v=this instanceof ur?"/"+_:_}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof ur?g:yh(g,this.objId,this.scope)},set:function(_){_=_.toString(),g=this instanceof ur?_:_.substr(0,1)==="("?po(_.substr(1,_.length-2)):po(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ur?po(g.substr(1,g.length-1)):g},set:function(_){_=_.toString(),g=this instanceof ur?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var w,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(_){_=!!_,b=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(w)return w},set:function(_){w=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,1)},set:function(_){_?this.Ff=Jt(this.Ff,1):this.Ff=Yt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,2)},set:function(_){_?this.Ff=Jt(this.Ff,2):this.Ff=Yt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,3)},set:function(_){_?this.Ff=Jt(this.Ff,3):this.Ff=Yt(this.Ff,3)}});var k=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(k!==null)return k},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');k=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(k){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:k=2;break;case"center":case 1:k=1;break;case"left":case 0:default:k=0}}})};Hr(Fn,Zn);var To=function(){Fn.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return i2(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,o,a){a||(a=1);for(var c,h=[];c=o.exec(s);)h.push(c[a]);return h}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,18)},set:function(r){r?this.Ff=Jt(this.Ff,18):this.Ff=Yt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Jt(this.Ff,19):this.Ff=Yt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,20)},set:function(r){r?(this.Ff=Jt(this.Ff,20),e.sort()):this.Ff=Yt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,22)},set:function(r){r?this.Ff=Jt(this.Ff,22):this.Ff=Yt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,23)},set:function(r){r?this.Ff=Jt(this.Ff,23):this.Ff=Yt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,27)},set:function(r){r?this.Ff=Jt(this.Ff,27):this.Ff=Yt(this.Ff,27)}}),this.hasAppearanceStream=!1};Hr(To,Fn);var Co=function(){To.call(this),this.fontName="helvetica",this.combo=!1};Hr(Co,To);var Ro=function(){Co.call(this),this.combo=!0};Hr(Ro,Co);var cc=function(){Ro.call(this),this.edit=!0};Hr(cc,Ro);var ur=function(){Fn.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,15)},set:function(r){r?this.Ff=Jt(this.Ff,15):this.Ff=Yt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,16)},set:function(r){r?this.Ff=Jt(this.Ff,16):this.Ff=Yt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,17)},set:function(r){r?this.Ff=Jt(this.Ff,17):this.Ff=Yt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,26)},set:function(r){r?this.Ff=Jt(this.Ff,26):this.Ff=Yt(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Os(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Nt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Hr(ur,Fn);var uc=function(){ur.call(this),this.pushButton=!0};Hr(uc,ur);var Io=function(){ur.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Hr(Io,ur);var Ec=function(){var t,e;Fn.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Os(i(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Nt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ze.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Hr(Ec,Fn),Io.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Io.prototype.createOption=function(t){var e=new Ec;return e.Parent=this,e.optionName=t,this.Kids.push(e),g_.call(this.scope,e),e};var hc=function(){ur.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ze.CheckBox.createAppearanceStream()};Hr(hc,ur);var Ls=function(){Fn.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,13)},set:function(e){e?this.Ff=Jt(this.Ff,13):this.Ff=Yt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,21)},set:function(e){e?this.Ff=Jt(this.Ff,21):this.Ff=Yt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,23)},set:function(e){e?this.Ff=Jt(this.Ff,23):this.Ff=Yt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,24)},set:function(e){e?this.Ff=Jt(this.Ff,24):this.Ff=Yt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,25)},set:function(e){e?this.Ff=Jt(this.Ff,25):this.Ff=Yt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,26)},set:function(e){e?this.Ff=Jt(this.Ff,26):this.Ff=Yt(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Hr(Ls,Fn);var fc=function(){Ls.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kt(this.Ff,14)},set:function(t){t?this.Ff=Jt(this.Ff,14):this.Ff=Yt(this.Ff,14)}}),this.password=!0};Hr(fc,Ls);var ze={CheckBox:{createAppearanceStream:function(){return{N:{On:ze.CheckBox.YesNormal},D:{On:ze.CheckBox.YesPushDown,Off:ze.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Jn(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=of(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+ot(ze.internal.getWidth(t))+" "+ot(ze.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+ot(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Jn(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=ze.internal.getHeight(t),o=ze.internal.getWidth(t),a=of(t,t.caption);return i.push("1 g"),i.push("0 0 "+ot(o)+" "+ot(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+ot(o-1)+" "+ot(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+ot(a.fontSize)+" Tf "+n),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Jn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ot(ze.internal.getWidth(t))+" "+ot(ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ze.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ze.RadioButton.Circle.YesNormal,e.D[t]=ze.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Jn(t);e.scope=t.scope;var r=[],n=ze.internal.getWidth(t)<=ze.internal.getHeight(t)?ze.internal.getWidth(t)/4:ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=ze.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Mi(ze.internal.getWidth(t)/2)+" "+Mi(ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jn(t);e.scope=t.scope;var r=[],n=ze.internal.getWidth(t)<=ze.internal.getHeight(t)?ze.internal.getWidth(t)/4:ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ze.internal.Bezier_C).toFixed(5)),o=Number((n*ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Mi(ze.internal.getWidth(t)/2)+" "+Mi(ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Mi(ze.internal.getWidth(t)/2)+" "+Mi(ze.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Jn(t);e.scope=t.scope;var r=[],n=ze.internal.getWidth(t)<=ze.internal.getHeight(t)?ze.internal.getWidth(t)/4:ze.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ze.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Mi(ze.internal.getWidth(t)/2)+" "+Mi(ze.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ze.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ze.RadioButton.Cross.YesNormal,e.D[t]=ze.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Jn(t);e.scope=t.scope;var r=[],n=ze.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+ot(ze.internal.getWidth(t)-2)+" "+ot(ze.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(ot(n.x1.x)+" "+ot(n.x1.y)+" m"),r.push(ot(n.x2.x)+" "+ot(n.x2.y)+" l"),r.push(ot(n.x4.x)+" "+ot(n.x4.y)+" m"),r.push(ot(n.x3.x)+" "+ot(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Jn(t);e.scope=t.scope;var r=ze.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+ot(ze.internal.getWidth(t))+" "+ot(ze.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+ot(ze.internal.getWidth(t)-2)+" "+ot(ze.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(ot(r.x1.x)+" "+ot(r.x1.y)+" m"),n.push(ot(r.x2.x)+" "+ot(r.x2.y)+" l"),n.push(ot(r.x4.x)+" "+ot(r.x4.y)+" m"),n.push(ot(r.x3.x)+" "+ot(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Jn(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+ot(ze.internal.getWidth(t))+" "+ot(ze.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};ze.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ze.internal.getWidth(t),r=ze.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},ze.internal.getWidth=function(t){var e=0;return Nt(t)==="object"&&(e=Bp(t.Rect[2])),e},ze.internal.getHeight=function(t){var e=0;return Nt(t)==="object"&&(e=Bp(t.Rect[3])),e};var g_=zt.addField=function(t){if(p_(this,t),!(t instanceof Fn))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};zt.AcroFormChoiceField=To,zt.AcroFormListBox=Co,zt.AcroFormComboBox=Ro,zt.AcroFormEditBox=cc,zt.AcroFormButton=ur,zt.AcroFormPushButton=uc,zt.AcroFormRadioButton=Io,zt.AcroFormCheckBox=hc,zt.AcroFormTextField=Ls,zt.AcroFormPasswordField=fc,zt.AcroFormAppearance=ze,zt.AcroForm={ChoiceField:To,ListBox:Co,ComboBox:Ro,EditBox:cc,Button:ur,PushButton:uc,RadioButton:Io,CheckBox:hc,TextField:Ls,PasswordField:fc,Appearance:ze},et.AcroForm={ChoiceField:To,ListBox:Co,ComboBox:Ro,EditBox:cc,Button:ur,PushButton:uc,RadioButton:Io,CheckBox:hc,TextField:Ls,PasswordField:fc,Appearance:ze};et.AcroForm;function a2(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(C,R){var W,z,ve,oe,ie,Q=e;if((R=R||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(pe(C))for(ie in r)for(ve=r[ie],W=0;W<ve.length;W+=1){for(oe=!0,z=0;z<ve[W].length;z+=1)if(ve[W][z]!==void 0&&ve[W][z]!==C[z]){oe=!1;break}if(oe===!0){Q=ie;break}}else for(ie in r)for(ve=r[ie],W=0;W<ve.length;W+=1){for(oe=!0,z=0;z<ve[W].length;z+=1)if(ve[W][z]!==void 0&&ve[W][z]!==C.charCodeAt(z)){oe=!1;break}if(oe===!0){Q=ie;break}}return Q===e&&R!==e&&(Q=R),Q},i=function C(R){for(var W=this.internal.write,z=this.internal.putStream,ve=(0,this.internal.getFilters)();ve.indexOf("FlateEncode")!==-1;)ve.splice(ve.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:R.width}),oe.push({key:"Height",value:R.height}),R.colorSpace===k.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===k.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var ie="",Q=0,ye=R.transparency.length;Q<ye;Q++)ie+=R.transparency[Q]+" "+R.transparency[Q]+" ";oe.push({key:"Mask",value:"["+ie+"]"})}R.sMask!==void 0&&oe.push({key:"SMask",value:R.objectId+1+" 0 R"});var we=R.filter!==void 0?["/"+R.filter]:void 0;if(z({data:R.data,additionalKeyValues:oe,alreadyAppliedFilters:we,objectId:R.objectId}),W("endobj"),"sMask"in R&&R.sMask!==void 0){var je="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,N={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:je,data:R.sMask};"filter"in R&&(N.filter=R.filter),C.call(this,N)}if(R.colorSpace===k.INDEXED){var D=this.internal.newObject();z({data:U(new Uint8Array(R.palette)),objectId:D}),W("endobj")}},s=function(){var C=this.internal.collections.addImage_images;for(var R in C)i.call(this,C[R])},o=function(){var C,R=this.internal.collections.addImage_images,W=this.internal.write;for(var z in R)W("/I"+(C=R[z]).index,C.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var C=this.internal.collections.addImage_images;return a.call(this),C},h=function(){return Object.keys(this.internal.collections.addImage_images).length},d=function(C){return typeof t["process"+C.toUpperCase()]=="function"},m=function(C){return Nt(C)==="object"&&C.nodeType===1},v=function(C,R){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var W=""+C.getAttribute("src");if(W.indexOf("data:image/")===0)return Oa(unescape(W).split("base64,").pop());var z=t.loadFile(W,!0);if(z!==void 0)return z}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var ve;switch(R){case"PNG":ve="image/png";break;case"WEBP":ve="image/webp";break;case"JPEG":case"JPG":default:ve="image/jpeg"}return Oa(C.toDataURL(ve,1).split("base64,").pop())}},g=function(C){var R=this.internal.collections.addImage_images;if(R){for(var W in R)if(C===R[W].alias)return R[W]}},w=function(C,R,W){return C||R||(C=-96,R=-96),C<0&&(C=-1*W.width*72/C/this.internal.scaleFactor),R<0&&(R=-1*W.height*72/R/this.internal.scaleFactor),C===0&&(C=R*W.width/W.height),R===0&&(R=C*W.height/W.width),[C,R]},b=function(C,R,W,z,ve,oe){var ie=w.call(this,W,z,ve),Q=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,we=c.call(this);if(W=ie[0],z=ie[1],we[ve.index]=ve,oe){oe*=Math.PI/180;var je=Math.cos(oe),N=Math.sin(oe),D=function(V){return V.toFixed(4)},q=[D(je),D(N),D(-1*N),D(je),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,Q(C),ye(R+z),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([Q(W),"0","0",Q(z),"0","0","cm"].join(" "))):this.internal.write([Q(W),"0","0",Q(z),Q(C),ye(R+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ve.index+" Do"),this.internal.write("Q")},k=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},E=t.__addimage__.sHashCode=function(C){var R,W,z=0;if(typeof C=="string")for(W=C.length,R=0;R<W;R++)z=(z<<5)-z+C.charCodeAt(R),z|=0;else if(pe(C))for(W=C.byteLength/2,R=0;R<W;R++)z=(z<<5)-z+C[R],z|=0;return z},I=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var R=!0;return C.length===0&&(R=!1),C.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(R=!1),R},$=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var R=C.indexOf(",");return R<0?null:C.substring(0,R).trim().endsWith("base64")?C.substring(R+1):null},te=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return te()&&C instanceof ArrayBuffer};var pe=t.__addimage__.isArrayBufferView=function(C){return te()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},X=t.__addimage__.binaryStringToUint8Array=function(C){for(var R=C.length,W=new Uint8Array(R),z=0;z<R;z++)W[z]=C.charCodeAt(z);return W},U=t.__addimage__.arrayBufferToBinaryString=function(C){for(var R="",W=pe(C)?C:new Uint8Array(C),z=0;z<W.length;z+=8192)R+=String.fromCharCode.apply(null,W.subarray(z,z+8192));return R};t.addImage=function(){var C,R,W,z,ve,oe,ie,Q,ye;if(typeof arguments[1]=="number"?(R=e,W=arguments[1],z=arguments[2],ve=arguments[3],oe=arguments[4],ie=arguments[5],Q=arguments[6],ye=arguments[7]):(R=arguments[1],W=arguments[2],z=arguments[3],ve=arguments[4],oe=arguments[5],ie=arguments[6],Q=arguments[7],ye=arguments[8]),Nt(C=arguments[0])==="object"&&!m(C)&&"imageData"in C){var we=C;C=we.imageData,R=we.format||R||e,W=we.x||W||0,z=we.y||z||0,ve=we.w||we.width||ve,oe=we.h||we.height||oe,ie=we.alias||ie,Q=we.compression||Q,ye=we.rotation||we.angle||ye}var je=this.internal.getFilters();if(Q===void 0&&je.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(W)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var N=K.call(this,C,R,ie,Q);return b.call(this,W,z,ve,oe,N,ye),this};var K=function(C,R,W,z){var ve,oe,ie;if(typeof C=="string"&&n(C)===e){C=unescape(C);var Q=ne(C,!1);(Q!==""||(Q=t.loadFile(C,!0))!==void 0)&&(C=Q)}if(m(C)&&(C=v(C,R)),R=n(C,R),!d(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((ie=W)==null||ie.length===0)&&(W=function(ye){return typeof ye=="string"||pe(ye)?E(ye):pe(ye.data)?E(ye.data):null}(C)),(ve=g.call(this,W))||(te()&&(C instanceof Uint8Array||R==="RGBA"||(oe=C,C=X(C))),ve=this["process"+R.toUpperCase()](C,h.call(this),W,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in t.image_compression?ye:_.NONE}(z),oe)),!ve)throw new Error("An unknown error occurred whilst processing the image.");return ve},ne=t.__addimage__.convertBase64ToBinaryString=function(C,R){R=typeof R!="boolean"||R;var W,z="";if(typeof C=="string"){var ve;W=(ve=$(C))!==null&&ve!==void 0?ve:C;try{z=Oa(W)}catch(oe){if(R)throw I(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(C){var R,W,z="";if(m(C)&&(C=v(C)),typeof C=="string"&&n(C)===e&&((z=ne(C,!1))===""&&(z=t.loadFile(C)||""),C=z),W=n(C),!d(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!te()||C instanceof Uint8Array||(C=X(C)),!(R=this["process"+W.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=W,R}})(et.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};et.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,d=!1,m=0;m<h.length&&!d;m++)switch((n=h[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var v=0;v<h.length;v++){n=h[v];var g=this.internal.pdfEscape,w=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),k=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(b.objId),E=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y)+"] ")+"/Contents ("+g(_(n.contents))+")",s+=" /Popup "+k.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+g(_(E))+") >>",b.content=s;var I=b.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(n.bounds.x+30)+" "+a(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+a(n.bounds.y)+"] ")+" /Parent "+I,n.open&&(s+=" /Open true"),s+=" >>",k.content=s,this.internal.write(b.objId,"0 R",k.objId,"0 R");break;case"freetext":i="/Rect ["+o(n.bounds.x)+" "+a(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+a(n.bounds.y+n.bounds.h)+"] ";var $=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+g(w(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var te=this.annotations._nameMap[n.options.name];n.options.pageNumber=te.page,n.options.top=te.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+g(w(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var pe=a(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+pe+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(r),y:h(n),w:c(r+i),h:h(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,i,s){var o,a,c=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var d=this.splitTextToSize(r,a).length;o=Math.ceil(h*d)}else a=c,o=h;return this.text(r,n,i,s),i+=.2*h,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-h,a,o,s),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(et.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(b){return e[b.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},a=t.__arabicParser__.isArabicEndLetter=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(b){return o(b)&&i.indexOf(b.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=1};var h=t.__arabicParser__.arabicLetterHasFinalForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length>=3};var d=t.__arabicParser__.arabicLetterHasMedialForm=function(b){return o(b)&&s(b)&&e[b.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(b){var k=0,_=r,E="",I=0;for(k=0;k<b.length;k+=1)_[b.charCodeAt(k)]!==void 0?(I++,typeof(_=_[b.charCodeAt(k)])=="number"&&(E+=String.fromCharCode(_),_=r,I=0),k===b.length-1&&(_=r,E+=b.charAt(k-(I-1)),k-=I-1,I=0)):(_=r,E+=b.charAt(k-I),k-=I,I=0);return E};t.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(b,k,_){return o(b)?s(b)===!1?-1:!h(b)||!o(k)&&!o(_)||!o(_)&&a(k)||a(b)&&!o(k)||a(b)&&c(k)||a(b)&&a(k)?0:d(b)&&o(k)&&!a(k)&&o(_)&&h(_)?3:a(b)||!o(_)?1:2:-1},g=function(b){var k=0,_=0,E=0,I="",$="",te="",pe=(b=b||"").split("\\s+"),X=[];for(k=0;k<pe.length;k+=1){for(X.push(""),_=0;_<pe[k].length;_+=1)I=pe[k][_],$=pe[k][_-1],te=pe[k][_+1],o(I)?(E=v(I,$,te),X[k]+=E!==-1?String.fromCharCode(e[I.charCodeAt(0)][E]):I):X[k]+=I;X[k]=m(X[k])}return X.join(" ")},w=t.__arabicParser__.processArabic=t.processArabic=function(){var b,k=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(k)){var E=0;for(_=[],E=0;E<k.length;E+=1)Array.isArray(k[E])?_.push([g(k[E][0]),k[E][1],k[E][2]]):_.push([g(k[E])]);b=_}else b=g(k);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};t.events.push(["preProcessText",w])}(et.API),et.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(a){r=a}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(a){n=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(et.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(b){m=b}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(b){v=b}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(b){g=b}});var w=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return w},set:function(b){w=b}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,h){n.call(this);var d=(h=h||{}).fontSize||this.getFontSize(),m=h.font||this.getFont(),v=h.scaleFactor||this.internal.scaleFactor,g=0,w=0,b=0,k=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var _=h.maxWidth;_>0?typeof c=="string"?c=this.splitTextToSize(c,_):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(I,$){return I.concat(k.splitTextToSize($,_))},[])):c=Array.isArray(c)?c:[c];for(var E=0;E<c.length;E++)g<(b=this.getStringUnitWidth(c[E],{font:m})*d)&&(g=b);return g!==0&&(w=c.length),{w:g/=v,h:Math.max((w*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var h=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===c.lineNumber?(c.x=(h.x||0)+(h.width||0),c.y=h.y||0):h.y+h.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,g&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=h.y+h.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};t.table=function(c,h,d,m,v){if(n.call(this),!d)throw new Error("No data for PDF table.");var g,w,b,k,_=[],E=[],I=[],$={},te={},pe=[],X=[],U=(v=v||{}).autoSize||!1,K=v.printHeaders!==!1,ne=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,C=v.margins||Object.assign({width:this.getPageWidth()},e),R=typeof v.padding=="number"?v.padding:3,W=v.headerBackgroundColor||"#c8c8c8",z=v.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=K,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=ne,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=z,this.setFontSize(ne),m==null)E=_=Object.keys(d[0]),I=_.map(function(){return"left"});else if(Array.isArray(m)&&Nt(m[0])==="object")for(_=m.map(function(we){return we.name}),E=m.map(function(we){return we.prompt||we.name||""}),I=m.map(function(we){return we.align||"left"}),g=0;g<m.length;g+=1)te[m[g].name]=m[g].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(E=_=m,I=_.map(function(){return"left"}));if(U||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<_.length;g+=1){for($[k=_[g]]=d.map(function(we){return we[k]}),this.setFont(void 0,"bold"),pe.push(this.getTextDimensions(E[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),w=$[k],this.setFont(void 0,"normal"),b=0;b<w.length;b+=1)pe.push(this.getTextDimensions(w[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);te[k]=Math.max.apply(null,pe)+R+R,pe=[]}if(K){var ve={};for(g=0;g<_.length;g+=1)ve[_[g]]={},ve[_[g]].text=E[g],ve[_[g]].align=I[g];var oe=a.call(this,ve,te);X=_.map(function(we){return new s(c,h,te[we],oe,ve[we].text,void 0,ve[we].align)}),this.setTableHeaderRow(X),this.printHeaderRow(1,!1)}var ie=m.reduce(function(we,je){return we[je.name]=je.align,we},{});for(g=0;g<d.length;g+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:g,data:d[g]},this);var Q=a.call(this,d[g],te);for(b=0;b<_.length;b+=1){var ye=d[g][_[b]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:g,col:b,data:ye},this),o.call(this,new s(c,h,te[_[b]],Q,ye,g+2,ie[_[b]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=h,this};var a=function(c,h){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(g){var w=c[g];return this.splitTextToSize(w.hasOwnProperty("text")?w.text:w,h[g]-d-d)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/v+d+d},this).reduce(function(g,w){return Math.max(g,w)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){d=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(d.y=this.internal.__cell__.margins.top||0,v.push(d)),d.lineNumber=c;var w=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,d),this.setTextColor(w)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(et.API);var l2={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},c2=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],af=a2(c2),u2=[100,200,300,400,500,600,700,800,900],m_=a2(u2);function lf(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return l2[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof af[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function Mp(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var v_={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Up={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qp(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function y_(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},v_,r.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=lf(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[n]))throw new Error("Could not find a font-family for the rule '"+qp(s)+"' and default family '"+n+"'.");if(o=function(c,h){if(h[c])return h[c];var d=af[c],m=d<=af.normal?-1:1,v=Mp(h,c2,d,m);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(s.stretch,o),o=function(c,h){if(h[c])return h[c];for(var d=l2[c],m=0;m<d.length;++m)if(h[d[m]])return h[d[m]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,h){if(h[c])return h[c];if(c===400&&h[500])return h[500];if(c===500&&h[400])return h[400];var d=m_[c],m=Mp(h,u2,d,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+qp(s)+"'.");return o}function $p(t){return t.trimLeft()}function b_(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function w_(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ql,zp,Hp,bh=["times"];(function(t){var e,r,n,i,s,o,a,c,h,d=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new c,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new o,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new o,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,h=new d}]);var m=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var D=N;Object.defineProperty(this,"pdf",{get:function(){return D}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(H){q=!!H}});var V=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return V},set:function(H){V=!!H}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(H){isNaN(H)||(ee=H)}});var ue=0;Object.defineProperty(this,"posY",{get:function(){return ue},set:function(H){isNaN(H)||(ue=H)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(H){var O;typeof H=="number"?O=[H,H,H,H]:((O=new Array(4))[0]=H[0],O[1]=H.length>=2?H[1]:O[0],O[2]=H.length>=3?H[2]:O[0],O[3]=H.length>=4?H[3]:O[1]),h.margin=O}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(H){ge=H}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(H){me=H}});var Re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Re},set:function(H){Re=H}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(H){H instanceof d&&(h=H)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(H){h.path=H}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(H){Ie=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var O;O=v(H),this.ctx.fillStyle=O.style,this.ctx.isFillTransparent=O.a===0,this.ctx.fillOpacity=O.a,this.pdf.setFillColor(O.r,O.g,O.b,{a:O.a}),this.pdf.setTextColor(O.r,O.g,O.b,{a:O.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var O=v(H);this.ctx.strokeStyle=O.style,this.ctx.isStrokeTransparent=O.a===0,this.ctx.strokeOpacity=O.a,O.a===0?this.pdf.setDrawColor(255,255,255):(O.a,this.pdf.setDrawColor(O.r,O.g,O.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var j=null;function B(H,O){if(j===null){var be=function(Ae){var ae=[];return Object.keys(Ae).forEach(function(he){Ae[he].forEach(function(ce){var Ne=null;switch(ce){case"bold":Ne={family:he,weight:"bold"};break;case"italic":Ne={family:he,style:"italic"};break;case"bolditalic":Ne={family:he,weight:"bold",style:"italic"};break;case"":case"normal":Ne={family:he}}Ne!==null&&(Ne.ref={name:he,style:ce},ae.push(Ne))})}),ae}(H.getFontList());j=function(Ae){for(var ae={},he=0;he<Ae.length;++he){var ce=lf(Ae[he]),Ne=ce.family,Le=ce.stretch,Ce=ce.style,Fe=ce.weight;ae[Ne]=ae[Ne]||{},ae[Ne][Le]=ae[Ne][Le]||{},ae[Ne][Le][Ce]=ae[Ne][Le][Ce]||{},ae[Ne][Le][Ce][Fe]=ce}return ae}(be.concat(O))}return j}var se=null;Object.defineProperty(this,"fontFaces",{get:function(){return se},set:function(H){j=null,se=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var O;if(this.ctx.font=H,(O=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(H))!==null){var be=O[1];O[2];var Ae=O[3],ae=O[4];O[5];var he=O[6],ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ae)[2];ae=Math.floor(ce==="px"?parseFloat(ae)*this.pdf.internal.scaleFactor:ce==="em"?parseFloat(ae)*this.pdf.getFontSize():parseFloat(ae)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ae);var Ne=function(He){var Je,De,kt=[],ft=He.trim();if(ft==="")return bh;if(ft in Up)return[Up[ft]];for(;ft!=="";){switch(De=null,Je=(ft=$p(ft)).charAt(0)){case'"':case"'":De=b_(ft.substring(1),Je);break;default:De=w_(ft)}if(De===null||(kt.push(De[0]),(ft=$p(De[1]))!==""&&ft.charAt(0)!==","))return bh;ft=ft.replace(/^,/,"")}return kt}(he);if(this.fontFaces){var Le=y_(B(this.pdf,this.fontFaces),Ne.map(function(He){return{family:He,stretch:"normal",weight:Ae,style:be}}));this.pdf.setFont(Le.ref.name,Le.ref.style)}else{var Ce="";(Ae==="bold"||parseInt(Ae,10)>=700||be==="bold")&&(Ce="bold"),be==="italic"&&(Ce+="italic"),Ce.length===0&&(Ce="normal");for(var Fe="",Ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},We=0;We<Ne.length;We++){if(this.pdf.internal.getFont(Ne[We],Ce,{noFallback:!0,disableWarning:!0})!==void 0){Fe=Ne[We];break}if(Ce==="bolditalic"&&this.pdf.internal.getFont(Ne[We],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fe=Ne[We],Ce="bold";else if(this.pdf.internal.getFont(Ne[We],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fe=Ne[We],Ce="normal";break}}if(Fe===""){for(var Ve=0;Ve<Ne.length;Ve++)if(Ue[Ne[Ve]]){Fe=Ue[Ne[Ve]];break}}Fe=Fe===""?"Times":Fe,this.pdf.setFont(Fe,Ce)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,je.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,je.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};m.prototype.setLineDash=function(N){this.lineDash=N},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){$.call(this,"fill",!1)},m.prototype.stroke=function(){$.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(N,D){if(isNaN(N)||isNaN(D))throw Pt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(N,D));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(N,D)},m.prototype.closePath=function(){var N=new o(0,0),D=0;for(D=this.path.length-1;D!==-1;D--)if(this.path[D].type==="begin"&&Nt(this.path[D+1])==="object"&&typeof this.path[D+1].x=="number"){N=new o(this.path[D+1].x,this.path[D+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(N.x,N.y)},m.prototype.lineTo=function(N,D){if(isNaN(N)||isNaN(D))throw Pt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(N,D));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},m.prototype.quadraticCurveTo=function(N,D,q,V){if(isNaN(q)||isNaN(V)||isNaN(N)||isNaN(D))throw Pt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new o(q,V)),ue=this.ctx.transform.applyToPoint(new o(N,D));this.path.push({type:"qct",x1:ue.x,y1:ue.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},m.prototype.bezierCurveTo=function(N,D,q,V,ee,ue){if(isNaN(ee)||isNaN(ue)||isNaN(N)||isNaN(D)||isNaN(q)||isNaN(V))throw Pt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(ee,ue)),me=this.ctx.transform.applyToPoint(new o(N,D)),Re=this.ctx.transform.applyToPoint(new o(q,V));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Re.x,y2:Re.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},m.prototype.arc=function(N,D,q,V,ee,ue){if(isNaN(N)||isNaN(D)||isNaN(q)||isNaN(V)||isNaN(ee))throw Pt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ue=!!ue,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(N,D));N=ge.x,D=ge.y;var me=this.ctx.transform.applyToPoint(new o(0,q)),Re=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(me.x-Re.x,2)+Math.pow(me.y-Re.y,2))}Math.abs(ee-V)>=2*Math.PI&&(V=0,ee=2*Math.PI),this.path.push({type:"arc",x:N,y:D,radius:q,startAngle:V,endAngle:ee,counterclockwise:ue})},m.prototype.arcTo=function(N,D,q,V,ee){throw new Error("arcTo not implemented.")},m.prototype.rect=function(N,D,q,V){if(isNaN(N)||isNaN(D)||isNaN(q)||isNaN(V))throw Pt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,D),this.lineTo(N+q,D),this.lineTo(N+q,D+V),this.lineTo(N,D+V),this.lineTo(N,D),this.lineTo(N+q,D),this.lineTo(N,D)},m.prototype.fillRect=function(N,D,q,V){if(isNaN(N)||isNaN(D)||isNaN(q)||isNaN(V))throw Pt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,D,q,V),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},m.prototype.strokeRect=function(N,D,q,V){if(isNaN(N)||isNaN(D)||isNaN(q)||isNaN(V))throw Pt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");w.call(this)||(this.beginPath(),this.rect(N,D,q,V),this.stroke())},m.prototype.clearRect=function(N,D,q,V){if(isNaN(N)||isNaN(D)||isNaN(q)||isNaN(V))throw Pt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,D,q,V))},m.prototype.save=function(N){N=typeof N!="boolean"||N;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(D),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var V=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=V}},m.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var D=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(D),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(N){var D,q,V,ee;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))D=0,q=0,V=0,ee=0;else{var ue=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(ue!==null)D=parseInt(ue[1]),q=parseInt(ue[2]),V=parseInt(ue[3]),ee=1;else if((ue=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)D=parseInt(ue[1]),q=parseInt(ue[2]),V=parseInt(ue[3]),ee=parseFloat(ue[4]);else{if(ee=1,typeof N=="string"&&N.charAt(0)!=="#"){var ge=new t2(N);N=ge.ok?ge.toHex():"#000000"}N.length===4?(D=N.substring(1,2),D+=D,q=N.substring(2,3),q+=q,V=N.substring(3,4),V+=V):(D=N.substring(1,3),q=N.substring(3,5),V=N.substring(5,7)),D=parseInt(D,16),q=parseInt(q,16),V=parseInt(V,16)}}return{r:D,g:q,b:V,a:ee,style:N}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},w=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(N,D,q,V){if(isNaN(D)||isNaN(q)||typeof N!="string")throw Pt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(V=isNaN(V)?void 0:V,!g.call(this)){var ee=Q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;R.call(this,{text:N,x:D,y:q,scale:ue,angle:ee,align:this.textAlign,maxWidth:V})}},m.prototype.strokeText=function(N,D,q,V){if(isNaN(D)||isNaN(q)||typeof N!="string")throw Pt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!w.call(this)){V=isNaN(V)?void 0:V;var ee=Q(this.ctx.transform.rotation),ue=this.ctx.transform.scaleX;R.call(this,{text:N,x:D,y:q,scale:ue,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:V})}},m.prototype.measureText=function(N){if(typeof N!="string")throw Pt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var D=this.pdf,q=this.pdf.internal.scaleFactor,V=D.internal.getFontSize(),ee=D.getStringUnitWidth(N)*V/D.internal.scaleFactor,ue=function(ge){var me=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new ue({width:ee*=Math.round(96*q/72*1e4)/1e4})},m.prototype.scale=function(N,D){if(isNaN(N)||isNaN(D))throw Pt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(N,0,0,D,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.rotate=function(N){if(isNaN(N))throw Pt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var D=new c(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(D)},m.prototype.translate=function(N,D){if(isNaN(N)||isNaN(D))throw Pt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,N,D);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.transform=function(N,D,q,V,ee,ue){if(isNaN(N)||isNaN(D)||isNaN(q)||isNaN(V)||isNaN(ee)||isNaN(ue))throw Pt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new c(N,D,q,V,ee,ue);this.ctx.transform=this.ctx.transform.multiply(ge)},m.prototype.setTransform=function(N,D,q,V,ee,ue){N=isNaN(N)?1:N,D=isNaN(D)?0:D,q=isNaN(q)?0:q,V=isNaN(V)?1:V,ee=isNaN(ee)?0:ee,ue=isNaN(ue)?0:ue,this.ctx.transform=new c(N,D,q,V,ee,ue)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(N,D,q,V,ee,ue,ge,me,Re){var Ie=this.pdf.getImageProperties(N),j=1,B=1,se=1,H=1;V!==void 0&&me!==void 0&&(se=me/V,H=Re/ee,j=Ie.width/V*me/V,B=Ie.height/ee*Re/ee),ue===void 0&&(ue=D,ge=q,D=0,q=0),V!==void 0&&me===void 0&&(me=V,Re=ee),V===void 0&&me===void 0&&(me=Ie.width,Re=Ie.height);for(var O,be=this.ctx.transform.decompose(),Ae=Q(be.rotate.shx),ae=new c,he=(ae=(ae=(ae=ae.multiply(be.translate)).multiply(be.skew)).multiply(be.scale)).applyToRectangle(new a(ue-D*se,ge-q*H,V*j,ee*B)),ce=k.call(this,he),Ne=[],Le=0;Le<ce.length;Le+=1)Ne.indexOf(ce[Le])===-1&&Ne.push(ce[Le]);if(I(Ne),this.autoPaging)for(var Ce=Ne[0],Fe=Ne[Ne.length-1],Ue=Ce;Ue<Fe+1;Ue++){this.pdf.setPage(Ue);var We=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ve=Ue===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=Ue===1?0:He+(Ue-2)*Je;if(this.ctx.clip_path.length!==0){var kt=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(O,this.posX+this.margin[3],-De+Ve+this.ctx.prevPageLastElemOffset),te.call(this,"fill",!0),this.path=kt}var ft=JSON.parse(JSON.stringify(he));ft=E([ft],this.posX+this.margin[3],-De+Ve+this.ctx.prevPageLastElemOffset)[0];var jr=(Ue>Ce||Ue<Fe)&&b.call(this);jr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],We,Je,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,Ae),jr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",he.x,he.y,he.w,he.h,null,null,Ae)};var k=function(N,D,q){var V=[];D=D||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":V.push(Math.floor((N.y+ee)/q)+1);break;case"arc":V.push(Math.floor((N.y+ee-N.radius)/q)+1),V.push(Math.floor((N.y+ee+N.radius)/q)+1);break;case"qct":var ue=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);V.push(Math.floor((ue.y+ee)/q)+1),V.push(Math.floor((ue.y+ue.h+ee)/q)+1);break;case"bct":var ge=we(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);V.push(Math.floor((ge.y+ee)/q)+1),V.push(Math.floor((ge.y+ge.h+ee)/q)+1);break;case"rect":V.push(Math.floor((N.y+ee)/q)+1),V.push(Math.floor((N.y+N.h+ee)/q)+1)}for(var me=0;me<V.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<V[me];)_.call(this);return V},_=function(){var N=this.fillStyle,D=this.strokeStyle,q=this.font,V=this.lineCap,ee=this.lineWidth,ue=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=D,this.font=q,this.lineCap=V,this.lineWidth=ee,this.lineJoin=ue},E=function(N,D,q){for(var V=0;V<N.length;V++)switch(N[V].type){case"bct":N[V].x2+=D,N[V].y2+=q;case"qct":N[V].x1+=D,N[V].y1+=q;case"mt":case"lt":case"arc":default:N[V].x+=D,N[V].y+=q}return N},I=function(N){return N.sort(function(D,q){return D-q})},$=function(N,D){for(var q,V,ee=this.fillStyle,ue=this.strokeStyle,ge=this.lineCap,me=this.lineWidth,Re=Math.abs(me*this.ctx.transform.scaleX),Ie=this.lineJoin,j=JSON.parse(JSON.stringify(this.path)),B=JSON.parse(JSON.stringify(this.path)),se=[],H=0;H<B.length;H++)if(B[H].x!==void 0)for(var O=k.call(this,B[H]),be=0;be<O.length;be+=1)se.indexOf(O[be])===-1&&se.push(O[be]);for(var Ae=0;Ae<se.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<se[Ae];)_.call(this);if(I(se),this.autoPaging)for(var ae=se[0],he=se[se.length-1],ce=ae;ce<he+1;ce++){this.pdf.setPage(ce),this.fillStyle=ee,this.strokeStyle=ue,this.lineCap=ge,this.lineWidth=Re,this.lineJoin=Ie;var Ne=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=ce===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=ce===1?0:Ce+(ce-2)*Fe;if(this.ctx.clip_path.length!==0){var We=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(q,this.posX+this.margin[3],-Ue+Le+this.ctx.prevPageLastElemOffset),te.call(this,N,!0),this.path=We}if(V=JSON.parse(JSON.stringify(j)),this.path=E(V,this.posX+this.margin[3],-Ue+Le+this.ctx.prevPageLastElemOffset),D===!1||ce===0){var Ve=(ce>ae||ce<he)&&b.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ne,Fe,null).clip().discardPath()),te.call(this,N,D),Ve&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Re,te.call(this,N,D),this.lineWidth=me;this.path=j},te=function(N,D){if((N!=="stroke"||D||!w.call(this))&&(N==="stroke"||D||!g.call(this))){for(var q,V,ee=[],ue=this.path,ge=0;ge<ue.length;ge++){var me=ue[ge];switch(me.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:me,deltas:[],abs:[]});break;case"lt":var Re=ee.length;if(ue[ge-1]&&!isNaN(ue[ge-1].x)&&(q=[me.x-ue[ge-1].x,me.y-ue[ge-1].y],Re>0)){for(;Re>=0;Re--)if(ee[Re-1].close!==!0&&ee[Re-1].begin!==!0){ee[Re-1].deltas.push(q),ee[Re-1].abs.push(me);break}}break;case"bct":q=[me.x1-ue[ge-1].x,me.y1-ue[ge-1].y,me.x2-ue[ge-1].x,me.y2-ue[ge-1].y,me.x-ue[ge-1].x,me.y-ue[ge-1].y],ee[ee.length-1].deltas.push(q);break;case"qct":var Ie=ue[ge-1].x+2/3*(me.x1-ue[ge-1].x),j=ue[ge-1].y+2/3*(me.y1-ue[ge-1].y),B=me.x+2/3*(me.x1-me.x),se=me.y+2/3*(me.y1-me.y),H=me.x,O=me.y;q=[Ie-ue[ge-1].x,j-ue[ge-1].y,B-ue[ge-1].x,se-ue[ge-1].y,H-ue[ge-1].x,O-ue[ge-1].y],ee[ee.length-1].deltas.push(q);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(me)}}V=D?null:N==="stroke"?"stroke":"fill";for(var be=!1,Ae=0;Ae<ee.length;Ae++)if(ee[Ae].arc)for(var ae=ee[Ae].abs,he=0;he<ae.length;he++){var ce=ae[he];ce.type==="arc"?U.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,D,!be):W.call(this,ce.x,ce.y),be=!0}else if(ee[Ae].close===!0)this.pdf.internal.out("h"),be=!1;else if(ee[Ae].begin!==!0){var Ne=ee[Ae].start.x,Le=ee[Ae].start.y;z.call(this,ee[Ae].deltas,Ne,Le),be=!0}V&&K.call(this,V),D&&ne.call(this)}},pe=function(N){var D=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=D*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-q;case"top":return N+D-q;case"hanging":return N+D-2*q;case"middle":return N+D/2-q;case"ideographic":return N;case"alphabetic":default:return N}},X=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(D,q){this.colorStops.push([D,q])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(N,D,q,V,ee,ue,ge,me,Re){for(var Ie=oe.call(this,q,V,ee,ue),j=0;j<Ie.length;j++){var B=Ie[j];j===0&&(Re?C.call(this,B.x1+N,B.y1+D):W.call(this,B.x1+N,B.y1+D)),ve.call(this,N,D,B.x2,B.y2,B.x3,B.y3,B.x4,B.y4)}me?ne.call(this):K.call(this,ge)},K=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ne=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(N,D){this.pdf.internal.out(r(N)+" "+n(D)+" m")},R=function(N){var D;switch(N.align){case"right":case"end":D="right";break;case"center":D="center";break;case"left":case"start":default:D="left"}var q=this.pdf.getTextDimensions(N.text),V=pe.call(this,N.y),ee=X.call(this,V)-q.h,ue=this.ctx.transform.applyToPoint(new o(N.x,V)),ge=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Re,Ie,j,B=this.ctx.transform.applyToRectangle(new a(N.x,V,q.w,q.h)),se=me.applyToRectangle(new a(N.x,ee,q.w,q.h)),H=k.call(this,se),O=[],be=0;be<H.length;be+=1)O.indexOf(H[be])===-1&&O.push(H[be]);if(I(O),this.autoPaging)for(var Ae=O[0],ae=O[O.length-1],he=Ae;he<ae+1;he++){this.pdf.setPage(he);var ce=he===1?this.posY+this.margin[0]:this.margin[0],Ne=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[2],Ce=Le-this.margin[0],Fe=this.pdf.internal.pageSize.width-this.margin[1],Ue=Fe-this.margin[3],We=he===1?0:Ne+(he-2)*Ce;if(this.ctx.clip_path.length!==0){var Ve=this.path;Re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=E(Re,this.posX+this.margin[3],-1*We+ce),te.call(this,"fill",!0),this.path=Ve}var He=E([JSON.parse(JSON.stringify(se))],this.posX+this.margin[3],-We+ce+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*N.scale),j=this.lineWidth,this.lineWidth=j*N.scale);var Je=this.autoPaging!=="text";if(Je||He.y+He.h<=Le){if(Je||He.y>=ce&&He.x<=Fe){var De=Je?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Fe-He.x)[0],kt=E([JSON.parse(JSON.stringify(B))],this.posX+this.margin[3],-We+ce+this.ctx.prevPageLastElemOffset)[0],ft=Je&&(he>Ae||he<ae)&&b.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Ce,null).clip().discardPath()),this.pdf.text(De,kt.x,kt.y,{angle:N.angle,align:D,renderingMode:N.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else He.y<Le&&(this.ctx.prevPageLastElemOffset+=Le-He.y);N.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=j)}else N.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*N.scale),j=this.lineWidth,this.lineWidth=j*N.scale),this.pdf.text(N.text,ue.x+this.posX,ue.y+this.posY,{angle:N.angle,align:D,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=j)},W=function(N,D,q,V){q=q||0,V=V||0,this.pdf.internal.out(r(N+q)+" "+n(D+V)+" l")},z=function(N,D,q){return this.pdf.lines(N,D,q,null,null)},ve=function(N,D,q,V,ee,ue,ge,me){this.pdf.internal.out([e(i(q+N)),e(s(V+D)),e(i(ee+N)),e(s(ue+D)),e(i(ge+N)),e(s(me+D)),"c"].join(" "))},oe=function(N,D,q,V){for(var ee=2*Math.PI,ue=Math.PI/2;D>q;)D-=ee;var ge=Math.abs(q-D);ge<ee&&V&&(ge=ee-ge);for(var me=[],Re=V?-1:1,Ie=D;ge>1e-5;){var j=Ie+Re*Math.min(ge,ue);me.push(ie.call(this,N,Ie,j)),ge-=Math.abs(j-Ie),Ie=j}return me},ie=function(N,D,q){var V=(q-D)/2,ee=N*Math.cos(V),ue=N*Math.sin(V),ge=ee,me=-ue,Re=ge*ge+me*me,Ie=Re+ge*ee+me*ue,j=4/3*(Math.sqrt(2*Re*Ie)-Ie)/(ge*ue-me*ee),B=ge-j*me,se=me+j*ge,H=B,O=-se,be=V+D,Ae=Math.cos(be),ae=Math.sin(be);return{x1:N*Math.cos(D),y1:N*Math.sin(D),x2:B*Ae-se*ae,y2:B*ae+se*Ae,x3:H*Ae-O*ae,y3:H*ae+O*Ae,x4:N*Math.cos(q),y4:N*Math.sin(q)}},Q=function(N){return 180*N/Math.PI},ye=function(N,D,q,V,ee,ue){var ge=N+.5*(q-N),me=D+.5*(V-D),Re=ee+.5*(q-ee),Ie=ue+.5*(V-ue),j=Math.min(N,ee,ge,Re),B=Math.max(N,ee,ge,Re),se=Math.min(D,ue,me,Ie),H=Math.max(D,ue,me,Ie);return new a(j,se,B-j,H-se)},we=function(N,D,q,V,ee,ue,ge,me){var Re,Ie,j,B,se,H,O,be,Ae,ae,he,ce,Ne,Le,Ce=q-N,Fe=V-D,Ue=ee-q,We=ue-V,Ve=ge-ee,He=me-ue;for(Ie=0;Ie<41;Ie++)Ae=(O=(j=N+(Re=Ie/40)*Ce)+Re*((se=q+Re*Ue)-j))+Re*(se+Re*(ee+Re*Ve-se)-O),ae=(be=(B=D+Re*Fe)+Re*((H=V+Re*We)-B))+Re*(H+Re*(ue+Re*He-H)-be),Ie==0?(he=Ae,ce=ae,Ne=Ae,Le=ae):(he=Math.min(he,Ae),ce=Math.min(ce,ae),Ne=Math.max(Ne,Ae),Le=Math.max(Le,ae));return new a(Math.round(he),Math.round(ce),Math.round(Ne-he),Math.round(Le-ce))},je=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,D,q=(N=this.ctx.lineDash,D=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:D}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(et.API),function(t){var e=function(s){var o,a,c,h,d,m,v,g,w,b;for(a=[],c=0,h=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;h>c;c+=4)(d=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(m=(d=((d=((d=((d=(d-(b=d%85))/85)-(w=d%85))/85)-(g=d%85))/85)-(v=d%85))/85)%85,a.push(m+33,v+33,g+33,w+33,b+33)):a.push(122);return function(k,_){for(var E=_;E>0;E--)k.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},r=function(s){var o,a,c,h,d,m=String,v="length",g=255,w="charCodeAt",b="slice",k="replace";for(s[b](-2),s=s[b](0,-2)[k](/\s/g,"")[k]("z","!!!!!"),c=[],h=0,d=(s+=o="uuuuu"[b](s[v]%5||5))[v];d>h;h+=5)a=52200625*(s[w](h)-33)+614125*(s[w](h+1)-33)+7225*(s[w](h+2)-33)+85*(s[w](h+3)-33)+(s[w](h+4)-33),c.push(g&a>>24,g&a>>16,g&a>>8,g&a);return function(_,E){for(var I=E;I>0;I--)_.pop()}(c,o[v]),m.fromCharCode.apply(m,c)},n=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",c=0;c<s.length;c+=2)a+=String.fromCharCode("0x"+(s[c]+s[c+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=tf(o)).reduce(function(c,h){return c+String.fromCharCode(h)},"")};t.processDataByFilters=function(s,o){var a=0,c=s||"",h=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),h.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),h.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),h.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(d){return("0"+d.charCodeAt().toString(16)).slice(-2)}).join("")+">",h.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),h.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:c,reverseChain:h.reverse().join(" ")}}}(et.API),function(t){t.loadFile=function(e,r,n){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,h,d){var m=new XMLHttpRequest,v=0,g=function(w){var b=w.length,k=[],_=String.fromCharCode;for(v=0;v<b;v+=1)k.push(_(255&w.charCodeAt(v)));return k.join("")};if(m.open("GET",c,!h),m.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(m.onload=function(){m.status===200?d(g(this.responseText)):d(void 0)}),m.send(null),h&&m.status===200)return g(m.responseText)}(i,s,o)}catch{}return a}(e,r,n)},t.loadImageFile=t.loadFile}(et.API),function(t){function e(){return(tt.html2canvas?Promise.resolve(tt.html2canvas):Yh(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function r(){return(tt.DOMPurify?Promise.resolve(tt.DOMPurify):Yh(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var n=function(o){var a=Nt(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var c=document.createElement(o);for(var h in a.className&&(c.className=a.className),a.innerHTML&&a.dompurify&&(c.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)c.style[h]=a.style[h];return c},s=function o(a){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),h=o.convert(Promise.resolve(),c);return h=(h=h.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function c(h,d){for(var m=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),v=h.firstChild;v;v=v.nextSibling)d!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||m.appendChild(c(v,d));return h.nodeType===1&&(h.nodeName==="CANVAS"?(m.width=h.width,m.height=h.height,m.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(m.value=h.value),m.addEventListener("load",function(){m.scrollTop=h.scrollTop,m.scrollLeft=h.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,a(this.prop.container,c)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=this.opt.jsPDF,h=this.opt.fontFaces,d=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:d,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=h,h)for(var v=0;v<h.length;++v){var g=h[v],w=g.src.find(function(b){return b.format==="truetype"});w&&c.addFont(w.url,g.ref.name,g.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),a(this.prop.container,m)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(n(o)!=="object")return this;var a=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(n(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(c,h){return Math.floor(c*h/72*96)}return this.then(function(){(o=o||et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,c,h){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),c!=null&&(this.progress.n=c),h!=null&&(this.progress.stack=h),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,c,h){return this.setProgress(o?this.progress.val+o:null,a||null,c?this.progress.n+c:null,h?this.progress.stack.concat(h):null)},s.prototype.then=function(o,a){var c=this;return this.thenCore(o,a,function(h,d){return c.updateProgress(null,null,1,[h]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,h),m}).then(h,d).then(function(m){return c.updateProgress(1),m})})},s.prototype.thenCore=function(o,a,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var h=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),d=c.call(h,o,a);return s.convert(d,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(c){a=a.thenCore(c)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,et.getPageSize=function(o,a,c){if(Nt(o)==="object"){var h=o;o=h.orientation,a=h.unit||a,c=h.format||c}a=a||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var d,m=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":d=1;break;case"mm":d=72/25.4;break;case"cm":d=72/2.54;break;case"in":d=72;break;case"px":d=.75;break;case"pc":case"em":d=12;break;case"ex":d=6;break;default:throw"Invalid unit: "+a}var g,w=0,b=0;if(v.hasOwnProperty(m))w=v[m][1]/d,b=v[m][0]/d;else try{w=c[1],b=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",b>w&&(g=b,b=w,w=g);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",w>b&&(g=b,b=w,w=g)}return{width:b,height:w,unit:a,k:d,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(lf):null;var c=new s(a);return a.worker?c:c.from(o).doCallback()}}(et.API),et.API.addJS=function(t){return Hp=t,this.internal.events.subscribe("postPutResources",function(){Ql=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ql+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zp=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Hp+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ql!==void 0&&zp!==void 0&&this.internal.out("/Names <</JavaScript "+Ql+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=n.exec(o);if(a!=null){var c=a[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,d=[];for(s=0;s<h;s++){var m=r.internal.newObject();d.push(m);var v=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<d.length;s++)r.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var o={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(et.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,o,a){var c,h=this.decode.DCT_DECODE,d=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(m){for(var v,g=256*m.charCodeAt(4)+m.charCodeAt(5),w=m.length,b={width:0,height:0,numcomponents:1},k=4;k<w;k+=2){if(k+=g,e.indexOf(m.charCodeAt(k+1))!==-1){v=256*m.charCodeAt(k+5)+m.charCodeAt(k+6),b={width:256*m.charCodeAt(k+7)+m.charCodeAt(k+8),height:v,numcomponents:m.charCodeAt(k+9)};break}g=256*m.charCodeAt(k+2)+m.charCodeAt(k+3)}return b}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}d={data:r,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:h,index:n,alias:i}}return d}}(et.API);var go,ec,Wp,Vp,Gp,__=function(){var t,e,r;function n(s){var o,a,c,h,d,m,v,g,w,b,k,_,E,I;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(o=this.readUInt32(),w=(function(){var $,te;for(te=[],$=0;$<4;++$)te.push(String.fromCharCode(this.data[this.pos++]));return te}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},d=this.readUInt16(),h=this.readUInt16()||100,m.delay=1e3*d/h,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(w==="fdAT"&&(this.pos+=4,o-=4),s=(m!=null?m.data:void 0)||this.imgData,_=0;0<=o?_<o:_>o;0<=o?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((b=c-this.transparency.indexed.length)>0)for(E=0;0<=b?E<b:E>b;0<=b?++E:--E)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":v=(k=this.read(o)).indexOf(0),g=String.fromCharCode.apply(String,k.slice(0,v)),this.text[g]=String.fromCharCode.apply(String,k.slice(v+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(I=this.colorType)===4||I===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),c=0,h=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function d(m,v,g,w){var b,k,_,E,I,$,te,pe,X,U,K,ne,C,R,W,z,ve,oe,ie,Q,ye,we=Math.ceil((h.width-m)/g),je=Math.ceil((h.height-v)/w),N=h.width==we&&h.height==je;for(R=o*we,ne=N?a:new Uint8Array(R*je),$=s.length,C=0,k=0;C<je&&c<$;){switch(s[c++]){case 0:for(E=ve=0;ve<R;E=ve+=1)ne[k++]=s[c++];break;case 1:for(E=oe=0;oe<R;E=oe+=1)b=s[c++],I=E<o?0:ne[k-o],ne[k++]=(b+I)%256;break;case 2:for(E=ie=0;ie<R;E=ie+=1)b=s[c++],_=(E-E%o)/o,W=C&&ne[(C-1)*R+_*o+E%o],ne[k++]=(W+b)%256;break;case 3:for(E=Q=0;Q<R;E=Q+=1)b=s[c++],_=(E-E%o)/o,I=E<o?0:ne[k-o],W=C&&ne[(C-1)*R+_*o+E%o],ne[k++]=(b+Math.floor((I+W)/2))%256;break;case 4:for(E=ye=0;ye<R;E=ye+=1)b=s[c++],_=(E-E%o)/o,I=E<o?0:ne[k-o],C===0?W=z=0:(W=ne[(C-1)*R+_*o+E%o],z=_&&ne[(C-1)*R+(_-1)*o+E%o]),te=I+W-z,pe=Math.abs(te-I),U=Math.abs(te-W),K=Math.abs(te-z),X=pe<=U&&pe<=K?I:U<=K?W:z,ne[k++]=(b+X)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!N){var D=((v+C*w)*h.width+m)*o,q=C*R;for(E=0;E<we;E+=1){for(var V=0;V<o;V+=1)a[D++]=ne[q++];D+=(g-1)*o}}C++}}return s=Qw(s),h.interlaceMethod==1?(d(0,0,8,8),d(4,0,8,8),d(0,4,4,8),d(2,0,4,4),d(0,2,2,4),d(1,0,2,2),d(0,1,1,2)):d(0,0,1,1),a},n.prototype.decodePalette=function(){var s,o,a,c,h,d,m,v,g;for(a=this.palette,d=this.transparency.indexed||[],h=new Uint8Array((d.length||0)+a.length),c=0,s=0,o=m=0,v=a.length;m<v;o=m+=3)h[c++]=a[o],h[c++]=a[o+1],h[c++]=a[o+2],h[c++]=(g=d[s++])!=null?g:255;return h},n.prototype.copyToImageData=function(s,o){var a,c,h,d,m,v,g,w,b,k,_;if(c=this.colors,b=null,a=this.hasAlphaChannel,this.palette.length&&(b=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),c=4,a=!0),w=(h=s.data||s).length,m=b||o,d=v=0,c===1)for(;d<w;)g=b?4*o[d/4]:v,k=m[g++],h[d++]=k,h[d++]=k,h[d++]=k,h[d++]=a?m[g++]:255,v=g;else for(;d<w;)g=b?4*o[d/4]:v,h[d++]=m[g++],h[d++]=m[g++],h[d++]=m[g++],h[d++]=a?m[g++]:255,v=g},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(tt)==="[object Window]"){try{e=tt.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var o,a,c,h,d,m,v,g;if(this.animation){for(g=[],a=d=0,m=(v=this.animation.frames).length;d<m;a=++d)o=v[a],c=s.createImageData(o.width,o.height),h=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,h),o.imageData=c,g.push(o.image=t(c));return g}},n.prototype.renderFrame=function(s,o){var a,c,h;return a=(c=this.animation.frames)[o],h=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(h!=null?h.disposeOp:void 0)===1?s.clearRect(h.xOffset,h.yOffset,h.width,h.height):(h!=null?h.disposeOp:void 0)===2&&s.putImageData(h.imageData,h.xOffset,h.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},n.prototype.animate=function(s){var o,a,c,h,d,m,v=this;return a=0,m=this.animation,h=m.numFrames,c=m.frames,d=m.numPlays,(o=function(){var g,w;if(g=a++%h,w=c[g],v.renderFrame(s,g),h>1&&a/h<d)return v.animation._timeout=setTimeout(o,w.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function S_(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var h=!0,d=[],m=0,v=null,g=0,w=null;for(this.width=r,this.height=n;h&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,w=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var b=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],(1&b)==0&&(v=null),g=b>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var k=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,I=t[e++]|t[e++]<<8,$=t[e++],te=$>>6&1,pe=1<<(7&$)+1,X=a,U=c,K=!1;$>>7&&(K=!0,X=e,U=pe,e+=3*pe);var ne=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}d.push({x:k,y:_,width:E,height:I,has_local_palette:K,palette_offset:X,palette_size:U,data_offset:ne,data_length:e-ne,transparent_index:v,interlaced:!!te,delay:m,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return w},this.frameInfo=function(R){if(R<0||R>=d.length)throw new Error("Frame index out of range.");return d[R]},this.decodeAndBlitFrameBGRA=function(R,W){var z=this.frameInfo(R),ve=z.width*z.height,oe=new Uint8Array(ve);Kp(t,z.data_offset,oe,ve);var ie=z.palette_offset,Q=z.transparent_index;Q===null&&(Q=256);var ye=z.width,we=r-ye,je=ye,N=4*(z.y*r+z.x),D=4*((z.y+z.height)*r+z.x),q=N,V=4*we;z.interlaced===!0&&(V+=4*r*7);for(var ee=8,ue=0,ge=oe.length;ue<ge;++ue){var me=oe[ue];if(je===0&&(je=ye,(q+=V)>=D&&(V=4*we+4*r*(ee-1),q=N+(ye+we)*(ee<<1),ee>>=1)),me===Q)q+=4;else{var Re=t[ie+3*me],Ie=t[ie+3*me+1],j=t[ie+3*me+2];W[q++]=j,W[q++]=Ie,W[q++]=Re,W[q++]=255}--je}},this.decodeAndBlitFrameRGBA=function(R,W){var z=this.frameInfo(R),ve=z.width*z.height,oe=new Uint8Array(ve);Kp(t,z.data_offset,oe,ve);var ie=z.palette_offset,Q=z.transparent_index;Q===null&&(Q=256);var ye=z.width,we=r-ye,je=ye,N=4*(z.y*r+z.x),D=4*((z.y+z.height)*r+z.x),q=N,V=4*we;z.interlaced===!0&&(V+=4*r*7);for(var ee=8,ue=0,ge=oe.length;ue<ge;++ue){var me=oe[ue];if(je===0&&(je=ye,(q+=V)>=D&&(V=4*we+4*r*(ee-1),q=N+(ye+we)*(ee<<1),ee>>=1)),me===Q)q+=4;else{var Re=t[ie+3*me],Ie=t[ie+3*me+1],j=t[ie+3*me+2];W[q++]=Re,W[q++]=Ie,W[q++]=j,W[q++]=255}--je}}}function Kp(t,e,r,n){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,c=i+1,h=(1<<c)-1,d=0,m=0,v=0,g=t[e++],w=new Int32Array(4096),b=null;;){for(;d<16&&g!==0;)m|=t[e++]<<d,d+=8,g===1?g=t[e++]:--g;if(d<c)break;var k=m&h;if(m>>=c,d-=c,k!==s){if(k===o)break;for(var _=k<a?k:b,E=0,I=_;I>s;)I=w[I]>>8,++E;var $=I;if(v+E+(_!==k?1:0)>n)return void Pt.log("Warning, gif stream longer than expected.");r[v++]=$;var te=v+=E;for(_!==k&&(r[v++]=$),I=_;E--;)I=w[I],r[--te]=255&I,I>>=8;b!==null&&a<4096&&(w[a++]=b<<8|$,a>=h+1&&c<12&&(++c,h=h<<1|1)),b=k}else a=o+1,h=(1<<(c=i+1))-1,b=null}return v!==n&&Pt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function wh(t){var e,r,n,i,s,o=Math.floor,a=new Array(64),c=new Array(64),h=new Array(64),d=new Array(64),m=new Array(65535),v=new Array(65535),g=new Array(64),w=new Array(64),b=[],k=0,_=7,E=new Array(64),I=new Array(64),$=new Array(64),te=new Array(256),pe=new Array(2048),X=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],ne=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ve=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(N,D){for(var q=0,V=0,ee=new Array,ue=1;ue<=16;ue++){for(var ge=1;ge<=N[ue];ge++)ee[D[V]]=[],ee[D[V]][0]=q,ee[D[V]][1]=ue,V++,q++;q*=2}return ee}function ie(N){for(var D=N[0],q=N[1]-1;q>=0;)D&1<<q&&(k|=1<<_),q--,--_<0&&(k==255?(Q(255),Q(0)):Q(k),_=7,k=0)}function Q(N){b.push(N)}function ye(N){Q(N>>8&255),Q(255&N)}function we(N,D,q,V,ee){for(var ue,ge=ee[0],me=ee[240],Re=function(ae,he){var ce,Ne,Le,Ce,Fe,Ue,We,Ve,He,Je,De=0;for(He=0;He<8;++He){ce=ae[De],Ne=ae[De+1],Le=ae[De+2],Ce=ae[De+3],Fe=ae[De+4],Ue=ae[De+5],We=ae[De+6];var kt=ce+(Ve=ae[De+7]),ft=ce-Ve,jr=Ne+We,ut=Ne-We,pt=Le+Ue,Wr=Le-Ue,bt=Ce+Fe,Zi=Ce-Fe,Mt=kt+bt,vn=kt-bt,ii=jr+pt,Ut=jr-pt;ae[De]=Mt+ii,ae[De+4]=Mt-ii;var it=.707106781*(Ut+vn);ae[De+2]=vn+it,ae[De+6]=vn-it;var wt=.382683433*((Mt=Zi+Wr)-(Ut=ut+ft)),Qi=.5411961*Mt+wt,hr=1.306562965*Ut+wt,Bn=.707106781*(ii=Wr+ut),Mn=ft+Bn,Xe=ft-Bn;ae[De+5]=Xe+Qi,ae[De+3]=Xe-Qi,ae[De+1]=Mn+hr,ae[De+7]=Mn-hr,De+=8}for(De=0,He=0;He<8;++He){ce=ae[De],Ne=ae[De+8],Le=ae[De+16],Ce=ae[De+24],Fe=ae[De+32],Ue=ae[De+40],We=ae[De+48];var yn=ce+(Ve=ae[De+56]),Un=ce-Ve,Fr=Ne+We,ir=Ne-We,Zt=Le+Ue,Vr=Le-Ue,Ts=Ce+Fe,si=Ce-Fe,bn=yn+Ts,wn=yn-Ts,_n=Fr+Zt,qn=Fr-Zt;ae[De]=bn+_n,ae[De+32]=bn-_n;var on=.707106781*(qn+wn);ae[De+16]=wn+on,ae[De+48]=wn-on;var $n=.382683433*((bn=si+Vr)-(qn=ir+Un)),es=.5411961*bn+$n,Cs=1.306562965*qn+$n,Rs=.707106781*(_n=Vr+ir),Is=Un+Rs,js=Un-Rs;ae[De+40]=js+es,ae[De+24]=js-es,ae[De+8]=Is+Cs,ae[De+56]=Is-Cs,De++}for(He=0;He<64;++He)Je=ae[He]*he[He],g[He]=Je>0?Je+.5|0:Je-.5|0;return g}(N,D),Ie=0;Ie<64;++Ie)w[X[Ie]]=Re[Ie];var j=w[0]-q;q=w[0],j==0?ie(V[0]):(ie(V[v[ue=32767+j]]),ie(m[ue]));for(var B=63;B>0&&w[B]==0;)B--;if(B==0)return ie(ge),q;for(var se,H=1;H<=B;){for(var O=H;w[H]==0&&H<=B;)++H;var be=H-O;if(be>=16){se=be>>4;for(var Ae=1;Ae<=se;++Ae)ie(me);be&=15}ue=32767+w[H],ie(ee[(be<<4)+v[ue]]),ie(m[ue]),H++}return B!=63&&ie(ge),q}function je(N){N=Math.min(Math.max(N,1),100),s!=N&&(function(D){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],V=0;V<64;V++){var ee=o((q[V]*D+50)/100);ee=Math.min(Math.max(ee,1),255),a[X[V]]=ee}for(var ue=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var me=o((ue[ge]*D+50)/100);me=Math.min(Math.max(me,1),255),c[X[ge]]=me}for(var Re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,j=0;j<8;j++)for(var B=0;B<8;B++)h[Ie]=1/(a[X[Ie]]*Re[j]*Re[B]*8),d[Ie]=1/(c[X[Ie]]*Re[j]*Re[B]*8),Ie++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),s=N)}this.encode=function(N,D){D&&je(D),b=new Array,k=0,_=7,ye(65496),ye(65504),ye(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ye(1),ye(1),Q(0),Q(0),function(){ye(65499),ye(132),Q(0);for(var Ne=0;Ne<64;Ne++)Q(a[Ne]);Q(1);for(var Le=0;Le<64;Le++)Q(c[Le])}(),function(Ne,Le){ye(65472),ye(17),Q(8),ye(Le),ye(Ne),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(N.width,N.height),function(){ye(65476),ye(418),Q(0);for(var Ne=0;Ne<16;Ne++)Q(U[Ne+1]);for(var Le=0;Le<=11;Le++)Q(K[Le]);Q(16);for(var Ce=0;Ce<16;Ce++)Q(ne[Ce+1]);for(var Fe=0;Fe<=161;Fe++)Q(C[Fe]);Q(1);for(var Ue=0;Ue<16;Ue++)Q(R[Ue+1]);for(var We=0;We<=11;We++)Q(W[We]);Q(17);for(var Ve=0;Ve<16;Ve++)Q(z[Ve+1]);for(var He=0;He<=161;He++)Q(ve[He])}(),ye(65498),ye(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var q=0,V=0,ee=0;k=0,_=7,this.encode.displayName="_encode_";for(var ue,ge,me,Re,Ie,j,B,se,H,O=N.data,be=N.width,Ae=N.height,ae=4*be,he=0;he<Ae;){for(ue=0;ue<ae;){for(Ie=ae*he+ue,B=-1,se=0,H=0;H<64;H++)j=Ie+(se=H>>3)*ae+(B=4*(7&H)),he+se>=Ae&&(j-=ae*(he+1+se-Ae)),ue+B>=ae&&(j-=ue+B-ae+4),ge=O[j++],me=O[j++],Re=O[j++],E[H]=(pe[ge]+pe[me+256>>0]+pe[Re+512>>0]>>16)-128,I[H]=(pe[ge+768>>0]+pe[me+1024>>0]+pe[Re+1280>>0]>>16)-128,$[H]=(pe[ge+1280>>0]+pe[me+1536>>0]+pe[Re+1792>>0]>>16)-128;q=we(E,h,q,e,n),V=we(I,d,V,r,i),ee=we($,d,ee,r,i),ue+=32}he+=8}if(_>=0){var ce=[];ce[1]=_+1,ce[0]=(1<<_+1)-1,ie(ce)}return ye(65497),new Uint8Array(b)},t=t||50,function(){for(var N=String.fromCharCode,D=0;D<256;D++)te[D]=N(D)}(),e=oe(U,K),r=oe(R,W),n=oe(ne,C),i=oe(z,ve),function(){for(var N=1,D=2,q=1;q<=15;q++){for(var V=N;V<D;V++)v[32767+V]=q,m[32767+V]=[],m[32767+V][1]=q,m[32767+V][0]=V;for(var ee=-(D-1);ee<=-N;ee++)v[32767+ee]=q,m[32767+ee]=[],m[32767+ee][1]=q,m[32767+ee][0]=D-1+ee;N<<=1,D<<=1}}(),function(){for(var N=0;N<256;N++)pe[N]=19595*N,pe[N+256>>0]=38470*N,pe[N+512>>0]=7471*N+32768,pe[N+768>>0]=-11059*N,pe[N+1024>>0]=-21709*N,pe[N+1280>>0]=32768*N+8421375,pe[N+1536>>0]=-27439*N,pe[N+1792>>0]=-5329*N}(),je(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Pn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Jp(t){function e(U){if(!U)throw Error("assert :P")}function r(U,K,ne){for(var C=0;4>C;C++)if(U[K+C]!=ne.charCodeAt(C))return!0;return!1}function n(U,K,ne,C,R){for(var W=0;W<R;W++)U[K+W]=ne[C+W]}function i(U,K,ne,C){for(var R=0;R<C;R++)U[K+R]=ne}function s(U){return new Int32Array(U)}function o(U,K){for(var ne=[],C=0;C<U;C++)ne.push(new K);return ne}function a(U,K){var ne=[];return function C(R,W,z){for(var ve=z[W],oe=0;oe<ve&&(R.push(z.length>W+1?[]:new K),!(z.length<W+1));oe++)C(R[oe],W+1,z)}(ne,0,U),ne}var c=function(){var U=this;function K(l,u){for(var p=1<<u-1>>>0;l&p;)p>>>=1;return p?(l&p-1)+p:l}function ne(l,u,p,y,S){e(!(y%p));do l[u+(y-=p)]=S;while(0<y)}function C(l,u,p,y,S){if(e(2328>=S),512>=S)var x=s(512);else if((x=s(S))==null)return 0;return function(L,P,T,F,J,fe){var de,re,Pe=P,Se=1<<T,Y=s(16),Z=s(16);for(e(J!=0),e(F!=null),e(L!=null),e(0<T),re=0;re<J;++re){if(15<F[re])return 0;++Y[F[re]]}if(Y[0]==J)return 0;for(Z[1]=0,de=1;15>de;++de){if(Y[de]>1<<de)return 0;Z[de+1]=Z[de]+Y[de]}for(re=0;re<J;++re)de=F[re],0<F[re]&&(fe[Z[de]++]=re);if(Z[15]==1)return(F=new R).g=0,F.value=fe[0],ne(L,Pe,1,Se,F),Se;var ke,Oe=-1,Ee=Se-1,$e=0,Be=1,Ye=1,Me=1<<T;for(re=0,de=1,J=2;de<=T;++de,J<<=1){if(Be+=Ye<<=1,0>(Ye-=Y[de]))return 0;for(;0<Y[de];--Y[de])(F=new R).g=de,F.value=fe[re++],ne(L,Pe+$e,J,Me,F),$e=K($e,de)}for(de=T+1,J=2;15>=de;++de,J<<=1){if(Be+=Ye<<=1,0>(Ye-=Y[de]))return 0;for(;0<Y[de];--Y[de]){if(F=new R,($e&Ee)!=Oe){for(Pe+=Me,ke=1<<(Oe=de)-T;15>Oe&&!(0>=(ke-=Y[Oe]));)++Oe,ke<<=1;Se+=Me=1<<(ke=Oe-T),L[P+(Oe=$e&Ee)].g=ke+T,L[P+Oe].value=Pe-P-Oe}F.g=de-T,F.value=fe[re++],ne(L,Pe+($e>>T),J,Me,F),$e=K($e,de)}}return Be!=2*Z[15]-1?0:Se}(l,u,p,y,S,x)}function R(){this.value=this.g=0}function W(){this.value=this.g=0}function z(){this.G=o(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(fr,W)}function ve(l,u,p,y){e(l!=null),e(u!=null),e(2147483648>y),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=u,l.pa=p,l.Jd=u,l.Yc=p+y,l.Zc=4<=y?p+y-4+1:p,ue(l)}function oe(l,u){for(var p=0;0<u--;)p|=me(l,128)<<u;return p}function ie(l,u){var p=oe(l,u);return ge(l)?-p:p}function Q(l,u,p,y){var S,x=0;for(e(l!=null),e(u!=null),e(4294967288>y),l.Sb=y,l.Ra=0,l.u=0,l.h=0,4<y&&(y=4),S=0;S<y;++S)x+=u[p+S]<<8*S;l.Ra=x,l.bb=y,l.oa=u,l.pa=p}function ye(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<Ys-8>>>0,++l.bb,l.u-=8;q(l)&&(l.h=1,l.u=0)}function we(l,u){if(e(0<=u),!l.h&&u<=Js){var p=D(l)&Ks[u];return l.u+=u,ye(l),p}return l.h=1,l.u=0}function je(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function D(l){return l.Ra>>>(l.u&Ys-1)>>>0}function q(l){return e(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>Ys}function V(l,u){l.u=u,l.h=q(l)}function ee(l){l.u>=ra&&(e(l.u>=ra),ye(l))}function ue(l){e(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(e(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function ge(l){return oe(l,1)}function me(l,u){var p=l.Ca;0>l.b&&ue(l);var y=l.b,S=p*u>>>8,x=(l.I>>>y>S)+0;for(x?(p-=S,l.I-=S+1<<y>>>0):p=S+1,y=p,S=0;256<=y;)S+=8,y>>=8;return y=7^S+Br[y],l.b-=y,l.Ca=(p<<y)-1,x}function Re(l,u,p){l[u+0]=p>>24&255,l[u+1]=p>>16&255,l[u+2]=p>>8&255,l[u+3]=p>>0&255}function Ie(l,u){return l[u+0]<<0|l[u+1]<<8}function j(l,u){return Ie(l,u)|l[u+2]<<16}function B(l,u){return Ie(l,u)|Ie(l,u+2)<<16}function se(l,u){var p=1<<u;return e(l!=null),e(0<u),l.X=s(p),l.X==null?0:(l.Mb=32-u,l.Xa=u,1)}function H(l,u){e(l!=null),e(u!=null),e(l.Xa==u.Xa),n(u.X,0,l.X,0,1<<u.Xa)}function O(){this.X=[],this.Xa=this.Mb=0}function be(l,u,p,y){e(p!=null),e(y!=null);var S=p[0],x=y[0];return S==0&&(S=(l*x+u/2)/u),x==0&&(x=(u*S+l/2)/l),0>=S||0>=x?0:(p[0]=S,y[0]=x,1)}function Ae(l,u){return l+(1<<u)-1>>>u}function ae(l,u){return((4278255360&l)+(4278255360&u)>>>0&4278255360)+((16711935&l)+(16711935&u)>>>0&16711935)>>>0}function he(l,u){U[u]=function(p,y,S,x,L,P,T){var F;for(F=0;F<L;++F){var J=U[l](P[T+F-1],S,x+F);P[T+F]=ae(p[y+F],J)}}}function ce(){this.ud=this.hd=this.jd=0}function Ne(l,u){return((4278124286&(l^u))>>>1)+(l&u)>>>0}function Le(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function Ce(l,u){return Le(l+(l-u+.5>>1))}function Fe(l,u,p){return Math.abs(u-p)-Math.abs(l-p)}function Ue(l,u,p,y,S,x,L){for(y=x[L-1],p=0;p<S;++p)x[L+p]=y=ae(l[u+p],y)}function We(l,u,p,y,S){var x;for(x=0;x<p;++x){var L=l[u+x],P=L>>8&255,T=16711935&(T=(T=16711935&L)+((P<<16)+P));y[S+x]=(4278255360&L)+T>>>0}}function Ve(l,u){u.jd=l>>0&255,u.hd=l>>8&255,u.ud=l>>16&255}function He(l,u,p,y,S,x){var L;for(L=0;L<y;++L){var P=u[p+L],T=P>>>8,F=P,J=255&(J=(J=P>>>16)+((l.jd<<24>>24)*(T<<24>>24)>>>5));F=255&(F=(F=F+((l.hd<<24>>24)*(T<<24>>24)>>>5))+((l.ud<<24>>24)*(J<<24>>24)>>>5)),S[x+L]=(4278255360&P)+(J<<16)+F}}function Je(l,u,p,y,S){U[u]=function(x,L,P,T,F,J,fe,de,re){for(T=fe;T<de;++T)for(fe=0;fe<re;++fe)F[J++]=S(P[y(x[L++])])},U[l]=function(x,L,P,T,F,J,fe){var de=8>>x.b,re=x.Ea,Pe=x.K[0],Se=x.w;if(8>de)for(x=(1<<x.b)-1,Se=(1<<de)-1;L<P;++L){var Y,Z=0;for(Y=0;Y<re;++Y)Y&x||(Z=y(T[F++])),J[fe++]=S(Pe[Z&Se]),Z>>=de}else U["VP8LMapColor"+p](T,F,Pe,Se,J,fe,L,P,re)}}function De(l,u,p,y,S){for(p=u+p;u<p;){var x=l[u++];y[S++]=x>>16&255,y[S++]=x>>8&255,y[S++]=x>>0&255}}function kt(l,u,p,y,S){for(p=u+p;u<p;){var x=l[u++];y[S++]=x>>16&255,y[S++]=x>>8&255,y[S++]=x>>0&255,y[S++]=x>>24&255}}function ft(l,u,p,y,S){for(p=u+p;u<p;){var x=(L=l[u++])>>16&240|L>>12&15,L=L>>0&240|L>>28&15;y[S++]=x,y[S++]=L}}function jr(l,u,p,y,S){for(p=u+p;u<p;){var x=(L=l[u++])>>16&248|L>>13&7,L=L>>5&224|L>>3&31;y[S++]=x,y[S++]=L}}function ut(l,u,p,y,S){for(p=u+p;u<p;){var x=l[u++];y[S++]=x>>0&255,y[S++]=x>>8&255,y[S++]=x>>16&255}}function pt(l,u,p,y,S,x){if(x==0)for(p=u+p;u<p;)Re(y,((x=l[u++])[0]>>24|x[1]>>8&65280|x[2]<<8&16711680|x[3]<<24)>>>0),S+=32;else n(y,S,l,u,p)}function Wr(l,u){U[u][0]=U[l+"0"],U[u][1]=U[l+"1"],U[u][2]=U[l+"2"],U[u][3]=U[l+"3"],U[u][4]=U[l+"4"],U[u][5]=U[l+"5"],U[u][6]=U[l+"6"],U[u][7]=U[l+"7"],U[u][8]=U[l+"8"],U[u][9]=U[l+"9"],U[u][10]=U[l+"10"],U[u][11]=U[l+"11"],U[u][12]=U[l+"12"],U[u][13]=U[l+"13"],U[u][14]=U[l+"0"],U[u][15]=U[l+"0"]}function bt(l){return l==ku||l==Eu||l==Pl||l==Pu}function Zi(){this.eb=[],this.size=this.A=this.fb=0}function Mt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zi,this.f.kb=new Mt,this.sd=null}function ii(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ut(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function it(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function wt(l,u){var p=l.T,y=u.ba.f.RGBA,S=y.eb,x=y.fb+l.ka*y.A,L=fn[u.ba.S],P=l.y,T=l.O,F=l.f,J=l.N,fe=l.ea,de=l.W,re=u.cc,Pe=u.dc,Se=u.Mc,Y=u.Nc,Z=l.ka,ke=l.ka+l.T,Oe=l.U,Ee=Oe+1>>1;for(Z==0?L(P,T,null,null,F,J,fe,de,F,J,fe,de,S,x,null,null,Oe):(L(u.ec,u.fc,P,T,re,Pe,Se,Y,F,J,fe,de,S,x-y.A,S,x,Oe),++p);Z+2<ke;Z+=2)re=F,Pe=J,Se=fe,Y=de,J+=l.Rc,de+=l.Rc,x+=2*y.A,L(P,(T+=2*l.fa)-l.fa,P,T,re,Pe,Se,Y,F,J,fe,de,S,x-y.A,S,x,Oe);return T+=l.fa,l.j+ke<l.o?(n(u.ec,u.fc,P,T,Oe),n(u.cc,u.dc,F,J,Ee),n(u.Mc,u.Nc,fe,de,Ee),p--):1&ke||L(P,T,null,null,F,J,fe,de,F,J,fe,de,S,x+y.A,null,null,Oe),p}function Qi(l,u,p){var y=l.F,S=[l.J];if(y!=null){var x=l.U,L=u.ba.S,P=L==El||L==Pl;u=u.ba.f.RGBA;var T=[0],F=l.ka;T[0]=l.T,l.Kb&&(F==0?--T[0]:(--F,S[0]-=l.width),l.j+l.ka+l.T==l.o&&(T[0]=l.o-l.j-F));var J=u.eb;F=u.fb+F*u.A,l=Ct(y,S[0],l.width,x,T,J,F+(P?0:3),u.A),e(p==T),l&&bt(L)&&un(J,F,P,x,T,u.A)}return 0}function hr(l){var u=l.ma,p=u.ba.S,y=11>p,S=p==Ll||p==kl||p==El||p==Lu||p==12||bt(p);if(u.memory=null,u.Ib=null,u.Jb=null,u.Nd=null,!ea(u.Oa,l,S?11:12))return 0;if(S&&bt(p)&&Te(),l.da)alert("todo:use_scaling");else{if(y){if(u.Ib=it,l.Kb){if(p=l.U+1>>1,u.memory=s(l.U+2*p),u.memory==null)return 0;u.ec=u.memory,u.fc=0,u.cc=u.ec,u.dc=u.fc+l.U,u.Mc=u.cc,u.Nc=u.dc+p,u.Ib=wt,Te()}}else alert("todo:EmitYUV");S&&(u.Jb=Qi,y&&le())}if(y&&!Jf){for(l=0;256>l;++l)C2[l]=89858*(l-128)+Tl>>Ol,j2[l]=-22014*(l-128)+Tl,I2[l]=-45773*(l-128),R2[l]=113618*(l-128)+Tl>>Ol;for(l=ca;l<Cu;++l)u=76283*(l-16)+Tl>>Ol,F2[l-ca]=Gr(u,255),D2[l-ca]=Gr(u+8>>4,15);Jf=1}return 1}function Bn(l){var u=l.ma,p=l.U,y=l.T;return e(!(1&l.ka)),0>=p||0>=y?0:(p=u.Ib(l,u),u.Jb!=null&&u.Jb(l,u,p),u.Dc+=p,1)}function Mn(l){l.ma.memory=null}function Xe(l,u,p,y){return we(l,8)!=47?0:(u[0]=we(l,14)+1,p[0]=we(l,14)+1,y[0]=we(l,1),we(l,3)!=0?0:!l.h)}function yn(l,u){if(4>l)return l+1;var p=l-2>>1;return(2+(1&l)<<p)+we(u,p)+1}function Un(l,u){return 120<u?u-120:1<=(p=((p=y2[u-1])>>4)*l+(8-(15&p)))?p:1;var p}function Fr(l,u,p){var y=D(p),S=l[u+=255&y].g-8;return 0<S&&(V(p,p.u+8),y=D(p),u+=l[u].value,u+=y&(1<<S)-1),V(p,p.u+l[u].g),l[u].value}function ir(l,u,p){return p.g+=l.g,p.value+=l.value<<u>>>0,e(8>=p.g),l.g}function Zt(l,u,p){var y=l.xc;return e((u=y==0?0:l.vc[l.md*(p>>y)+(u>>y)])<l.Wb),l.Ya[u]}function Vr(l,u,p,y){var S=l.ab,x=l.c*u,L=l.C;u=L+u;var P=p,T=y;for(y=l.Ta,p=l.Ua;0<S--;){var F=l.gc[S],J=L,fe=u,de=P,re=T,Pe=(T=y,P=p,F.Ea);switch(e(J<fe),e(fe<=F.nc),F.hc){case 2:bl(de,re,(fe-J)*Pe,T,P);break;case 0:var Se=J,Y=fe,Z=T,ke=P,Oe=(Me=F).Ea;Se==0&&(xu(de,re,null,null,1,Z,ke),Ue(de,re+1,0,0,Oe-1,Z,ke+1),re+=Oe,ke+=Oe,++Se);for(var Ee=1<<Me.b,$e=Ee-1,Be=Ae(Oe,Me.b),Ye=Me.K,Me=Me.w+(Se>>Me.b)*Be;Se<Y;){var vt=Ye,At=Me,mt=1;for(na(de,re,Z,ke-Oe,1,Z,ke);mt<Oe;){var dt=(mt&~$e)+Ee;dt>Oe&&(dt=Oe),(0,ki[vt[At++]>>8&15])(de,re+ +mt,Z,ke+mt-Oe,dt-mt,Z,ke+mt),mt=dt}re+=Oe,ke+=Oe,++Se&$e||(Me+=Be)}fe!=F.nc&&n(T,P-Pe,T,P+(fe-J-1)*Pe,Pe);break;case 1:for(Pe=de,Y=re,Oe=(de=F.Ea)-(ke=de&~(Z=(re=1<<F.b)-1)),Se=Ae(de,F.b),Ee=F.K,F=F.w+(J>>F.b)*Se;J<fe;){for($e=Ee,Be=F,Ye=new ce,Me=Y+ke,vt=Y+de;Y<Me;)Ve($e[Be++],Ye),ss(Ye,Pe,Y,re,T,P),Y+=re,P+=re;Y<vt&&(Ve($e[Be++],Ye),ss(Ye,Pe,Y,Oe,T,P),Y+=Oe,P+=Oe),++J&Z||(F+=Se)}break;case 3:if(de==T&&re==P&&0<F.b){for(Y=T,de=Pe=P+(fe-J)*Pe-(ke=(fe-J)*Ae(F.Ea,F.b)),re=T,Z=P,Se=[],ke=(Oe=ke)-1;0<=ke;--ke)Se[ke]=re[Z+ke];for(ke=Oe-1;0<=ke;--ke)Y[de+ke]=Se[ke];an(F,J,fe,T,Pe,T,P)}else an(F,J,fe,de,re,T,P)}P=y,T=p}T!=p&&n(y,p,P,T,x)}function Ts(l,u){var p=l.V,y=l.Ba+l.c*l.C,S=u-l.C;if(e(u<=l.l.o),e(16>=S),0<S){var x=l.l,L=l.Ta,P=l.Ua,T=x.width;if(Vr(l,S,p,y),S=P=[P],e((p=l.C)<(y=u)),e(x.v<x.va),y>x.o&&(y=x.o),p<x.j){var F=x.j-p;p=x.j,S[0]+=F*T}if(p>=y?p=0:(S[0]+=4*x.v,x.ka=p-x.j,x.U=x.va-x.v,x.T=y-p,p=1),p){if(P=P[0],11>(p=l.ca).S){var J=p.f.RGBA,fe=(y=p.S,S=x.U,x=x.T,F=J.eb,J.A),de=x;for(J=J.fb+l.Ma*J.A;0<de--;){var re=L,Pe=P,Se=S,Y=F,Z=J;switch(y){case Nl:Mr(re,Pe,Se,Y,Z);break;case Ll:kr(re,Pe,Se,Y,Z);break;case ku:kr(re,Pe,Se,Y,Z),un(Y,Z,0,Se,1,0);break;case Uf:ci(re,Pe,Se,Y,Z);break;case kl:pt(re,Pe,Se,Y,Z,1);break;case Eu:pt(re,Pe,Se,Y,Z,1),un(Y,Z,0,Se,1,0);break;case El:pt(re,Pe,Se,Y,Z,0);break;case Pl:pt(re,Pe,Se,Y,Z,0),un(Y,Z,1,Se,1,0);break;case Lu:Ei(re,Pe,Se,Y,Z);break;case Pu:Ei(re,Pe,Se,Y,Z),Tt(Y,Z,Se,1,0);break;case qf:li(re,Pe,Se,Y,Z);break;default:e(0)}P+=T,J+=fe}l.Ma+=x}else alert("todo:EmitRescaledRowsYUVA");e(l.Ma<=p.height)}}l.C=u,e(l.C<=l.i)}function si(l){var u;if(0<l.ua)return 0;for(u=0;u<l.Wb;++u){var p=l.Ya[u].G,y=l.Ya[u].H;if(0<p[1][y[1]+0].g||0<p[2][y[2]+0].g||0<p[3][y[3]+0].g)return 0}return 1}function bn(l,u,p,y,S,x){if(l.Z!=0){var L=l.qd,P=l.rd;for(e(Ci[l.Z]!=null);u<p;++u)Ci[l.Z](L,P,y,S,y,S,x),L=y,P=S,S+=x;l.qd=L,l.rd=P}}function wn(l,u){var p=l.l.ma,y=p.Z==0||p.Z==1?l.l.j:l.C;if(y=l.C<y?y:l.C,e(u<=l.l.o),u>y){var S=l.l.width,x=p.ca,L=p.tb+S*y,P=l.V,T=l.Ba+l.c*y,F=l.gc;e(l.ab==1),e(F[0].hc==3),wl(F[0],y,u,P,T,x,L),bn(p,y,u,x,L,S)}l.C=l.Ma=u}function _n(l,u,p,y,S,x,L){var P=l.$/y,T=l.$%y,F=l.m,J=l.s,fe=p+l.$,de=fe;S=p+y*S;var re=p+y*x,Pe=280+J.ua,Se=l.Pb?P:16777216,Y=0<J.ua?J.Wa:null,Z=J.wc,ke=fe<re?Zt(J,T,P):null;e(l.C<x),e(re<=S);var Oe=!1;e:for(;;){for(;Oe||fe<re;){var Ee=0;if(P>=Se){var $e=fe-p;e((Se=l).Pb),Se.wd=Se.m,Se.xd=$e,0<Se.s.ua&&H(Se.s.Wa,Se.s.vb),Se=P+w2}if(T&Z||(ke=Zt(J,T,P)),e(ke!=null),ke.Qb&&(u[fe]=ke.qb,Oe=!0),!Oe)if(ee(F),ke.jc){Ee=F,$e=u;var Be=fe,Ye=ke.pd[D(Ee)&fr-1];e(ke.jc),256>Ye.g?(V(Ee,Ee.u+Ye.g),$e[Be]=Ye.value,Ee=0):(V(Ee,Ee.u+Ye.g-256),e(256<=Ye.value),Ee=Ye.value),Ee==0&&(Oe=!0)}else Ee=Fr(ke.G[0],ke.H[0],F);if(F.h)break;if(Oe||256>Ee){if(!Oe)if(ke.nd)u[fe]=(ke.qb|Ee<<8)>>>0;else{if(ee(F),Oe=Fr(ke.G[1],ke.H[1],F),ee(F),$e=Fr(ke.G[2],ke.H[2],F),Be=Fr(ke.G[3],ke.H[3],F),F.h)break;u[fe]=(Be<<24|Oe<<16|Ee<<8|$e)>>>0}if(Oe=!1,++fe,++T>=y&&(T=0,++P,L!=null&&P<=x&&!(P%16)&&L(l,P),Y!=null))for(;de<fe;)Ee=u[de++],Y.X[(506832829*Ee&4294967295)>>>Y.Mb]=Ee}else if(280>Ee){if(Ee=yn(Ee-256,F),$e=Fr(ke.G[4],ke.H[4],F),ee(F),$e=Un(y,$e=yn($e,F)),F.h)break;if(fe-p<$e||S-fe<Ee)break e;for(Be=0;Be<Ee;++Be)u[fe+Be]=u[fe+Be-$e];for(fe+=Ee,T+=Ee;T>=y;)T-=y,++P,L!=null&&P<=x&&!(P%16)&&L(l,P);if(e(fe<=S),T&Z&&(ke=Zt(J,T,P)),Y!=null)for(;de<fe;)Ee=u[de++],Y.X[(506832829*Ee&4294967295)>>>Y.Mb]=Ee}else{if(!(Ee<Pe))break e;for(Oe=Ee-280,e(Y!=null);de<fe;)Ee=u[de++],Y.X[(506832829*Ee&4294967295)>>>Y.Mb]=Ee;Ee=fe,e(!(Oe>>>($e=Y).Xa)),u[Ee]=$e.X[Oe],Oe=!0}Oe||e(F.h==q(F))}if(l.Pb&&F.h&&fe<S)e(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&H(l.s.vb,l.s.Wa);else{if(F.h)break e;L!=null&&L(l,P>x?x:P),l.a=0,l.$=fe-p}return 1}return l.a=3,0}function qn(l){e(l!=null),l.vc=null,l.yc=null,l.Ya=null;var u=l.Wa;u!=null&&(u.X=null),l.vb=null,e(l!=null)}function on(){var l=new Au;return l==null?null:(l.a=0,l.xb=Hf,Wr("Predictor","VP8LPredictors"),Wr("Predictor","VP8LPredictors_C"),Wr("PredictorAdd","VP8LPredictorsAdd"),Wr("PredictorAdd","VP8LPredictorsAdd_C"),bl=We,ss=He,Mr=De,kr=kt,Ei=ft,li=jr,ci=ut,U.VP8LMapColor32b=Xs,U.VP8LMapColor8b=_l,l)}function $n(l,u,p,y,S){var x=1,L=[l],P=[u],T=y.m,F=y.s,J=null,fe=0;e:for(;;){if(p)for(;x&&we(T,1);){var de=L,re=P,Pe=y,Se=1,Y=Pe.m,Z=Pe.gc[Pe.ab],ke=we(Y,2);if(Pe.Oc&1<<ke)x=0;else{switch(Pe.Oc|=1<<ke,Z.hc=ke,Z.Ea=de[0],Z.nc=re[0],Z.K=[null],++Pe.ab,e(4>=Pe.ab),ke){case 0:case 1:Z.b=we(Y,3)+2,Se=$n(Ae(Z.Ea,Z.b),Ae(Z.nc,Z.b),0,Pe,Z.K),Z.K=Z.K[0];break;case 3:var Oe,Ee=we(Y,8)+1,$e=16<Ee?0:4<Ee?1:2<Ee?2:3;if(de[0]=Ae(Z.Ea,$e),Z.b=$e,Oe=Se=$n(Ee,1,0,Pe,Z.K)){var Be,Ye=Ee,Me=Z,vt=1<<(8>>Me.b),At=s(vt);if(At==null)Oe=0;else{var mt=Me.K[0],dt=Me.w;for(At[0]=Me.K[0][0],Be=1;Be<1*Ye;++Be)At[Be]=ae(mt[dt+Be],At[Be-1]);for(;Be<4*vt;++Be)At[Be]=0;Me.K[0]=null,Me.K[0]=At,Oe=1}}Se=Oe;break;case 2:break;default:e(0)}x=Se}}if(L=L[0],P=P[0],x&&we(T,1)&&!(x=1<=(fe=we(T,4))&&11>=fe)){y.a=3;break e}var Et;if(Et=x)t:{var Lt,lt,er,Ur=y,tr=L,qr=P,xt=fe,Jr=p,Yr=Ur.m,lr=Ur.s,dr=[null],Pr=1,dn=0,Vn=b2[xt];r:for(;;){if(Jr&&we(Yr,1)){var cr=we(Yr,3)+2,di=Ae(tr,cr),us=Ae(qr,cr),ro=di*us;if(!$n(di,us,0,Ur,dr))break r;for(dr=dr[0],lr.xc=cr,Lt=0;Lt<ro;++Lt){var Ri=dr[Lt]>>8&65535;dr[Lt]=Ri,Ri>=Pr&&(Pr=Ri+1)}}if(Yr.h)break r;for(lt=0;5>lt;++lt){var $t=$f[lt];!lt&&0<xt&&($t+=1<<xt),dn<$t&&(dn=$t)}var Ru=o(Pr*Vn,R),Zf=Pr,Qf=o(Zf,z);if(Qf==null)var Rl=null;else e(65536>=Zf),Rl=Qf;var ua=s(dn);if(Rl==null||ua==null||Ru==null){Ur.a=1;break r}var Il=Ru;for(Lt=er=0;Lt<Pr;++Lt){var Ln=Rl[Lt],no=Ln.G,io=Ln.H,ed=0,jl=1,td=0;for(lt=0;5>lt;++lt){$t=$f[lt],no[lt]=Il,io[lt]=er,!lt&&0<xt&&($t+=1<<xt);i:{var Fl,Iu=$t,Dl=Ur,ha=ua,U2=Il,q2=er,ju=0,Ii=Dl.m,$2=we(Ii,1);if(i(ha,0,0,Iu),$2){var z2=we(Ii,1)+1,H2=we(Ii,1),rd=we(Ii,H2==0?1:8);ha[rd]=1,z2==2&&(ha[rd=we(Ii,8)]=1);var Bl=1}else{var nd=s(19),id=we(Ii,4)+4;if(19<id){Dl.a=3;var Ml=0;break i}for(Fl=0;Fl<id;++Fl)nd[v2[Fl]]=we(Ii,3);var Fu=void 0,fa=void 0,sd=Dl,W2=nd,Ul=Iu,od=ha,Du=0,ji=sd.m,ad=8,ld=o(128,R);n:for(;C(ld,0,7,W2,19);){if(we(ji,1)){var V2=2+2*we(ji,3);if((Fu=2+we(ji,V2))>Ul)break n}else Fu=Ul;for(fa=0;fa<Ul&&Fu--;){ee(ji);var cd=ld[0+(127&D(ji))];V(ji,ji.u+cd.g);var so=cd.value;if(16>so)od[fa++]=so,so!=0&&(ad=so);else{var G2=so==16,ud=so-16,K2=g2[ud],hd=we(ji,p2[ud])+K2;if(fa+hd>Ul)break n;for(var J2=G2?ad:0;0<hd--;)od[fa++]=J2}}Du=1;break n}Du||(sd.a=3),Bl=Du}(Bl=Bl&&!Ii.h)&&(ju=C(U2,q2,8,ha,Iu)),Bl&&ju!=0?Ml=ju:(Dl.a=3,Ml=0)}if(Ml==0)break r;if(jl&&m2[lt]==1&&(jl=Il[er].g==0),ed+=Il[er].g,er+=Ml,3>=lt){var da,Bu=ua[0];for(da=1;da<$t;++da)ua[da]>Bu&&(Bu=ua[da]);td+=Bu}}if(Ln.nd=jl,Ln.Qb=0,jl&&(Ln.qb=(no[3][io[3]+0].value<<24|no[1][io[1]+0].value<<16|no[2][io[2]+0].value)>>>0,ed==0&&256>no[0][io[0]+0].value&&(Ln.Qb=1,Ln.qb+=no[0][io[0]+0].value<<8)),Ln.jc=!Ln.Qb&&6>td,Ln.jc){var ql,pi=Ln;for(ql=0;ql<fr;++ql){var Fi=ql,Di=pi.pd[Fi],$l=pi.G[0][pi.H[0]+Fi];256<=$l.value?(Di.g=$l.g+256,Di.value=$l.value):(Di.g=0,Di.value=0,Fi>>=ir($l,8,Di),Fi>>=ir(pi.G[1][pi.H[1]+Fi],16,Di),Fi>>=ir(pi.G[2][pi.H[2]+Fi],0,Di),ir(pi.G[3][pi.H[3]+Fi],24,Di))}}}lr.vc=dr,lr.Wb=Pr,lr.Ya=Rl,lr.yc=Ru,Et=1;break t}Et=0}if(!(x=Et)){y.a=3;break e}if(0<fe){if(F.ua=1<<fe,!se(F.Wa,fe)){y.a=1,x=0;break e}}else F.ua=0;var Mu=y,fd=L,Y2=P,Uu=Mu.s,qu=Uu.xc;if(Mu.c=fd,Mu.i=Y2,Uu.md=Ae(fd,qu),Uu.wc=qu==0?-1:(1<<qu)-1,p){y.xb=k2;break e}if((J=s(L*P))==null){y.a=1,x=0;break e}x=(x=_n(y,J,0,L,P,P,null))&&!T.h;break e}return x?(S!=null?S[0]=J:(e(J==null),e(p)),y.$=0,p||qn(F)):qn(F),x}function es(l,u){var p=l.c*l.i,y=p+u+16*u;return e(l.c<=u),l.V=s(y),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+p+u,1)}function Cs(l,u){var p=l.C,y=u-p,S=l.V,x=l.Ba+l.c*p;for(e(u<=l.l.o);0<y;){var L=16<y?16:y,P=l.l.ma,T=l.l.width,F=T*L,J=P.ca,fe=P.tb+T*p,de=l.Ta,re=l.Ua;Vr(l,L,S,x),Gt(de,re,J,fe,F),bn(P,p,p+L,J,fe,T),y-=L,S+=L*l.c,p+=L}e(p==u),l.C=l.Ma=u}function Rs(){this.ub=this.yd=this.td=this.Rb=0}function Is(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function js(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Qa(){this.Yb=function(){var l=[];return function u(p,y,S){for(var x=S[y],L=0;L<x&&(p.push(S.length>y+1?[]:0),!(S.length<y+1));L++)u(p[L],y+1,S)}(l,0,[3,11]),l}()}function eu(){this.jb=s(3),this.Wc=a([4,8],Qa),this.Xc=a([4,17],Qa)}function tu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fs(){this.ld=this.La=this.dd=this.tc=0}function el(){this.Na=this.la=0}function ru(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Bo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nu(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fs),this.Y=0,this.ya=Array(new Bo),this.aa=0,this.l=new Ds}function tl(){this.y=s(16),this.f=s(8),this.ea=s(8)}function iu(){this.cb=this.a=0,this.sc="",this.m=new je,this.Od=new Rs,this.Kc=new Is,this.ed=new tu,this.Qa=new js,this.Ic=this.$c=this.Aa=0,this.D=new nu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,je),this.ia=0,this.pb=o(4,ru),this.Pa=new eu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new tl),this.Hd=0,this.rb=Array(new el),this.sb=0,this.wa=Array(new Fs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Bo),this.L=this.aa=0,this.gd=a([4,2],Fs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ds(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function su(){var l=new iu;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,la||(la=il)),l}function Wt(l,u,p){return l.a==0&&(l.a=u,l.sc=p,l.cb=0),0}function rl(l,u,p){return 3<=p&&l[u+0]==157&&l[u+1]==1&&l[u+2]==42}function nl(l,u){if(l==null)return 0;if(l.a=0,l.sc="OK",u==null)return Wt(l,2,"null VP8Io passed to VP8GetHeaders()");var p=u.data,y=u.w,S=u.ha;if(4>S)return Wt(l,7,"Truncated header.");var x=p[y+0]|p[y+1]<<8|p[y+2]<<16,L=l.Od;if(L.Rb=!(1&x),L.td=x>>1&7,L.yd=x>>4&1,L.ub=x>>5,3<L.td)return Wt(l,3,"Incorrect keyframe parameters.");if(!L.yd)return Wt(l,4,"Frame not displayable.");y+=3,S-=3;var P=l.Kc;if(L.Rb){if(7>S)return Wt(l,7,"cannot parse picture header");if(!rl(p,y,S))return Wt(l,3,"Bad code word");P.c=16383&(p[y+4]<<8|p[y+3]),P.Td=p[y+4]>>6,P.i=16383&(p[y+6]<<8|p[y+5]),P.Ud=p[y+6]>>6,y+=7,S-=7,l.za=P.c+15>>4,l.Ub=P.i+15>>4,u.width=P.c,u.height=P.i,u.Da=0,u.j=0,u.v=0,u.va=u.width,u.o=u.height,u.da=0,u.ib=u.width,u.hb=u.height,u.U=u.width,u.T=u.height,i((x=l.Pa).jb,0,255,x.jb.length),e((x=l.Qa)!=null),x.Cb=0,x.Bb=0,x.Fb=1,i(x.Zb,0,0,x.Zb.length),i(x.Lb,0,0,x.Lb)}if(L.ub>S)return Wt(l,7,"bad partition length");ve(x=l.m,p,y,L.ub),y+=L.ub,S-=L.ub,L.Rb&&(P.Ld=ge(x),P.Kd=ge(x)),P=l.Qa;var T,F=l.Pa;if(e(x!=null),e(P!=null),P.Cb=ge(x),P.Cb){if(P.Bb=ge(x),ge(x)){for(P.Fb=ge(x),T=0;4>T;++T)P.Zb[T]=ge(x)?ie(x,7):0;for(T=0;4>T;++T)P.Lb[T]=ge(x)?ie(x,6):0}if(P.Bb)for(T=0;3>T;++T)F.jb[T]=ge(x)?oe(x,8):255}else P.Bb=0;if(x.Ka)return Wt(l,3,"cannot parse segment header");if((P=l.ed).zd=ge(x),P.Tb=oe(x,6),P.wb=oe(x,3),P.Pc=ge(x),P.Pc&&ge(x)){for(F=0;4>F;++F)ge(x)&&(P.vd[F]=ie(x,6));for(F=0;4>F;++F)ge(x)&&(P.od[F]=ie(x,6))}if(l.L=P.Tb==0?0:P.zd?1:2,x.Ka)return Wt(l,3,"cannot parse filter header");var J=S;if(S=T=y,y=T+J,P=J,l.Xb=(1<<oe(l.m,2))-1,J<3*(F=l.Xb))p=7;else{for(T+=3*F,P-=3*F,J=0;J<F;++J){var fe=p[S+0]|p[S+1]<<8|p[S+2]<<16;fe>P&&(fe=P),ve(l.Jc[+J],p,T,fe),T+=fe,P-=fe,S+=3}ve(l.Jc[+F],p,T,P),p=T<y?0:5}if(p!=0)return Wt(l,p,"cannot parse partitions");for(p=oe(T=l.m,7),S=ge(T)?ie(T,4):0,y=ge(T)?ie(T,4):0,P=ge(T)?ie(T,4):0,F=ge(T)?ie(T,4):0,T=ge(T)?ie(T,4):0,J=l.Qa,fe=0;4>fe;++fe){if(J.Cb){var de=J.Zb[fe];J.Fb||(de+=p)}else{if(0<fe){l.pb[fe]=l.pb[0];continue}de=p}var re=l.pb[fe];re.Sc[0]=Ou[Gr(de+S,127)],re.Sc[1]=Tu[Gr(de+0,127)],re.Eb[0]=2*Ou[Gr(de+y,127)],re.Eb[1]=101581*Tu[Gr(de+P,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=Ou[Gr(de+F,117)],re.Qc[1]=Tu[Gr(de+T,127)],re.lc=de+T}if(!L.Rb)return Wt(l,4,"Not a key frame.");for(ge(x),L=l.Pa,p=0;4>p;++p){for(S=0;8>S;++S)for(y=0;3>y;++y)for(P=0;11>P;++P)F=me(x,N2[p][S][y][P])?oe(x,8):A2[p][S][y][P],L.Wc[p][S].Yb[y][P]=F;for(S=0;17>S;++S)L.Xc[p][S]=L.Wc[p][L2[S]]}return l.kc=ge(x),l.kc&&(l.Bd=oe(x,8)),l.cb=1}function il(l,u,p,y,S,x,L){var P=u[S].Yb[p];for(p=0;16>S;++S){if(!me(l,P[p+0]))return S;for(;!me(l,P[p+1]);)if(P=u[++S].Yb[0],p=0,S==16)return 16;var T=u[S+1].Yb;if(me(l,P[p+2])){var F=l,J=0;if(me(F,(de=P)[(fe=p)+3]))if(me(F,de[fe+6])){for(P=0,fe=2*(J=me(F,de[fe+8]))+(de=me(F,de[fe+9+J])),J=0,de=_2[fe];de[P];++P)J+=J+me(F,de[P]);J+=3+(8<<fe)}else me(F,de[fe+7])?(J=7+2*me(F,165),J+=me(F,145)):J=5+me(F,159);else J=me(F,de[fe+4])?3+me(F,de[fe+5]):2;P=T[2]}else J=1,P=T[1];T=L+S2[S],0>(F=l).b&&ue(F);var fe,de=F.b,re=(fe=F.Ca>>1)-(F.I>>de)>>31;--F.b,F.Ca+=re,F.Ca|=1,F.I-=(fe+1&re)<<de,x[T]=((J^re)-re)*y[(0<S)+0]}return 16}function Mo(l){var u=l.rb[l.sb-1];u.la=0,u.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function ou(l,u){if(l==null)return 0;if(u==null)return Wt(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!nl(l,u))return 0;if(e(l.cb),u.ac==null||u.ac(u)){u.ob&&(l.L=0);var p=Cl[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=u.v-p>>4,l.zb=u.j-p>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=u.o+15+p>>4,l.Hb=u.va+15+p>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var y=l.ed;for(p=0;4>p;++p){var S;if(l.Qa.Cb){var x=l.Qa.Lb[p];l.Qa.Fb||(x+=y.Tb)}else x=y.Tb;for(S=0;1>=S;++S){var L=l.gd[p][S],P=x;if(y.Pc&&(P+=y.vd[0],S&&(P+=y.od[0])),0<(P=0>P?0:63<P?63:P)){var T=P;0<y.wb&&(T=4<y.wb?T>>2:T>>1)>9-y.wb&&(T=9-y.wb),1>T&&(T=1),L.dd=T,L.tc=2*P+T,L.ld=40<=P?2:15<=P?1:0}else L.tc=0;L.La=S}}}p=0}else Wt(l,6,"Frame setup failed"),p=l.a;if(p=p==0){if(p){l.$c=0,0<l.Aa||(l.Ic=M2);e:{p=l.Ic,y=4*(T=l.za);var F=32*T,J=T+1,fe=0<l.L?T*(0<l.Aa?2:1):0,de=(l.Aa==2?2:1)*T;if((L=y+832+(S=3*(16*p+Cl[l.L])/2*F)+(x=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=L)p=0;else{if(L>l.Vb){if(l.Vb=0,l.Ec=s(L),l.Fc=0,l.Ec==null){p=Wt(l,1,"no memory during frame initialization.");break e}l.Vb=L}L=l.Ec,P=l.Fc,l.Ac=L,l.Bc=P,P+=y,l.Gd=o(F,tl),l.Hd=0,l.rb=o(J+1,el),l.sb=1,l.wa=fe?o(fe,Fs):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=T),e(!0),l.oc=L,l.pc=P,P+=832,l.ya=o(de,Bo),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=T),l.R=16*T,l.B=8*T,T=(F=Cl[l.L])*l.R,F=F/2*l.B,l.sa=L,l.ta=P+T,l.qa=l.sa,l.ra=l.ta+16*p*l.R+F,l.Ha=l.qa,l.Ia=l.ra+8*p*l.B+F,l.$c=0,P+=S,l.mb=x?L:null,l.nb=x?P:null,e(P+x<=l.Fc+l.Vb),Mo(l),i(l.Ac,l.Bc,0,y),p=1}}if(p){if(u.ka=0,u.y=l.sa,u.O=l.ta,u.f=l.qa,u.N=l.ra,u.ea=l.Ha,u.Vd=l.Ia,u.fa=l.R,u.Rc=l.B,u.F=null,u.J=0,!Al){for(p=-255;255>=p;++p)sr[255+p]=0>p?-p:p;for(p=-1020;1020>=p;++p)hi[1020+p]=-128>p?-128:127<p?127:p;for(p=-112;112>=p;++p)aa[112+p]=-16>p?-16:15<p?15:p;for(p=-255;510>=p;++p)to[255+p]=0>p?0:255<p?255:p;Al=1}Zs=cu,ui=au,ia=ol,Er=lu,ln=al,Vt=sl,Qs=Wo,Sl=ns,sa=Su,os=Vo,as=_u,Pi=zs,ls=Go,eo=ml,cs=gl,Oi=Hn,oa=ai,cn=wu,Nn[0]=zn,Nn[1]=uu,Nn[2]=pu,Nn[3]=gu,Nn[4]=ul,Nn[5]=qs,Nn[6]=hl,Nn[7]=$o,Nn[8]=vu,Nn[9]=mu,Ti[0]=ll,Ti[1]=fu,Ti[2]=oi,Ti[3]=Ms,Ti[4]=mr,Ti[5]=du,Ti[6]=cl,fi[0]=xi,fi[1]=hu,fi[2]=yu,fi[3]=zo,fi[4]=rs,fi[5]=bu,fi[6]=Ho,p=1}else p=0}p&&(p=function(re,Pe){for(re.M=0;re.M<re.Va;++re.M){var Se,Y=re.Jc[re.M&re.Xb],Z=re.m,ke=re;for(Se=0;Se<ke.za;++Se){var Oe=Z,Ee=ke,$e=Ee.Ac,Be=Ee.Bc+4*Se,Ye=Ee.zc,Me=Ee.ya[Ee.aa+Se];if(Ee.Qa.Bb?Me.$b=me(Oe,Ee.Pa.jb[0])?2+me(Oe,Ee.Pa.jb[2]):me(Oe,Ee.Pa.jb[1]):Me.$b=0,Ee.kc&&(Me.Ad=me(Oe,Ee.Bd)),Me.Za=!me(Oe,145)+0,Me.Za){var vt=Me.Ob,At=0;for(Ee=0;4>Ee;++Ee){var mt,dt=Ye[0+Ee];for(mt=0;4>mt;++mt){dt=x2[$e[Be+mt]][dt];for(var Et=zf[me(Oe,dt[0])];0<Et;)Et=zf[2*Et+me(Oe,dt[Et])];dt=-Et,$e[Be+mt]=dt}n(vt,At,$e,Be,4),At+=4,Ye[0+Ee]=dt}}else dt=me(Oe,156)?me(Oe,128)?1:3:me(Oe,163)?2:0,Me.Ob[0]=dt,i($e,Be,dt,4),i(Ye,0,dt,4);Me.Dd=me(Oe,142)?me(Oe,114)?me(Oe,183)?1:3:2:0}if(ke.m.Ka)return Wt(re,7,"Premature end-of-partition0 encountered.");for(;re.ja<re.za;++re.ja){if(ke=Y,Oe=(Z=re).rb[Z.sb-1],$e=Z.rb[Z.sb+Z.ja],Se=Z.ya[Z.aa+Z.ja],Be=Z.kc?Se.Ad:0)Oe.la=$e.la=0,Se.Za||(Oe.Na=$e.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var Lt,lt;if(Oe=$e,$e=ke,Be=Z.Pa.Xc,Ye=Z.ya[Z.aa+Z.ja],Me=Z.pb[Ye.$b],Ee=Ye.ad,vt=0,At=Z.rb[Z.sb-1],dt=mt=0,i(Ee,vt,0,384),Ye.Za)var er=0,Ur=Be[3];else{Et=s(16);var tr=Oe.Na+At.Na;if(tr=la($e,Be[1],tr,Me.Eb,0,Et,0),Oe.Na=At.Na=(0<tr)+0,1<tr)Zs(Et,0,Ee,vt);else{var qr=Et[0]+3>>3;for(Et=0;256>Et;Et+=16)Ee[vt+Et]=qr}er=1,Ur=Be[0]}var xt=15&Oe.la,Jr=15&At.la;for(Et=0;4>Et;++Et){var Yr=1&Jr;for(qr=lt=0;4>qr;++qr)xt=xt>>1|(Yr=(tr=la($e,Ur,tr=Yr+(1&xt),Me.Sc,er,Ee,vt))>er)<<7,lt=lt<<2|(3<tr?3:1<tr?2:Ee[vt+0]!=0),vt+=16;xt>>=4,Jr=Jr>>1|Yr<<7,mt=(mt<<8|lt)>>>0}for(Ur=xt,er=Jr>>4,Lt=0;4>Lt;Lt+=2){for(lt=0,xt=Oe.la>>4+Lt,Jr=At.la>>4+Lt,Et=0;2>Et;++Et){for(Yr=1&Jr,qr=0;2>qr;++qr)tr=Yr+(1&xt),xt=xt>>1|(Yr=0<(tr=la($e,Be[2],tr,Me.Qc,0,Ee,vt)))<<3,lt=lt<<2|(3<tr?3:1<tr?2:Ee[vt+0]!=0),vt+=16;xt>>=2,Jr=Jr>>1|Yr<<5}dt|=lt<<4*Lt,Ur|=xt<<4<<Lt,er|=(240&Jr)<<Lt}Oe.la=Ur,At.la=er,Ye.Hc=mt,Ye.Gc=dt,Ye.ia=43690&dt?0:Me.ia,Be=!(mt|dt)}if(0<Z.L&&(Z.wa[Z.Y+Z.ja]=Z.gd[Se.$b][Se.Za],Z.wa[Z.Y+Z.ja].La|=!Be),ke.Ka)return Wt(re,7,"Premature end-of-file encountered.")}if(Mo(re),Z=Pe,ke=1,Se=(Y=re).D,Oe=0<Y.L&&Y.M>=Y.zb&&Y.M<=Y.Va,Y.Aa==0)e:{if(Se.M=Y.M,Se.uc=Oe,Qo(Y,Se),ke=1,Se=(lt=Y.D).Nb,Oe=(dt=Cl[Y.L])*Y.R,$e=dt/2*Y.B,Et=16*Se*Y.R,qr=8*Se*Y.B,Be=Y.sa,Ye=Y.ta-Oe+Et,Me=Y.qa,Ee=Y.ra-$e+qr,vt=Y.Ha,At=Y.Ia-$e+qr,Jr=(xt=lt.M)==0,mt=xt>=Y.Va-1,Y.Aa==2&&Qo(Y,lt),lt.uc)for(Yr=(tr=Y).D.M,e(tr.D.uc),lt=tr.yb;lt<tr.Hb;++lt){er=lt,Ur=Yr;var lr=(dr=($t=tr).D).Nb;Lt=$t.R;var dr=dr.wa[dr.Y+er],Pr=$t.sa,dn=$t.ta+16*lr*Lt+16*er,Vn=dr.dd,cr=dr.tc;if(cr!=0)if(e(3<=cr),$t.L==1)0<er&&Oi(Pr,dn,Lt,cr+4),dr.La&&cn(Pr,dn,Lt,cr),0<Ur&&cs(Pr,dn,Lt,cr+4),dr.La&&oa(Pr,dn,Lt,cr);else{var di=$t.B,us=$t.qa,ro=$t.ra+8*lr*di+8*er,Ri=$t.Ha,$t=$t.Ia+8*lr*di+8*er;lr=dr.ld,0<er&&(Sl(Pr,dn,Lt,cr+4,Vn,lr),os(us,ro,Ri,$t,di,cr+4,Vn,lr)),dr.La&&(Pi(Pr,dn,Lt,cr,Vn,lr),eo(us,ro,Ri,$t,di,cr,Vn,lr)),0<Ur&&(Qs(Pr,dn,Lt,cr+4,Vn,lr),sa(us,ro,Ri,$t,di,cr+4,Vn,lr)),dr.La&&(as(Pr,dn,Lt,cr,Vn,lr),ls(us,ro,Ri,$t,di,cr,Vn,lr))}}if(Y.ia&&alert("todo:DitherRow"),Z.put!=null){if(lt=16*xt,xt=16*(xt+1),Jr?(Z.y=Y.sa,Z.O=Y.ta+Et,Z.f=Y.qa,Z.N=Y.ra+qr,Z.ea=Y.Ha,Z.W=Y.Ia+qr):(lt-=dt,Z.y=Be,Z.O=Ye,Z.f=Me,Z.N=Ee,Z.ea=vt,Z.W=At),mt||(xt-=dt),xt>Z.o&&(xt=Z.o),Z.F=null,Z.J=null,Y.Fa!=null&&0<Y.Fa.length&&lt<xt&&(Z.J=Xo(Y,Z,lt,xt-lt),Z.F=Y.mb,Z.F==null&&Z.F.length==0)){ke=Wt(Y,3,"Could not decode alpha data.");break e}lt<Z.j&&(dt=Z.j-lt,lt=Z.j,e(!(1&dt)),Z.O+=Y.R*dt,Z.N+=Y.B*(dt>>1),Z.W+=Y.B*(dt>>1),Z.F!=null&&(Z.J+=Z.width*dt)),lt<xt&&(Z.O+=Z.v,Z.N+=Z.v>>1,Z.W+=Z.v>>1,Z.F!=null&&(Z.J+=Z.v),Z.ka=lt-Z.j,Z.U=Z.va-Z.v,Z.T=xt-lt,ke=Z.put(Z))}Se+1!=Y.Ic||mt||(n(Y.sa,Y.ta-Oe,Be,Ye+16*Y.R,Oe),n(Y.qa,Y.ra-$e,Me,Ee+8*Y.B,$e),n(Y.Ha,Y.Ia-$e,vt,At+8*Y.B,$e))}if(!ke)return Wt(re,6,"Output aborted.")}return 1}(l,u)),u.bc!=null&&u.bc(u),p&=1}return p?(l.cb=0,p):0}function Sn(l,u,p,y,S){S=l[u+p+32*y]+(S>>3),l[u+p+32*y]=-256&S?0>S?0:255:S}function Bs(l,u,p,y,S,x){Sn(l,u,0,p,y+S),Sn(l,u,1,p,y+x),Sn(l,u,2,p,y-x),Sn(l,u,3,p,y-S)}function Dr(l){return(20091*l>>16)+l}function Uo(l,u,p,y){var S,x=0,L=s(16);for(S=0;4>S;++S){var P=l[u+0]+l[u+8],T=l[u+0]-l[u+8],F=(35468*l[u+4]>>16)-Dr(l[u+12]),J=Dr(l[u+4])+(35468*l[u+12]>>16);L[x+0]=P+J,L[x+1]=T+F,L[x+2]=T-F,L[x+3]=P-J,x+=4,u++}for(S=x=0;4>S;++S)P=(l=L[x+0]+4)+L[x+8],T=l-L[x+8],F=(35468*L[x+4]>>16)-Dr(L[x+12]),Sn(p,y,0,0,P+(J=Dr(L[x+4])+(35468*L[x+12]>>16))),Sn(p,y,1,0,T+F),Sn(p,y,2,0,T-F),Sn(p,y,3,0,P-J),x++,y+=32}function sl(l,u,p,y){var S=l[u+0]+4,x=35468*l[u+4]>>16,L=Dr(l[u+4]),P=35468*l[u+1]>>16;Bs(p,y,0,S+L,l=Dr(l[u+1]),P),Bs(p,y,1,S+x,l,P),Bs(p,y,2,S-x,l,P),Bs(p,y,3,S-L,l,P)}function au(l,u,p,y,S){Uo(l,u,p,y),S&&Uo(l,u+16,p,y+4)}function ol(l,u,p,y){ui(l,u+0,p,y,1),ui(l,u+32,p,y+128,1)}function lu(l,u,p,y){var S;for(l=l[u+0]+4,S=0;4>S;++S)for(u=0;4>u;++u)Sn(p,y,u,S,l)}function al(l,u,p,y){l[u+0]&&Er(l,u+0,p,y),l[u+16]&&Er(l,u+16,p,y+4),l[u+32]&&Er(l,u+32,p,y+128),l[u+48]&&Er(l,u+48,p,y+128+4)}function cu(l,u,p,y){var S,x=s(16);for(S=0;4>S;++S){var L=l[u+0+S]+l[u+12+S],P=l[u+4+S]+l[u+8+S],T=l[u+4+S]-l[u+8+S],F=l[u+0+S]-l[u+12+S];x[0+S]=L+P,x[8+S]=L-P,x[4+S]=F+T,x[12+S]=F-T}for(S=0;4>S;++S)L=(l=x[0+4*S]+3)+x[3+4*S],P=x[1+4*S]+x[2+4*S],T=x[1+4*S]-x[2+4*S],F=l-x[3+4*S],p[y+0]=L+P>>3,p[y+16]=F+T>>3,p[y+32]=L-P>>3,p[y+48]=F-T>>3,y+=64}function qo(l,u,p){var y,S=u-32,x=Kr,L=255-l[S-1];for(y=0;y<p;++y){var P,T=x,F=L+l[u-1];for(P=0;P<p;++P)l[u+P]=T[F+l[S+P]];u+=32}}function uu(l,u){qo(l,u,4)}function hu(l,u){qo(l,u,8)}function fu(l,u){qo(l,u,16)}function oi(l,u){var p;for(p=0;16>p;++p)n(l,u+32*p,l,u-32,16)}function Ms(l,u){var p;for(p=16;0<p;--p)i(l,u,l[u-1],16),u+=32}function Us(l,u,p){var y;for(y=0;16>y;++y)i(u,p+32*y,l,16)}function ll(l,u){var p,y=16;for(p=0;16>p;++p)y+=l[u-1+32*p]+l[u+p-32];Us(y>>5,l,u)}function mr(l,u){var p,y=8;for(p=0;16>p;++p)y+=l[u-1+32*p];Us(y>>4,l,u)}function du(l,u){var p,y=8;for(p=0;16>p;++p)y+=l[u+p-32];Us(y>>4,l,u)}function cl(l,u){Us(128,l,u)}function nt(l,u,p){return l+2*u+p+2>>2}function pu(l,u){var p,y=u-32;for(y=new Uint8Array([nt(l[y-1],l[y+0],l[y+1]),nt(l[y+0],l[y+1],l[y+2]),nt(l[y+1],l[y+2],l[y+3]),nt(l[y+2],l[y+3],l[y+4])]),p=0;4>p;++p)n(l,u+32*p,y,0,y.length)}function gu(l,u){var p=l[u-1],y=l[u-1+32],S=l[u-1+64],x=l[u-1+96];Re(l,u+0,16843009*nt(l[u-1-32],p,y)),Re(l,u+32,16843009*nt(p,y,S)),Re(l,u+64,16843009*nt(y,S,x)),Re(l,u+96,16843009*nt(S,x,x))}function zn(l,u){var p,y=4;for(p=0;4>p;++p)y+=l[u+p-32]+l[u-1+32*p];for(y>>=3,p=0;4>p;++p)i(l,u+32*p,y,4)}function ul(l,u){var p=l[u-1+0],y=l[u-1+32],S=l[u-1+64],x=l[u-1-32],L=l[u+0-32],P=l[u+1-32],T=l[u+2-32],F=l[u+3-32];l[u+0+96]=nt(y,S,l[u-1+96]),l[u+1+96]=l[u+0+64]=nt(p,y,S),l[u+2+96]=l[u+1+64]=l[u+0+32]=nt(x,p,y),l[u+3+96]=l[u+2+64]=l[u+1+32]=l[u+0+0]=nt(L,x,p),l[u+3+64]=l[u+2+32]=l[u+1+0]=nt(P,L,x),l[u+3+32]=l[u+2+0]=nt(T,P,L),l[u+3+0]=nt(F,T,P)}function hl(l,u){var p=l[u+1-32],y=l[u+2-32],S=l[u+3-32],x=l[u+4-32],L=l[u+5-32],P=l[u+6-32],T=l[u+7-32];l[u+0+0]=nt(l[u+0-32],p,y),l[u+1+0]=l[u+0+32]=nt(p,y,S),l[u+2+0]=l[u+1+32]=l[u+0+64]=nt(y,S,x),l[u+3+0]=l[u+2+32]=l[u+1+64]=l[u+0+96]=nt(S,x,L),l[u+3+32]=l[u+2+64]=l[u+1+96]=nt(x,L,P),l[u+3+64]=l[u+2+96]=nt(L,P,T),l[u+3+96]=nt(P,T,T)}function qs(l,u){var p=l[u-1+0],y=l[u-1+32],S=l[u-1+64],x=l[u-1-32],L=l[u+0-32],P=l[u+1-32],T=l[u+2-32],F=l[u+3-32];l[u+0+0]=l[u+1+64]=x+L+1>>1,l[u+1+0]=l[u+2+64]=L+P+1>>1,l[u+2+0]=l[u+3+64]=P+T+1>>1,l[u+3+0]=T+F+1>>1,l[u+0+96]=nt(S,y,p),l[u+0+64]=nt(y,p,x),l[u+0+32]=l[u+1+96]=nt(p,x,L),l[u+1+32]=l[u+2+96]=nt(x,L,P),l[u+2+32]=l[u+3+96]=nt(L,P,T),l[u+3+32]=nt(P,T,F)}function $o(l,u){var p=l[u+0-32],y=l[u+1-32],S=l[u+2-32],x=l[u+3-32],L=l[u+4-32],P=l[u+5-32],T=l[u+6-32],F=l[u+7-32];l[u+0+0]=p+y+1>>1,l[u+1+0]=l[u+0+64]=y+S+1>>1,l[u+2+0]=l[u+1+64]=S+x+1>>1,l[u+3+0]=l[u+2+64]=x+L+1>>1,l[u+0+32]=nt(p,y,S),l[u+1+32]=l[u+0+96]=nt(y,S,x),l[u+2+32]=l[u+1+96]=nt(S,x,L),l[u+3+32]=l[u+2+96]=nt(x,L,P),l[u+3+64]=nt(L,P,T),l[u+3+96]=nt(P,T,F)}function mu(l,u){var p=l[u-1+0],y=l[u-1+32],S=l[u-1+64],x=l[u-1+96];l[u+0+0]=p+y+1>>1,l[u+2+0]=l[u+0+32]=y+S+1>>1,l[u+2+32]=l[u+0+64]=S+x+1>>1,l[u+1+0]=nt(p,y,S),l[u+3+0]=l[u+1+32]=nt(y,S,x),l[u+3+32]=l[u+1+64]=nt(S,x,x),l[u+3+64]=l[u+2+64]=l[u+0+96]=l[u+1+96]=l[u+2+96]=l[u+3+96]=x}function vu(l,u){var p=l[u-1+0],y=l[u-1+32],S=l[u-1+64],x=l[u-1+96],L=l[u-1-32],P=l[u+0-32],T=l[u+1-32],F=l[u+2-32];l[u+0+0]=l[u+2+32]=p+L+1>>1,l[u+0+32]=l[u+2+64]=y+p+1>>1,l[u+0+64]=l[u+2+96]=S+y+1>>1,l[u+0+96]=x+S+1>>1,l[u+3+0]=nt(P,T,F),l[u+2+0]=nt(L,P,T),l[u+1+0]=l[u+3+32]=nt(p,L,P),l[u+1+32]=l[u+3+64]=nt(y,p,L),l[u+1+64]=l[u+3+96]=nt(S,y,p),l[u+1+96]=nt(x,S,y)}function yu(l,u){var p;for(p=0;8>p;++p)n(l,u+32*p,l,u-32,8)}function zo(l,u){var p;for(p=0;8>p;++p)i(l,u,l[u-1],8),u+=32}function ts(l,u,p){var y;for(y=0;8>y;++y)i(u,p+32*y,l,8)}function xi(l,u){var p,y=8;for(p=0;8>p;++p)y+=l[u+p-32]+l[u-1+32*p];ts(y>>4,l,u)}function bu(l,u){var p,y=4;for(p=0;8>p;++p)y+=l[u+p-32];ts(y>>3,l,u)}function rs(l,u){var p,y=4;for(p=0;8>p;++p)y+=l[u-1+32*p];ts(y>>3,l,u)}function Ho(l,u){ts(128,l,u)}function $s(l,u,p){var y=l[u-p],S=l[u+0],x=3*(S-y)+Nu[1020+l[u-2*p]-l[u+p]],L=xl[112+(x+4>>3)];l[u-p]=Kr[255+y+xl[112+(x+3>>3)]],l[u+0]=Kr[255+S-L]}function fl(l,u,p,y){var S=l[u+0],x=l[u+p];return hn[255+l[u-2*p]-l[u-p]]>y||hn[255+x-S]>y}function dl(l,u,p,y){return 4*hn[255+l[u-p]-l[u+0]]+hn[255+l[u-2*p]-l[u+p]]<=y}function pl(l,u,p,y,S){var x=l[u-3*p],L=l[u-2*p],P=l[u-p],T=l[u+0],F=l[u+p],J=l[u+2*p],fe=l[u+3*p];return 4*hn[255+P-T]+hn[255+L-F]>y?0:hn[255+l[u-4*p]-x]<=S&&hn[255+x-L]<=S&&hn[255+L-P]<=S&&hn[255+fe-J]<=S&&hn[255+J-F]<=S&&hn[255+F-T]<=S}function gl(l,u,p,y){var S=2*y+1;for(y=0;16>y;++y)dl(l,u+y,p,S)&&$s(l,u+y,p)}function Hn(l,u,p,y){var S=2*y+1;for(y=0;16>y;++y)dl(l,u+y*p,1,S)&&$s(l,u+y*p,1)}function ai(l,u,p,y){var S;for(S=3;0<S;--S)gl(l,u+=4*p,p,y)}function wu(l,u,p,y){var S;for(S=3;0<S;--S)Hn(l,u+=4,p,y)}function Ni(l,u,p,y,S,x,L,P){for(x=2*x+1;0<S--;){if(pl(l,u,p,x,L))if(fl(l,u,p,P))$s(l,u,p);else{var T=l,F=u,J=p,fe=T[F-2*J],de=T[F-J],re=T[F+0],Pe=T[F+J],Se=T[F+2*J],Y=27*(ke=Nu[1020+3*(re-de)+Nu[1020+fe-Pe]])+63>>7,Z=18*ke+63>>7,ke=9*ke+63>>7;T[F-3*J]=Kr[255+T[F-3*J]+ke],T[F-2*J]=Kr[255+fe+Z],T[F-J]=Kr[255+de+Y],T[F+0]=Kr[255+re-Y],T[F+J]=Kr[255+Pe-Z],T[F+2*J]=Kr[255+Se-ke]}u+=y}}function An(l,u,p,y,S,x,L,P){for(x=2*x+1;0<S--;){if(pl(l,u,p,x,L))if(fl(l,u,p,P))$s(l,u,p);else{var T=l,F=u,J=p,fe=T[F-J],de=T[F+0],re=T[F+J],Pe=xl[112+((Se=3*(de-fe))+4>>3)],Se=xl[112+(Se+3>>3)],Y=Pe+1>>1;T[F-2*J]=Kr[255+T[F-2*J]+Y],T[F-J]=Kr[255+fe+Se],T[F+0]=Kr[255+de-Pe],T[F+J]=Kr[255+re-Y]}u+=y}}function Wo(l,u,p,y,S,x){Ni(l,u,p,1,16,y,S,x)}function ns(l,u,p,y,S,x){Ni(l,u,1,p,16,y,S,x)}function _u(l,u,p,y,S,x){var L;for(L=3;0<L;--L)An(l,u+=4*p,p,1,16,y,S,x)}function zs(l,u,p,y,S,x){var L;for(L=3;0<L;--L)An(l,u+=4,1,p,16,y,S,x)}function Su(l,u,p,y,S,x,L,P){Ni(l,u,S,1,8,x,L,P),Ni(p,y,S,1,8,x,L,P)}function Vo(l,u,p,y,S,x,L,P){Ni(l,u,1,S,8,x,L,P),Ni(p,y,1,S,8,x,L,P)}function Go(l,u,p,y,S,x,L,P){An(l,u+4*S,S,1,8,x,L,P),An(p,y+4*S,S,1,8,x,L,P)}function ml(l,u,p,y,S,x,L,P){An(l,u+4,1,S,8,x,L,P),An(p,y+4,1,S,8,x,L,P)}function Hs(){this.ba=new vn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ut,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ko(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Jo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vl(){this.ua=0,this.Wa=new O,this.vb=new O,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new R}function Au(){this.xb=this.a=0,this.l=new Ds,this.ca=new vn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vl,this.ab=0,this.gc=o(4,Jo),this.Oc=0}function Ws(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ds,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function is(l,u,p,y,S,x,L){for(l=l==null?0:l[u+0],u=0;u<L;++u)S[x+u]=l+p[y+u]&255,l=S[x+u]}function Yo(l,u,p,y,S,x,L){var P;if(l==null)is(null,null,p,y,S,x,L);else for(P=0;P<L;++P)S[x+P]=l[u+P]+p[y+P]&255}function Li(l,u,p,y,S,x,L){if(l==null)is(null,null,p,y,S,x,L);else{var P,T=l[u+0],F=T,J=T;for(P=0;P<L;++P)F=J+(T=l[u+P])-F,J=p[y+P]+(-256&F?0>F?0:255:F)&255,F=T,S[x+P]=J}}function Xo(l,u,p,y){var S=u.width,x=u.o;if(e(l!=null&&u!=null),0>p||0>=y||p+y>x)return null;if(!l.Cc){if(l.ga==null){var L;if(l.ga=new Ws,(L=l.ga==null)||(L=u.width*u.o,e(l.Gb.length==0),l.Gb=s(L),l.Uc=0,l.Gb==null?L=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,L=1),L=!L),!L){L=l.ga;var P=l.Fa,T=l.P,F=l.qc,J=l.mb,fe=l.nb,de=T+1,re=F-1,Pe=L.l;if(e(P!=null&&J!=null&&u!=null),Ci[0]=null,Ci[1]=is,Ci[2]=Yo,Ci[3]=Li,L.ca=J,L.tb=fe,L.c=u.width,L.i=u.height,e(0<L.c&&0<L.i),1>=F)u=0;else if(L.$a=P[T+0]>>0&3,L.Z=P[T+0]>>2&3,L.Lc=P[T+0]>>4&3,T=P[T+0]>>6&3,0>L.$a||1<L.$a||4<=L.Z||1<L.Lc||T)u=0;else if(Pe.put=Bn,Pe.ac=hr,Pe.bc=Mn,Pe.ma=L,Pe.width=u.width,Pe.height=u.height,Pe.Da=u.Da,Pe.v=u.v,Pe.va=u.va,Pe.j=u.j,Pe.o=u.o,L.$a)e:{e(L.$a==1),u=on();t:for(;;){if(u==null){u=0;break e}if(e(L!=null),L.mc=u,u.c=L.c,u.i=L.i,u.l=L.l,u.l.ma=L,u.l.width=L.c,u.l.height=L.i,u.a=0,Q(u.m,P,de,re),!$n(L.c,L.i,1,u,null)||(u.ab==1&&u.gc[0].hc==3&&si(u.s)?(L.ic=1,P=u.c*u.i,u.Ta=null,u.Ua=0,u.V=s(P),u.Ba=0,u.V==null?(u.a=1,u=0):u=1):(L.ic=0,u=es(u,L.c)),!u))break t;u=1;break e}L.mc=null,u=0}else u=re>=L.c*L.i;L=!u}if(L)return null;l.ga.Lc!=1?l.Ga=0:y=x-p}e(l.ga!=null),e(p+y<=x);e:{if(u=(P=l.ga).c,x=P.l.o,P.$a==0){if(de=l.rc,re=l.Vc,Pe=l.Fa,T=l.P+1+p*u,F=l.mb,J=l.nb+p*u,e(T<=l.P+l.qc),P.Z!=0)for(e(Ci[P.Z]!=null),L=0;L<y;++L)Ci[P.Z](de,re,Pe,T,F,J,u),de=F,re=J,J+=u,T+=u;else for(L=0;L<y;++L)n(F,J,Pe,T,u),de=F,re=J,J+=u,T+=u;l.rc=de,l.Vc=re}else{if(e(P.mc!=null),u=p+y,e((L=P.mc)!=null),e(u<=L.i),L.C>=u)u=1;else if(P.ic||le(),P.ic){P=L.V,de=L.Ba,re=L.c;var Se=L.i,Y=(Pe=1,T=L.$/re,F=L.$%re,J=L.m,fe=L.s,L.$),Z=re*Se,ke=re*u,Oe=fe.wc,Ee=Y<ke?Zt(fe,F,T):null;e(Y<=Z),e(u<=Se),e(si(fe));t:for(;;){for(;!J.h&&Y<ke;){if(F&Oe||(Ee=Zt(fe,F,T)),e(Ee!=null),ee(J),256>(Se=Fr(Ee.G[0],Ee.H[0],J)))P[de+Y]=Se,++Y,++F>=re&&(F=0,++T<=u&&!(T%16)&&wn(L,T));else{if(!(280>Se)){Pe=0;break t}Se=yn(Se-256,J);var $e,Be=Fr(Ee.G[4],Ee.H[4],J);if(ee(J),!(Y>=(Be=Un(re,Be=yn(Be,J)))&&Z-Y>=Se)){Pe=0;break t}for($e=0;$e<Se;++$e)P[de+Y+$e]=P[de+Y+$e-Be];for(Y+=Se,F+=Se;F>=re;)F-=re,++T<=u&&!(T%16)&&wn(L,T);Y<ke&&F&Oe&&(Ee=Zt(fe,F,T))}e(J.h==q(J))}wn(L,T>u?u:T);break t}!Pe||J.h&&Y<Z?(Pe=0,L.a=J.h?5:3):L.$=Y,u=Pe}else u=_n(L,L.V,L.Ba,L.c,L.i,u,Cs);if(!u){y=0;break e}}p+y>=x&&(l.Cc=1),y=1}if(!y)return null;if(l.Cc&&((y=l.ga)!=null&&(y.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+p*S}function f(l,u,p,y,S,x){for(;0<S--;){var L,P=l,T=u+(p?1:0),F=l,J=u+(p?0:3);for(L=0;L<y;++L){var fe=F[J+4*L];fe!=255&&(fe*=32897,P[T+4*L+0]=P[T+4*L+0]*fe>>23,P[T+4*L+1]=P[T+4*L+1]*fe>>23,P[T+4*L+2]=P[T+4*L+2]*fe>>23)}u+=x}}function A(l,u,p,y,S){for(;0<y--;){var x;for(x=0;x<p;++x){var L=l[u+2*x+0],P=15&(F=l[u+2*x+1]),T=4369*P,F=(240&F|F>>4)*T>>16;l[u+2*x+0]=(240&L|L>>4)*T>>16&240|(15&L|L<<4)*T>>16>>4&15,l[u+2*x+1]=240&F|P}u+=S}}function M(l,u,p,y,S,x,L,P){var T,F,J=255;for(F=0;F<S;++F){for(T=0;T<y;++T){var fe=l[u+T];x[L+4*T]=fe,J&=fe}u+=p,L+=P}return J!=255}function G(l,u,p,y,S){var x;for(x=0;x<S;++x)p[y+x]=l[u+x]>>8}function le(){un=f,Tt=A,Ct=M,Gt=G}function xe(l,u,p){U[l]=function(y,S,x,L,P,T,F,J,fe,de,re,Pe,Se,Y,Z,ke,Oe){var Ee,$e=Oe-1>>1,Be=P[T+0]|F[J+0]<<16,Ye=fe[de+0]|re[Pe+0]<<16;e(y!=null);var Me=3*Be+Ye+131074>>2;for(u(y[S+0],255&Me,Me>>16,Se,Y),x!=null&&(Me=3*Ye+Be+131074>>2,u(x[L+0],255&Me,Me>>16,Z,ke)),Ee=1;Ee<=$e;++Ee){var vt=P[T+Ee]|F[J+Ee]<<16,At=fe[de+Ee]|re[Pe+Ee]<<16,mt=Be+vt+Ye+At+524296,dt=mt+2*(vt+Ye)>>3;Me=dt+Be>>1,Be=(mt=mt+2*(Be+At)>>3)+vt>>1,u(y[S+2*Ee-1],255&Me,Me>>16,Se,Y+(2*Ee-1)*p),u(y[S+2*Ee-0],255&Be,Be>>16,Se,Y+(2*Ee-0)*p),x!=null&&(Me=mt+Ye>>1,Be=dt+At>>1,u(x[L+2*Ee-1],255&Me,Me>>16,Z,ke+(2*Ee-1)*p),u(x[L+2*Ee+0],255&Be,Be>>16,Z,ke+(2*Ee+0)*p)),Be=vt,Ye=At}1&Oe||(Me=3*Be+Ye+131074>>2,u(y[S+Oe-1],255&Me,Me>>16,Se,Y+(Oe-1)*p),x!=null&&(Me=3*Ye+Be+131074>>2,u(x[L+Oe-1],255&Me,Me>>16,Z,ke+(Oe-1)*p)))}}function Te(){fn[Nl]=E2,fn[Ll]=Wf,fn[Uf]=P2,fn[kl]=Vf,fn[El]=Gf,fn[Lu]=Kf,fn[qf]=O2,fn[ku]=Wf,fn[Eu]=Vf,fn[Pl]=Gf,fn[Pu]=Kf}function qe(l){return l&-16384?0>l?0:255:l>>T2}function Ke(l,u){return qe((19077*l>>8)+(26149*u>>8)-14234)}function at(l,u,p){return qe((19077*l>>8)-(6419*u>>8)-(13320*p>>8)+8708)}function st(l,u){return qe((19077*l>>8)+(33050*u>>8)-17685)}function gt(l,u,p,y,S){y[S+0]=Ke(l,p),y[S+1]=at(l,u,p),y[S+2]=st(l,u)}function Dt(l,u,p,y,S){y[S+0]=st(l,u),y[S+1]=at(l,u,p),y[S+2]=Ke(l,p)}function qt(l,u,p,y,S){var x=at(l,u,p);u=x<<3&224|st(l,u)>>3,y[S+0]=248&Ke(l,p)|x>>5,y[S+1]=u}function Qt(l,u,p,y,S){var x=240&st(l,u)|15;y[S+0]=240&Ke(l,p)|at(l,u,p)>>4,y[S+1]=x}function vr(l,u,p,y,S){y[S+0]=255,gt(l,u,p,y,S+1)}function ar(l,u,p,y,S){Dt(l,u,p,y,S),y[S+3]=255}function xn(l,u,p,y,S){gt(l,u,p,y,S),y[S+3]=255}function Gr(l,u){return 0>l?0:l>u?u:l}function Wn(l,u,p){U[l]=function(y,S,x,L,P,T,F,J,fe){for(var de=J+(-2&fe)*p;J!=de;)u(y[S+0],x[L+0],P[T+0],F,J),u(y[S+1],x[L+0],P[T+0],F,J+p),S+=2,++L,++T,J+=2*p;1&fe&&u(y[S+0],x[L+0],P[T+0],F,J)}}function yl(l,u,p){return p==0?l==0?u==0?6:5:u==0?4:0:p}function Zo(l,u,p,y,S){switch(l>>>30){case 3:ui(u,p,y,S,0);break;case 2:Vt(u,p,y,S);break;case 1:Er(u,p,y,S)}}function Qo(l,u){var p,y,S=u.M,x=u.Nb,L=l.oc,P=l.pc+40,T=l.oc,F=l.pc+584,J=l.oc,fe=l.pc+600;for(p=0;16>p;++p)L[P+32*p-1]=129;for(p=0;8>p;++p)T[F+32*p-1]=129,J[fe+32*p-1]=129;for(0<S?L[P-1-32]=T[F-1-32]=J[fe-1-32]=129:(i(L,P-32-1,127,21),i(T,F-32-1,127,9),i(J,fe-32-1,127,9)),y=0;y<l.za;++y){var de=u.ya[u.aa+y];if(0<y){for(p=-1;16>p;++p)n(L,P+32*p-4,L,P+32*p+12,4);for(p=-1;8>p;++p)n(T,F+32*p-4,T,F+32*p+4,4),n(J,fe+32*p-4,J,fe+32*p+4,4)}var re=l.Gd,Pe=l.Hd+y,Se=de.ad,Y=de.Hc;if(0<S&&(n(L,P-32,re[Pe].y,0,16),n(T,F-32,re[Pe].f,0,8),n(J,fe-32,re[Pe].ea,0,8)),de.Za){var Z=L,ke=P-32+16;for(0<S&&(y>=l.za-1?i(Z,ke,re[Pe].y[15],4):n(Z,ke,re[Pe+1].y,0,4)),p=0;4>p;p++)Z[ke+128+p]=Z[ke+256+p]=Z[ke+384+p]=Z[ke+0+p];for(p=0;16>p;++p,Y<<=2)Z=L,ke=P+Yf[p],Nn[de.Ob[p]](Z,ke),Zo(Y,Se,16*+p,Z,ke)}else if(Z=yl(y,S,de.Ob[0]),Ti[Z](L,P),Y!=0)for(p=0;16>p;++p,Y<<=2)Zo(Y,Se,16*+p,L,P+Yf[p]);for(p=de.Gc,Z=yl(y,S,de.Dd),fi[Z](T,F),fi[Z](J,fe),Y=Se,Z=T,ke=F,255&(de=p>>0)&&(170&de?ia(Y,256,Z,ke):ln(Y,256,Z,ke)),de=J,Y=fe,255&(p>>=8)&&(170&p?ia(Se,320,de,Y):ln(Se,320,de,Y)),S<l.Ub-1&&(n(re[Pe].y,0,L,P+480,16),n(re[Pe].f,0,T,F+224,8),n(re[Pe].ea,0,J,fe+224,8)),p=8*x*l.B,re=l.sa,Pe=l.ta+16*y+16*x*l.R,Se=l.qa,de=l.ra+8*y+p,Y=l.Ha,Z=l.Ia+8*y+p,p=0;16>p;++p)n(re,Pe+p*l.R,L,P+32*p,16);for(p=0;8>p;++p)n(Se,de+p*l.B,T,F+32*p,8),n(Y,Z+p*l.B,J,fe+32*p,8)}}function Vs(l,u,p,y,S,x,L,P,T){var F=[0],J=[0],fe=0,de=T!=null?T.kd:0,re=T??new Ko;if(l==null||12>p)return 7;re.data=l,re.w=u,re.ha=p,u=[u],p=[p],re.gb=[re.gb];e:{var Pe=u,Se=p,Y=re.gb;if(e(l!=null),e(Se!=null),e(Y!=null),Y[0]=0,12<=Se[0]&&!r(l,Pe[0],"RIFF")){if(r(l,Pe[0]+8,"WEBP")){Y=3;break e}var Z=B(l,Pe[0]+4);if(12>Z||4294967286<Z){Y=3;break e}if(de&&Z>Se[0]-8){Y=7;break e}Y[0]=Z,Pe[0]+=12,Se[0]-=12}Y=0}if(Y!=0)return Y;for(Z=0<re.gb[0],p=p[0];;){e:{var ke=l;Se=u,Y=p;var Oe=F,Ee=J,$e=Pe=[0];if((Me=fe=[fe])[0]=0,8>Y[0])Y=7;else{if(!r(ke,Se[0],"VP8X")){if(B(ke,Se[0]+4)!=10){Y=3;break e}if(18>Y[0]){Y=7;break e}var Be=B(ke,Se[0]+8),Ye=1+j(ke,Se[0]+12);if(2147483648<=Ye*(ke=1+j(ke,Se[0]+15))){Y=3;break e}$e!=null&&($e[0]=Be),Oe!=null&&(Oe[0]=Ye),Ee!=null&&(Ee[0]=ke),Se[0]+=18,Y[0]-=18,Me[0]=1}Y=0}}if(fe=fe[0],Pe=Pe[0],Y!=0)return Y;if(Se=!!(2&Pe),!Z&&fe)return 3;if(x!=null&&(x[0]=!!(16&Pe)),L!=null&&(L[0]=Se),P!=null&&(P[0]=0),L=F[0],Pe=J[0],fe&&Se&&T==null){Y=0;break}if(4>p){Y=7;break}if(Z&&fe||!Z&&!fe&&!r(l,u[0],"ALPH")){p=[p],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{Be=l,Y=u,Z=p;var Me=re.gb;Oe=re.na,Ee=re.P,$e=re.Sa,Ye=22,e(Be!=null),e(Z!=null),ke=Y[0];var vt=Z[0];for(e(Oe!=null),e($e!=null),Oe[0]=null,Ee[0]=null,$e[0]=0;;){if(Y[0]=ke,Z[0]=vt,8>vt){Y=7;break e}var At=B(Be,ke+4);if(4294967286<At){Y=3;break e}var mt=8+At+1&-2;if(Ye+=mt,0<Me&&Ye>Me){Y=3;break e}if(!r(Be,ke,"VP8 ")||!r(Be,ke,"VP8L")){Y=0;break e}if(vt[0]<mt){Y=7;break e}r(Be,ke,"ALPH")||(Oe[0]=Be,Ee[0]=ke+8,$e[0]=At),ke+=mt,vt-=mt}}if(p=p[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],Y!=0)break}p=[p],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Me=l,Y=u,Z=p,Oe=re.gb[0],Ee=re.Ja,$e=re.xa,Be=Y[0],ke=!r(Me,Be,"VP8 "),Ye=!r(Me,Be,"VP8L"),e(Me!=null),e(Z!=null),e(Ee!=null),e($e!=null),8>Z[0])Y=7;else{if(ke||Ye){if(Me=B(Me,Be+4),12<=Oe&&Me>Oe-12){Y=3;break e}if(de&&Me>Z[0]-8){Y=7;break e}Ee[0]=Me,Y[0]+=8,Z[0]-=8,$e[0]=Ye}else $e[0]=5<=Z[0]&&Me[Be+0]==47&&!(Me[Be+4]>>5),Ee[0]=Z[0];Y=0}if(p=p[0],re.Ja=re.Ja[0],re.xa=re.xa[0],u=u[0],Y!=0)break;if(4294967286<re.Ja)return 3;if(P==null||Se||(P[0]=re.xa?2:1),L=[L],Pe=[Pe],re.xa){if(5>p){Y=7;break}P=L,de=Pe,Se=x,l==null||5>p?l=0:5<=p&&l[u+0]==47&&!(l[u+4]>>5)?(Z=[0],Me=[0],Oe=[0],Q(Ee=new N,l,u,p),Xe(Ee,Z,Me,Oe)?(P!=null&&(P[0]=Z[0]),de!=null&&(de[0]=Me[0]),Se!=null&&(Se[0]=Oe[0]),l=1):l=0):l=0}else{if(10>p){Y=7;break}P=Pe,l==null||10>p||!rl(l,u+3,p-3)?l=0:(de=l[u+0]|l[u+1]<<8|l[u+2]<<16,Se=16383&(l[u+7]<<8|l[u+6]),l=16383&(l[u+9]<<8|l[u+8]),1&de||3<(de>>1&7)||!(de>>4&1)||de>>5>=re.Ja||!Se||!l?l=0:(L&&(L[0]=Se),P&&(P[0]=l),l=1))}if(!l||(L=L[0],Pe=Pe[0],fe&&(F[0]!=L||J[0]!=Pe)))return 3;T!=null&&(T[0]=re,T.offset=u-T.w,e(4294967286>u-T.w),e(T.offset==T.ha-p));break}return Y==0||Y==7&&fe&&T==null?(x!=null&&(x[0]|=re.na!=null&&0<re.na.length),y!=null&&(y[0]=L),S!=null&&(S[0]=Pe),0):Y}function ea(l,u,p){var y=u.width,S=u.height,x=0,L=0,P=y,T=S;if(u.Da=l!=null&&0<l.Da,u.Da&&(P=l.cd,T=l.bd,x=l.v,L=l.j,11>p||(x&=-2,L&=-2),0>x||0>L||0>=P||0>=T||x+P>y||L+T>S))return 0;if(u.v=x,u.j=L,u.va=x+P,u.o=L+T,u.U=P,u.T=T,u.da=l!=null&&0<l.da,u.da){if(!be(P,T,p=[l.ib],x=[l.hb]))return 0;u.ib=p[0],u.hb=x[0]}return u.ob=l!=null&&l.ob,u.Kb=l==null||!l.Sd,u.da&&(u.ob=u.ib<3*y/4&&u.hb<3*S/4,u.Kb=0),1}function ta(l){if(l==null)return 2;if(11>l.S){var u=l.f.RGBA;u.fb+=(l.height-1)*u.A,u.A=-u.A}else u=l.f.kb,l=l.height,u.O+=(l-1)*u.fa,u.fa=-u.fa,u.N+=(l-1>>1)*u.Ab,u.Ab=-u.Ab,u.W+=(l-1>>1)*u.Db,u.Db=-u.Db,u.F!=null&&(u.J+=(l-1)*u.lb,u.lb=-u.lb);return 0}function Gs(l,u,p,y){if(y==null||0>=l||0>=u)return 2;if(p!=null){if(p.Da){var S=p.cd,x=p.bd,L=-2&p.v,P=-2&p.j;if(0>L||0>P||0>=S||0>=x||L+S>l||P+x>u)return 2;l=S,u=x}if(p.da){if(!be(l,u,S=[p.ib],x=[p.hb]))return 2;l=S[0],u=x[0]}}y.width=l,y.height=u;e:{var T=y.width,F=y.height;if(l=y.S,0>=T||0>=F||!(l>=Nl&&13>l))l=2;else{if(0>=y.Rd&&y.sd==null){L=x=S=u=0;var J=(P=T*Xf[l])*F;if(11>l||(x=(F+1)/2*(u=(T+1)/2),l==12&&(L=(S=T)*F)),(F=s(J+2*x+L))==null){l=1;break e}y.sd=F,11>l?((T=y.f.RGBA).eb=F,T.fb=0,T.A=P,T.size=J):((T=y.f.kb).y=F,T.O=0,T.fa=P,T.Fd=J,T.f=F,T.N=0+J,T.Ab=u,T.Cd=x,T.ea=F,T.W=0+J+x,T.Db=u,T.Ed=x,l==12&&(T.F=F,T.J=0+J+2*x),T.Tc=L,T.lb=S)}if(u=1,S=y.S,x=y.width,L=y.height,S>=Nl&&13>S)if(11>S)l=y.f.RGBA,u&=(P=Math.abs(l.A))*(L-1)+x<=l.size,u&=P>=x*Xf[S],u&=l.eb!=null;else{l=y.f.kb,P=(x+1)/2,J=(L+1)/2,T=Math.abs(l.fa),F=Math.abs(l.Ab);var fe=Math.abs(l.Db),de=Math.abs(l.lb),re=de*(L-1)+x;u&=T*(L-1)+x<=l.Fd,u&=F*(J-1)+P<=l.Cd,u=(u&=fe*(J-1)+P<=l.Ed)&T>=x&F>=P&fe>=P,u&=l.y!=null,u&=l.f!=null,u&=l.ea!=null,S==12&&(u&=de>=x,u&=re<=l.Tc,u&=l.F!=null)}else u=0;l=u?0:2}}return l!=0||p!=null&&p.fd&&(l=ta(y)),l}var fr=64,Ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Js=24,Ys=32,ra=8,Br=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];he("Predictor0","PredictorAdd0"),U.Predictor0=function(){return 4278190080},U.Predictor1=function(l){return l},U.Predictor2=function(l,u,p){return u[p+0]},U.Predictor3=function(l,u,p){return u[p+1]},U.Predictor4=function(l,u,p){return u[p-1]},U.Predictor5=function(l,u,p){return Ne(Ne(l,u[p+1]),u[p+0])},U.Predictor6=function(l,u,p){return Ne(l,u[p-1])},U.Predictor7=function(l,u,p){return Ne(l,u[p+0])},U.Predictor8=function(l,u,p){return Ne(u[p-1],u[p+0])},U.Predictor9=function(l,u,p){return Ne(u[p+0],u[p+1])},U.Predictor10=function(l,u,p){return Ne(Ne(l,u[p-1]),Ne(u[p+0],u[p+1]))},U.Predictor11=function(l,u,p){var y=u[p+0];return 0>=Fe(y>>24&255,l>>24&255,(u=u[p-1])>>24&255)+Fe(y>>16&255,l>>16&255,u>>16&255)+Fe(y>>8&255,l>>8&255,u>>8&255)+Fe(255&y,255&l,255&u)?y:l},U.Predictor12=function(l,u,p){var y=u[p+0];return(Le((l>>24&255)+(y>>24&255)-((u=u[p-1])>>24&255))<<24|Le((l>>16&255)+(y>>16&255)-(u>>16&255))<<16|Le((l>>8&255)+(y>>8&255)-(u>>8&255))<<8|Le((255&l)+(255&y)-(255&u)))>>>0},U.Predictor13=function(l,u,p){var y=u[p-1];return(Ce((l=Ne(l,u[p+0]))>>24&255,y>>24&255)<<24|Ce(l>>16&255,y>>16&255)<<16|Ce(l>>8&255,y>>8&255)<<8|Ce(l>>0&255,y>>0&255))>>>0};var xu=U.PredictorAdd0;U.PredictorAdd1=Ue,he("Predictor2","PredictorAdd2"),he("Predictor3","PredictorAdd3"),he("Predictor4","PredictorAdd4"),he("Predictor5","PredictorAdd5"),he("Predictor6","PredictorAdd6"),he("Predictor7","PredictorAdd7"),he("Predictor8","PredictorAdd8"),he("Predictor9","PredictorAdd9"),he("Predictor10","PredictorAdd10"),he("Predictor11","PredictorAdd11"),he("Predictor12","PredictorAdd12"),he("Predictor13","PredictorAdd13");var na=U.PredictorAdd2;Je("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),Je("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var bl,an=U.ColorIndexInverseTransform,Xs=U.MapARGB,wl=U.VP8LColorIndexInverseTransformAlpha,_l=U.MapAlpha,ki=U.VP8LPredictorsAdd=[];ki.length=16,(U.VP8LPredictors=[]).length=16,(U.VP8LPredictorsAdd_C=[]).length=16,(U.VP8LPredictors_C=[]).length=16;var ss,Mr,kr,Ei,li,ci,Zs,ui,Vt,ia,Er,ln,Qs,Sl,sa,os,as,Pi,ls,eo,cs,Oi,oa,cn,un,Tt,Ct,Gt,sr=s(511),hi=s(2041),aa=s(225),to=s(767),Al=0,Nu=hi,xl=aa,Kr=to,hn=sr,Nl=0,Ll=1,Uf=2,kl=3,El=4,Lu=5,qf=6,ku=7,Eu=8,Pl=9,Pu=10,p2=[2,3,7],g2=[3,3,11],$f=[280,256,256,256,40],m2=[0,1,1,1,0],v2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],y2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],b2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],w2=8,Ou=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],la=null,_2=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],S2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],A2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],x2=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],N2=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],L2=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ti=[],Nn=[],fi=[],k2=1,Hf=2,Ci=[],fn=[];xe("UpsampleRgbLinePair",gt,3),xe("UpsampleBgrLinePair",Dt,3),xe("UpsampleRgbaLinePair",xn,4),xe("UpsampleBgraLinePair",ar,4),xe("UpsampleArgbLinePair",vr,4),xe("UpsampleRgba4444LinePair",Qt,2),xe("UpsampleRgb565LinePair",qt,2);var E2=U.UpsampleRgbLinePair,P2=U.UpsampleBgrLinePair,Wf=U.UpsampleRgbaLinePair,Vf=U.UpsampleBgraLinePair,Gf=U.UpsampleArgbLinePair,Kf=U.UpsampleRgba4444LinePair,O2=U.UpsampleRgb565LinePair,Ol=16,Tl=1<<Ol-1,ca=-227,Cu=482,T2=6,Jf=0,C2=s(256),R2=s(256),I2=s(256),j2=s(256),F2=s(Cu-ca),D2=s(Cu-ca);Wn("YuvToRgbRow",gt,3),Wn("YuvToBgrRow",Dt,3),Wn("YuvToRgbaRow",xn,4),Wn("YuvToBgraRow",ar,4),Wn("YuvToArgbRow",vr,4),Wn("YuvToRgba4444Row",Qt,2),Wn("YuvToRgb565Row",qt,2);var Yf=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Cl=[0,2,8],B2=[8,7,6,4,4,2,2,2,1,1,1,1],M2=1;this.WebPDecodeRGBA=function(l,u,p,y,S){var x=Ll,L=new Hs,P=new vn;L.ba=P,P.S=x,P.width=[P.width],P.height=[P.height];var T=P.width,F=P.height,J=new ii;if(J==null||l==null)var fe=2;else e(J!=null),fe=Vs(l,u,p,J.width,J.height,J.Pd,J.Qd,J.format,null);if(fe!=0?T=0:(T!=null&&(T[0]=J.width[0]),F!=null&&(F[0]=J.height[0]),T=1),T){P.width=P.width[0],P.height=P.height[0],y!=null&&(y[0]=P.width),S!=null&&(S[0]=P.height);e:{if(y=new Ds,(S=new Ko).data=l,S.w=u,S.ha=p,S.kd=1,u=[0],e(S!=null),((l=Vs(S.data,S.w,S.ha,null,null,null,u,null,S))==0||l==7)&&u[0]&&(l=4),(u=l)==0){if(e(L!=null),y.data=S.data,y.w=S.w+S.offset,y.ha=S.ha-S.offset,y.put=Bn,y.ac=hr,y.bc=Mn,y.ma=L,S.xa){if((l=on())==null){L=1;break e}if(function(de,re){var Pe=[0],Se=[0],Y=[0];t:for(;;){if(de==null)return 0;if(re==null)return de.a=2,0;if(de.l=re,de.a=0,Q(de.m,re.data,re.w,re.ha),!Xe(de.m,Pe,Se,Y)){de.a=3;break t}if(de.xb=Hf,re.width=Pe[0],re.height=Se[0],!$n(Pe[0],Se[0],1,de,null))break t;return 1}return e(de.a!=0),0}(l,y)){if(y=(u=Gs(y.width,y.height,L.Oa,L.ba))==0){t:{y=l;r:for(;;){if(y==null){y=0;break t}if(e(y.s.yc!=null),e(y.s.Ya!=null),e(0<y.s.Wb),e((p=y.l)!=null),e((S=p.ma)!=null),y.xb!=0){if(y.ca=S.ba,y.tb=S.tb,e(y.ca!=null),!ea(S.Oa,p,kl)){y.a=2;break r}if(!es(y,p.width)||p.da)break r;if((p.da||bt(y.ca.S))&&le(),11>y.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),y.ca.f.kb.F!=null&&le()),y.Pb&&0<y.s.ua&&y.s.vb.X==null&&!se(y.s.vb,y.s.Wa.Xa)){y.a=1;break r}y.xb=0}if(!_n(y,y.V,y.Ba,y.c,y.i,p.o,Ts))break r;S.Dc=y.Ma,y=1;break t}e(y.a!=0),y=0}y=!y}y&&(u=l.a)}else u=l.a}else{if((l=new su)==null){L=1;break e}if(l.Fa=S.na,l.P=S.P,l.qc=S.Sa,nl(l,y)){if((u=Gs(y.width,y.height,L.Oa,L.ba))==0){if(l.Aa=0,p=L.Oa,e((S=l)!=null),p!=null){if(0<(T=0>(T=p.Md)?0:100<T?255:255*T/100)){for(F=J=0;4>F;++F)12>(fe=S.pb[F]).lc&&(fe.ia=T*B2[0>fe.lc?0:fe.lc]>>3),J|=fe.ia;J&&(alert("todo:VP8InitRandom"),S.ia=1)}S.Ga=p.Id,100<S.Ga?S.Ga=100:0>S.Ga&&(S.Ga=0)}ou(l,y)||(u=l.a)}}else u=l.a}u==0&&L.Oa!=null&&L.Oa.fd&&(u=ta(L.ba))}L=u}x=L!=0?null:11>x?P.f.RGBA.eb:P.f.kb.y}else x=null;return x};var Xf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(U,K){for(var ne="",C=0;C<4;C++)ne+=String.fromCharCode(U[K++]);return ne}function d(U,K){return(U[K+0]<<0|U[K+1]<<8|U[K+2]<<16)>>>0}function m(U,K){return(U[K+0]<<0|U[K+1]<<8|U[K+2]<<16|U[K+3]<<24)>>>0}new c;var v=[0],g=[0],w=[],b=new c,k=t,_=function(U,K){var ne={},C=0,R=!1,W=0,z=0;if(ne.frames=[],!function(D,q,V,ee){for(var ue=0;ue<ee;ue++)if(D[q+ue]!=V.charCodeAt(ue))return!0;return!1}(U,K,"RIFF",4)){for(m(U,K+=4),K+=8;K<U.length;){var ve=h(U,K),oe=m(U,K+=4);K+=4;var ie=oe+(1&oe);switch(ve){case"VP8 ":case"VP8L":ne.frames[C]===void 0&&(ne.frames[C]={}),(we=ne.frames[C]).src_off=R?z:K-8,we.src_size=W+oe+8,C++,R&&(R=!1,W=0,z=0);break;case"VP8X":(we=ne.header={}).feature_flags=U[K];var Q=K+4;we.canvas_width=1+d(U,Q),Q+=3,we.canvas_height=1+d(U,Q),Q+=3;break;case"ALPH":R=!0,W=ie+8,z=K-8;break;case"ANIM":(we=ne.header).bgcolor=m(U,K),Q=K+4,we.loop_count=(je=U)[(N=Q)+0]<<0|je[N+1]<<8,Q+=2;break;case"ANMF":var ye,we;(we=ne.frames[C]={}).offset_x=2*d(U,K),K+=3,we.offset_y=2*d(U,K),K+=3,we.width=1+d(U,K),K+=3,we.height=1+d(U,K),K+=3,we.duration=d(U,K),K+=3,ye=U[K++],we.dispose=1&ye,we.blend=ye>>1&1}ve!="ANMF"&&(K+=ie)}var je,N;return ne}}(k,0);_.response=k,_.rgbaoutput=!0,_.dataurl=!1;var E=_.header?_.header:null,I=_.frames?_.frames:null;if(E){E.loop_counter=E.loop_count,v=[E.canvas_height],g=[E.canvas_width];for(var $=0;$<I.length&&I[$].blend!=0;$++);}var te=I[0],pe=b.WebPDecodeRGBA(k,te.src_off,te.src_size,g,v);te.rgba=pe,te.imgwidth=g[0],te.imgheight=v[0];for(var X=0;X<g[0]*v[0]*4;X++)w[X]=pe[X];return this.width=g,this.height=v,this.data=w,this}(function(t){var e=function(){return typeof tf=="function"},r=function(v,g,w,b){var k=4,_=o;switch(b){case t.image_compression.FAST:k=1,_=s;break;case t.image_compression.MEDIUM:k=6,_=a;break;case t.image_compression.SLOW:k=9,_=c}v=n(v,g,w,_);var E=tf(v,{level:k});return t.__addimage__.arrayBufferToBinaryString(E)},n=function(v,g,w,b){for(var k,_,E,I=v.length/g,$=new Uint8Array(v.length+I),te=d(),pe=0;pe<I;pe+=1){if(E=pe*g,k=v.subarray(E,E+g),b)$.set(b(k,w,_),E+pe);else{for(var X,U=te.length,K=[];X<U;X+=1)K[X]=te[X](k,w,_);var ne=m(K.concat());$.set(K[ne],E+pe)}_=k}return $},i=function(v){var g=Array.apply([],v);return g.unshift(0),g},s=function(v,g){var w,b=[],k=v.length;b[0]=1;for(var _=0;_<k;_+=1)w=v[_-g]||0,b[_+1]=v[_]-w+256&255;return b},o=function(v,g,w){var b,k=[],_=v.length;k[0]=2;for(var E=0;E<_;E+=1)b=w&&w[E]||0,k[E+1]=v[E]-b+256&255;return k},a=function(v,g,w){var b,k,_=[],E=v.length;_[0]=3;for(var I=0;I<E;I+=1)b=v[I-g]||0,k=w&&w[I]||0,_[I+1]=v[I]+256-(b+k>>>1)&255;return _},c=function(v,g,w){var b,k,_,E,I=[],$=v.length;I[0]=4;for(var te=0;te<$;te+=1)b=v[te-g]||0,k=w&&w[te]||0,_=w&&w[te-g]||0,E=h(b,k,_),I[te+1]=v[te]-E+256&255;return I},h=function(v,g,w){if(v===g&&g===w)return v;var b=Math.abs(g-w),k=Math.abs(v-w),_=Math.abs(v+g-w-w);return b<=k&&b<=_?v:k<=_?g:w},d=function(){return[i,s,o,a,c]},m=function(v){var g=v.map(function(w){return w.reduce(function(b,k){return b+Math.abs(k)},0)});return g.indexOf(Math.min.apply(null,g))};t.processPNG=function(v,g,w,b){var k,_,E,I,$,te,pe,X,U,K,ne,C,R,W,z,ve=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(E=new __(v)).imgData,_=E.bits,k=E.colorSpace,$=E.colors,[4,6].indexOf(E.colorType)!==-1){if(E.bits===8){U=(X=E.pixelBitlength==32?new Uint32Array(E.decodePixels().buffer):E.pixelBitlength==16?new Uint16Array(E.decodePixels().buffer):new Uint8Array(E.decodePixels().buffer)).length,ne=new Uint8Array(U*E.colors),K=new Uint8Array(U);var ie,Q=E.pixelBitlength-E.bits;for(W=0,z=0;W<U;W++){for(R=X[W],ie=0;ie<Q;)ne[z++]=R>>>ie&255,ie+=E.bits;K[W]=R>>>ie&255}}if(E.bits===16){U=(X=new Uint32Array(E.decodePixels().buffer)).length,ne=new Uint8Array(U*(32/E.pixelBitlength)*E.colors),K=new Uint8Array(U*(32/E.pixelBitlength)),C=E.colors>1,W=0,z=0;for(var ye=0;W<U;)R=X[W++],ne[z++]=R>>>0&255,C&&(ne[z++]=R>>>16&255,R=X[W++],ne[z++]=R>>>0&255),K[ye++]=R>>>16&255;_=8}b!==t.image_compression.NONE&&e()?(v=r(ne,E.width*E.colors,E.colors,b),pe=r(K,E.width,1,b)):(v=ne,pe=K,ve=void 0)}if(E.colorType===3&&(k=this.color_spaces.INDEXED,te=E.palette,E.transparency.indexed)){var we=E.transparency.indexed,je=0;for(W=0,U=we.length;W<U;++W)je+=we[W];if((je/=255)===U-1&&we.indexOf(0)!==-1)I=[we.indexOf(0)];else if(je!==U){for(X=E.decodePixels(),K=new Uint8Array(X.length),W=0,U=X.length;W<U;W++)K[W]=we[X[W]];pe=r(K,E.width,1)}}var N=function(D){var q;switch(D){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(b);return ve===this.decode.FLATE_DECODE&&(oe="/Predictor "+N+" "),oe+="/Colors "+$+" /BitsPerComponent "+_+" /Columns "+E.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(pe&&this.__addimage__.isArrayBuffer(pe)||this.__addimage__.isArrayBufferView(pe))&&(pe=this.__addimage__.arrayBufferToBinaryString(pe)),{alias:w,data:v,index:g,filter:ve,decodeParameters:oe,transparency:I,palette:te,sMask:pe,predictor:N,width:E.width,height:E.height,bitsPerComponent:_,colorSpace:k}}}})(et.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new S_(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var h={data:c,width:o,height:a},d=new wh(100).encode(h,100);return t.processJPEG.call(this,d,r,n,i)},t.processGIF87A=t.processGIF89A}(et.API),Pn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Pn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Pt.log("bit decode error:"+r)}},Pn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}r!==0&&(this.pos+=4-r)}},Pn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*i*4,a=s>>4,c=15&s,h=this.palette[a];if(this.data[o]=h.blue,this.data[o+1]=h.green,this.data[o+2]=h.red,this.data[o+3]=255,2*i+1>=this.width)break;h=this.palette[c],this.data[o+4]=h.blue,this.data[o+4+1]=h.green,this.data[o+4+2]=h.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Pn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Pn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,h=s>>15?255:0,d=n*this.width*4+4*i;this.data[d]=c,this.data[d+1]=a,this.data[d+2]=o,this.data[d+3]=h}this.pos+=t}},Pn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,h=(o>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=h,this.data[d+1]=c,this.data[d+2]=a,this.data[d+3]=255}this.pos+=t}},Pn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Pn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=o}},Pn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Pn(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},h=new wh(100).encode(c,100);return t.processJPEG.call(this,h,r,n,i)}}(et.API),Jp.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new Jp(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},h=new wh(100).encode(c,100);return t.processJPEG.call(this,h,r,n,i)}}(et.API),et.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,h=0;h<i;h+=4){var d=n[h],m=n[h+1],v=n[h+2],g=n[h+3];s[a++]=d,s[a++]=m,s[a++]=v,o[c++]=g}var w=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:w,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},et.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},go=et.API,ec=go.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,h=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=h.fof?h.fof:1,m=e.doKerning!==!1,v=0,g=t.length,w=0,b=a[0]||c,k=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?k.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(v=m&&Nt(h[n])==="object"&&!isNaN(parseInt(h[n][w],10))?h[n][w]/d:0,k.push((a[n]||b)/c+v)),w=n;return k},Wp=go.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return go.processArabic&&(t=go.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:ec.apply(this,arguments).reduce(function(s,o){return s+o},0)},Vp=function(t,e,r,n){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<r;)a+=e[s],s++;i.push(t.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>n&&(i.push(t.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},Gp=function(t,e,r){r||(r={});var n,i,s,o,a,c,h,d=[],m=[d],v=r.textIndent||0,g=0,w=0,b=t.split(" "),k=ec.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?b[0].length+2:r.lineIndent||0){var _=Array(c).join(" "),E=[];b.map(function($){($=$.split(/\s*\n/)).length>1?E=E.concat($.map(function(te,pe){return(pe&&te.length?`
`:"")+te})):E.push($[0])}),b=E,c=Wp.apply(this,[_,r])}for(s=0,o=b.length;s<o;s++){var I=0;if(n=b[s],c&&n[0]==`
`&&(n=n.substr(1),I=1),v+g+(w=(i=ec.apply(this,[n,r])).reduce(function($,te){return $+te},0))>e||I){if(w>e){for(a=Vp.apply(this,[n,i,e-(v+g),e]),d.push(a.shift()),d=[a.pop()];a.length;)m.push([a.shift()]);w=i.slice(n.length-(d[0]?d[0].length:0)).reduce(function($,te){return $+te},0)}else d=[n];m.push(d),v=w+c,g=k}else d.push(n),v+=g+w,g=k}return h=c?function($,te){return(te?_:"")+$.join(" ")}:function($){return $.join(" ")},m.map(h)},go.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var a,c,h=[];for(a=0,c=n.length;a<c;a++)h=h.concat(Gp.apply(this,[n[a],o,s]));return h},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},o=t.__fontmetrics__.compress=function(m){var v,g,w,b,k=["{"];for(var _ in m){if(v=m[_],isNaN(parseInt(_,10))?g="'"+_+"'":(_=parseInt(_,10),g=(g=s(_).slice(2)).slice(0,-1)+n[g.slice(-1)]),typeof v=="number")v<0?(w=s(v).slice(3),b="-"):(w=s(v).slice(2),b=""),w=b+w.slice(0,-1)+n[w.slice(-1)];else{if(Nt(v)!=="object")throw new Error("Don't know what to do with value type "+Nt(v)+".");w=o(v)}k.push(g+w)}return k.push("}"),k.join("")},a=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,g,w,b,k={},_=1,E=k,I=[],$="",te="",pe=m.length-1,X=1;X<pe;X+=1)(b=m[X])=="'"?v?(w=v.join(""),v=void 0):v=[]:v?v.push(b):b=="{"?(I.push([E,w]),E={},w=void 0):b=="}"?((g=I.pop())[0][g[1]]=E,w=void 0,E=g[0]):b=="-"?_=-1:w===void 0?r.hasOwnProperty(b)?($+=r[b],w=parseInt($,16)*_,_=1,$=""):$+=b:r.hasOwnProperty(b)?(te+=r[b],E[w]=parseInt(te,16)*_,_=1,w=void 0,te=""):te+=b;return k},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},h={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},d={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var v=m.font,g=d.Unicode[v.postScriptName];g&&(v.metadata.Unicode={},v.metadata.Unicode.widths=g.widths,v.metadata.Unicode.kerning=g.kerning);var w=h.Unicode[v.postScriptName];w&&(v.metadata.Unicode.encoding=w,v.encoding=w.codePages[0])}])}(et.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Oa(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,n)}}])}(et),function(t){function e(){return(tt.canvg?Promise.resolve(tt.canvg):Yh(()=>import("./index.es-CfjNnebw.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}et.API.addSvgAsImage=function(r,n,i,s,o,a,c,h){if(isNaN(n)||isNaN(i))throw Pt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Pt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=s,d.height=o;var m=d.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,d.width,d.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},g=this;return e().then(function(w){return w.fromString(m,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(w){return w.render(v)}).then(function(){g.addImage(d.toDataURL("image/jpeg",1),n,i,s,o,c,h)})}}(),et.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},et.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],h=0,d=0,m=0;function v(w,b){var k,_=!1;for(k=0;k<w.length;k+=1)w[k]===b&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=a.length;for(m=0;m<g;m+=1)r[a[m]].value=r[a[m]].defaultValue,r[a[m]].explicitSet=!1}if(Nt(t)==="object"){for(i in t)if(s=t[i],v(a,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&v(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(h=0;h<s.length;h+=1)if(n=!0,s[h].length===1&&typeof s[h][0]=="number")c.push(String(s[h]-1));else if(s[h].length>1){for(d=0;d<s[h].length;d+=1)typeof s[h][d]!="number"&&(n=!1);n===!0&&c.push([s[h][0]-1,s[h][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var w,b=[];for(w in r)r[w].explicitSet===!0&&(r[w].type==="name"?b.push("/"+w+" /"+r[w].value):b.push("/"+w+" "+r[w].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),h=s.length+o.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(et.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,h=["","0","00","000","0000"],d=[""],m=0,v=s.length;m<v;++m){if(a=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(m),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return d.join("");a=a.toString(16),d.push(h[4-a.length],a)}return d.join("")},n=function(s){var o,a,c,h,d,m,v;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,v=(a=Object.keys(s).sort(function(g,w){return g-w})).length;m<v;m++)o=a[m],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(h=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+h+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var m=a.metadata.Unicode.widths,v=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),g="",w=0;w<v.length;w++)g+=String.fromCharCode(v[w]);var b=h();d({data:g,addLength1:!0,objectId:b}),c("endobj");var k=h();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:k}),c("endobj");var _=h();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+_o(a.fontName)),c("/FontFile2 "+b+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var E=h();c("<<"),c("/Type /Font"),c("/BaseFont /"+_o(a.fontName)),c("/FontDescriptor "+_+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=h(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+k+" 0 R"),c("/BaseFont /"+_o(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+E+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,h=o.newObject,d=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var m=a.metadata.rawData,v="",g=0;g<m.length;g++)v+=String.fromCharCode(m[g]);var w=h();d({data:v,addLength1:!0,objectId:w}),c("endobj");var b=h();d({data:n(a.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var k=h();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+w+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+_o(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=h();for(var _=0;_<a.metadata.hmtx.widths.length;_++)a.metadata.hmtx.widths[_]=parseInt(a.metadata.hmtx.widths[_]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+_o(a.fontName)+"/FontDescriptor "+k+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,h=s.y,d=s.options||{},m=s.mutex||{},v=m.pdfEscape,g=m.activeFontKey,w=m.fonts,b=g,k="",_=0,E="",I=w[b].encoding;if(w[b].encoding!=="Identity-H")return{text:a,x:c,y:h,options:d,mutex:m};for(E=a,b=g,Array.isArray(a)&&(E=a[0]),_=0;_<E.length;_+=1)w[b].metadata.hasOwnProperty("cmap")&&(o=w[b].metadata.cmap.unicode.codeMap[E[_].charCodeAt(0)]),o||E[_].charCodeAt(0)<256&&w[b].metadata.hasOwnProperty("Unicode")?k+=E[_]:k+="";var $="";return parseInt(b.slice(1))<14||I==="WinAnsiEncoding"?$=v(k,b).split("").map(function(te){return te.charCodeAt(0).toString(16)}).join(""):I==="Identity-H"&&($=r(k,w[b])),m.isHex=!0,{text:$,x:c,y:h,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var h=0;for(h=0;h<o.length;h+=1)Array.isArray(o[h])&&o[h].length===3?a.push([i(Object.assign({},c,{text:o[h][0]})).text,o[h][1],o[h][2]]):a.push(i(Object.assign({},c,{text:o[h]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])}(et),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(et.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,o,a,c,h,d,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],w={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},k=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),E=!1,I=0;this.__bidiEngine__={};var $=function(C){var R=C.charCodeAt(),W=R>>8,z=b[W];return z!==void 0?m[256*z+(255&R)]:W===252||W===253?"AL":_.test(W)?"L":W===8?"R":"N"},te=function(C){for(var R,W=0;W<C.length;W++){if((R=$(C.charAt(W)))==="L")return!1;if(R==="R")return!0}return!1},pe=function(C,R,W,z){var ve,oe,ie,Q,ye=R[z];switch(ye){case"L":case"R":E=!1;break;case"N":case"AN":break;case"EN":E&&(ye="AN");break;case"AL":E=!0,ye="R";break;case"WS":ye="N";break;case"CS":z<1||z+1>=R.length||(ve=W[z-1])!=="EN"&&ve!=="AN"||(oe=R[z+1])!=="EN"&&oe!=="AN"?ye="N":E&&(oe="AN"),ye=oe===ve?oe:"N";break;case"ES":ye=(ve=z>0?W[z-1]:"B")==="EN"&&z+1<R.length&&R[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&W[z-1]==="EN"){ye="EN";break}if(E){ye="N";break}for(ie=z+1,Q=R.length;ie<Q&&R[ie]==="ET";)ie++;ye=ie<Q&&R[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(Q=R.length,ie=z+1;ie<Q&&R[ie]==="NSM";)ie++;if(ie<Q){var we=C[z],je=we>=1425&&we<=2303||we===64286;if(ve=R[ie],je&&(ve==="R"||ve==="AL")){ye="R";break}}}ye=z<1||(ve=R[z-1])==="B"?"N":W[z-1];break;case"B":E=!1,i=!0,ye=I;break;case"S":s=!0,ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":E=!1;break;case"BN":ye="N"}return ye},X=function(C,R,W){var z=C.split("");return W&&U(z,W,{hiLevel:I}),z.reverse(),R&&R.reverse(),z.join("")},U=function(C,R,W){var z,ve,oe,ie,Q,ye=-1,we=C.length,je=0,N=[],D=I?g:v,q=[];for(E=!1,i=!1,s=!1,ve=0;ve<we;ve++)q[ve]=$(C[ve]);for(oe=0;oe<we;oe++){if(Q=je,N[oe]=pe(C,q,N,oe),z=240&(je=D[Q][w[N[oe]]]),je&=15,R[oe]=ie=D[je][5],z>0)if(z===16){for(ve=ye;ve<oe;ve++)R[ve]=1;ye=-1}else ye=-1;if(D[je][6])ye===-1&&(ye=oe);else if(ye>-1){for(ve=ye;ve<oe;ve++)R[ve]=ie;ye=-1}q[oe]==="B"&&(R[oe]=0),W.hiLevel|=ie}s&&function(V,ee,ue){for(var ge=0;ge<ue;ge++)if(V[ge]==="S"){ee[ge]=I;for(var me=ge-1;me>=0&&V[me]==="WS";me--)ee[me]=I}}(q,R,we)},K=function(C,R,W,z,ve){if(!(ve.hiLevel<C)){if(C===1&&I===1&&!i)return R.reverse(),void(W&&W.reverse());for(var oe,ie,Q,ye,we=R.length,je=0;je<we;){if(z[je]>=C){for(Q=je+1;Q<we&&z[Q]>=C;)Q++;for(ye=je,ie=Q-1;ye<ie;ye++,ie--)oe=R[ye],R[ye]=R[ie],R[ie]=oe,W&&(oe=W[ye],W[ye]=W[ie],W[ie]=oe);je=Q}je++}}},ne=function(C,R,W){var z=C.split(""),ve={hiLevel:I};return W||(W=[]),U(z,W,ve),function(oe,ie,Q){if(Q.hiLevel!==0&&d)for(var ye,we=0;we<oe.length;we++)ie[we]===1&&(ye=k.indexOf(oe[we]))>=0&&(oe[we]=k[ye+1])}(z,W,ve),K(2,z,R,W,ve),K(1,z,R,W,ve),z.join("")};return this.__bidiEngine__.doBidiReorder=function(C,R,W){if(function(ve,oe){if(oe)for(var ie=0;ie<ve.length;ie++)oe[ie]=ie;a===void 0&&(a=te(ve)),h===void 0&&(h=te(ve))}(C,R),o||!c||h)if(o&&c&&a^h)I=a?1:0,C=X(C,R,W);else if(!o&&c&&h)I=a?1:0,C=ne(C,R,W),C=X(C,R);else if(!o||a||c||h){if(o&&!c&&a^h)C=X(C,R),a?(I=0,C=ne(C,R,W)):(I=1,C=ne(C,R,W),C=X(C,R));else if(o&&a&&!c&&h)I=1,C=ne(C,R,W),C=X(C,R);else if(!o&&!c&&a^h){var z=d;a?(I=1,C=ne(C,R,W),I=0,d=!1,C=ne(C,R,W),d=z):(I=0,C=ne(C,R,W),C=X(C,R),I=1,d=!1,C=ne(C,R,W),d=z,C=X(C,R))}}else I=0,C=ne(C,R,W);else I=a?1:0,C=ne(C,R,W);return C},this.__bidiEngine__.setOptions=function(C){C&&(o=C.isInputVisual,c=C.isOutputVisual,a=C.isInputRtl,h=C.isOutputRtl,d=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([r.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([r.doBidiReorder(i[a])]);n.text=o}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(et),et.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ki(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new D_(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new A_(this.contents),this.head=new N_(this),this.name=new O_(this),this.cmap=new h2(this),this.toUnicode={},this.hhea=new L_(this),this.maxp=new T_(this),this.hmtx=new C_(this),this.post=new E_(this),this.os2=new k_(this),this.loca=new F_(this),this.glyf=new R_(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,h;for(h=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),(32768&(r=i>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var Dn,Ki=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,o,a,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*o+256*a+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),A_=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,o,a,c,h,d,m,v,g,w,b;for(b in g=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(g)/c),o=Math.floor(m/c),d=16*g-m,(i=new Ki).writeInt(this.scalarType),i.writeShort(g),i.writeShort(m),i.writeShort(o),i.writeShort(d),s=16*g,h=i.pos+s,a=null,w=[],r)for(v=r[b],i.writeString(b),i.writeInt(t(v)),i.writeInt(h),i.writeInt(v.length),w=w.concat(v),b==="head"&&(a=h),h+=v.length;h%4;)w.push(0),h++;return i.write(w),n=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,o;for(r=f2.call(r);r.length%4;)r.push(0);for(s=new Ki(r),i=0,n=0,o=r.length;n<o;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),x_={}.hasOwnProperty,ni=function(t,e){for(var r in e)x_.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};Dn=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var N_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ki).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),Yp=function(){function t(e,r){var n,i,s,o,a,c,h,d,m,v,g,w,b,k,_,E,I;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),v=g/2,e.pos+=6,s=function(){var $,te;for(te=[],c=$=0;0<=v?$<v:$>v;c=0<=v?++$:--$)te.push(e.readUInt16());return te}(),e.pos+=2,b=function(){var $,te;for(te=[],c=$=0;0<=v?$<v:$>v;c=0<=v?++$:--$)te.push(e.readUInt16());return te}(),h=function(){var $,te;for(te=[],c=$=0;0<=v?$<v:$>v;c=0<=v?++$:--$)te.push(e.readUInt16());return te}(),d=function(){var $,te;for(te=[],c=$=0;0<=v?$<v:$>v;c=0<=v?++$:--$)te.push(e.readUInt16());return te}(),i=(this.length-e.pos+this.offset)/2,a=function(){var $,te;for(te=[],c=$=0;0<=i?$<i:$>i;c=0<=i?++$:--$)te.push(e.readUInt16());return te}(),c=_=0,I=s.length;_<I;c=++_)for(k=s[c],n=E=w=b[c];w<=k?E<=k:E>=k;n=w<=k?++E:--E)d[c]===0?o=n+h[c]:(o=a[d[c]/2+(n-w)-(v-c)]||0)!==0&&(o+=h[c]),this.codeMap[n]=65535&o}e.pos=m}return t.encode=function(e,r){var n,i,s,o,a,c,h,d,m,v,g,w,b,k,_,E,I,$,te,pe,X,U,K,ne,C,R,W,z,ve,oe,ie,Q,ye,we,je,N,D,q,V,ee,ue,ge,me,Re,Ie,j;switch(z=new Ki,o=Object.keys(e).sort(function(B,se){return B-se}),r){case"macroman":for(b=0,k=function(){var B=[];for(w=0;w<256;++w)B.push(0);return B}(),E={0:0},s={},ve=0,ye=o.length;ve<ye;ve++)E[me=e[i=o[ve]]]==null&&(E[me]=++b),s[i]={old:e[i],new:E[e[i]]},k[i]=E[e[i]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(k),{charMap:s,subtable:z.data,maxGlyphID:b+1};case"unicode":for(R=[],m=[],I=0,E={},n={},_=h=null,oe=0,we=o.length;oe<we;oe++)E[te=e[i=o[oe]]]==null&&(E[te]=++I),n[i]={old:te,new:E[te]},a=E[te]-i,_!=null&&a===h||(_&&m.push(_),R.push(i),h=a),_=i;for(_&&m.push(_),m.push(65535),R.push(65535),ne=2*(K=R.length),U=2*Math.pow(Math.log(K)/Math.LN2,2),v=Math.log(U/2)/Math.LN2,X=2*K-U,c=[],pe=[],g=[],w=ie=0,je=R.length;ie<je;w=++ie){if(C=R[w],d=m[w],C===65535){c.push(0),pe.push(0);break}if(C-(W=n[C].new)>=32768)for(c.push(0),pe.push(2*(g.length+K-w)),i=Q=C;C<=d?Q<=d:Q>=d;i=C<=d?++Q:--Q)g.push(n[i].new);else c.push(W-C),pe.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*K+2*g.length),z.writeUInt16(0),z.writeUInt16(ne),z.writeUInt16(U),z.writeUInt16(v),z.writeUInt16(X),ue=0,N=m.length;ue<N;ue++)i=m[ue],z.writeUInt16(i);for(z.writeUInt16(0),ge=0,D=R.length;ge<D;ge++)i=R[ge],z.writeUInt16(i);for(Re=0,q=c.length;Re<q;Re++)a=c[Re],z.writeUInt16(a);for(Ie=0,V=pe.length;Ie<V;Ie++)$=pe[Ie],z.writeUInt16($);for(j=0,ee=g.length;j<ee;j++)b=g[j],z.writeUInt16(b);return{charMap:n,subtable:z.data,maxGlyphID:I+1}}},t}(),h2=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new Yp(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=Yp.encode(r,n),(s=new Ki).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),L_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),k_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),E_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var o;for(i=r.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var a,c,h;for(h=[],o=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;o=0<=c?++a:--a)h.push(r.readUInt32());return h}).call(this)}},e}(),P_=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},O_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,o,a,c,h,d,m,v,g;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(h={},o=m=0,v=i.length;m<v;o=++m)s=i[o],r.pos=s.offset,d=r.readString(s.length),a=new P_(d,s),h[g=s.nameID]==null&&(h[g]=[]),h[s.nameID].push(a);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},e}(),T_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),C_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,o,a,c,h;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var d,m;for(m=[],n=d=0;0<=s?d<s:d>s;n=0<=s?++d:--d)m.push(r.readInt16());return m}(),this.widths=(function(){var d,m,v,g;for(g=[],d=0,m=(v=this.metrics).length;d<m;d++)o=v[d],g.push(o.advance);return g}).call(this),i=this.widths[this.widths.length-1],h=[],n=a=0;0<=s?a<s:a>s;n=0<=s?++a:--a)h.push(this.widths.push(i));return h},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),f2=[].slice,R_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,o,a,c,h,d,m,v;return r in this.cache?this.cache[r]:(o=this.file.loca,n=this.file.contents,i=o.indexOf(r),(s=o.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,a=(c=new Ki(n.read(s))).readShort(),d=c.readShort(),v=c.readShort(),h=c.readShort(),m=c.readShort(),this.cache[r]=a===-1?new j_(c,d,v,h,m):new I_(c,a,d,v,h,m),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,o,a,c,h;for(a=[],o=[],c=0,h=n.length;c<h;c++)s=r[n[c]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),I_=function(){function t(e,r,n,i,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),j_=function(){function t(e,r,n,i,s){var o,a;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ki(f2.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),F_=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ni(e,Dn),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*r.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(r.readUInt32());return o}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<n.length&&n[o]==a){++o,i[a]=s;var c=this.offsets[a],h=this.offsets[a+1]-c;h>0&&(s+=h)}for(var d=new Array(4*i.length),m=0;m<i.length;++m)d[4*m+3]=255&i[m],d[4*m+2]=(65280&i[m])>>8,d[4*m+1]=(16711680&i[m])>>16,d[4*m]=(4278190080&i[m])>>24;return d},e}(),D_=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,o,a,c,h,d,m,v,g,w,b,k,_;for(i in n=h2.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},_=n.charMap)g[(c=_[i]).old]=c.new;for(w in v=n.maxGlyphID,o)w in g||(g[w]=v++);return d=function(E){var I,$;for(I in $={},E)$[E[I]]=I;return $}(g),m=Object.keys(d).sort(function(E,I){return E-I}),b=function(){var E,I,$;for($=[],E=0,I=m.length;E<I;E++)a=m[E],$.push(d[a]);return $}(),s=this.font.glyf.encode(o,b,g),h=this.font.loca.encode(s.offsets,b),k={cmap:this.font.cmap.raw(),glyf:s.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(k["OS/2"]=this.font.os2.raw()),this.font.directory.encode(k)},t}();et.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,o;if(Array.isArray(r))return"["+function(){var a,c,h;for(h=[],a=0,c=r.length;a<c;a++)n=r[a],h.push(e.convert(n));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)o=r[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e}();async function B_(){const t="/summonersheet/assets/data/championFull.json";try{const e=await fetch(t,{cache:"no-store"});if(!e.ok)throw new Error(`HTTP ${e.status}`);return await e.json()}catch{try{const n=await(await fetch("https://ddragon.leagueoflegends.com/api/versions.json",{cache:"no-store"})).json(),s=`https://ddragon.leagueoflegends.com/cdn/${Array.isArray(n)&&n.length?n[0]:"latest"}/data/en_US/champion.json`,o=await fetch(s,{cache:"no-store"});if(!o.ok)throw new Error(`HTTP ${o.status}`);return await o.json()}catch{return{data:{}}}}}function M_(t,e){const r=String(t),n=(e==null?void 0:e.data)||{};for(const i in n)if(n[i].key===r)return i;return null}async function U_(t){const e=`https://raw.communitydragon.org/latest/plugins/rcp-be-lol-game-data/global/default/v1/profile-icons/${t}.jpg`,n=await(await fetch(e)).blob();return await new Promise(i=>{const s=new FileReader;s.onloadend=()=>i(s.result),s.readAsDataURL(n)})}async function q_(t){if(!t)return null;const r=`https://raw.communitydragon.org/latest/plugins/rcp-fe-lol-static-assets/global/default/images/ranked-mini-crests/${t.toLowerCase()}.png`,i=await(await fetch(r)).blob();return await new Promise(s=>{const o=new FileReader;o.onloadend=()=>s(o.result),o.readAsDataURL(i)})}function $_(t){return t?t.replace(/[0-9]/g,"").toUpperCase():"[Unknown]"}function z_(t,e){if(!t||t==="today")return e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});const r=new Date(t);return Number.isNaN(r.getTime())?String(t):r.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}const H_=async(t,e,r,n,i,s,o="euw1",a="today")=>{var X,U;const c=await B_(),h=new et,d=new Date;d.toLocaleString();const m=210,v=32,g=12,w=10,b=4;if(i&&i.profileIconId)try{h.setDrawColor(226,192,141),h.setLineWidth(b),h.rect(g-b/2,w-b/2,v+b,v+b,"S");const K=await U_(i.profileIconId);h.addImage(K,"PNG",g,w,v,v)}catch{h.text("Profile Icon: [Bild nicht gefunden]",g,w+v+8)}else h.text("Profile Icon: [Unknown]",g,w+v+8);h.setFont("Helvetica","bold"),h.setFontSize(26);const k=n&&n.gameName&&n.tagLine?`${n.gameName}#${n.tagLine}`:"[Unknown]";h.text(k,m/2,w+v/2+6,{align:"center"}),h.setFont("Helvetica","normal"),h.setFontSize(13);const _=m-12;h.text(`Summoner Level: ${(i==null?void 0:i.summonerLevel)??"[Unknown]"}`,_,w+8,{align:"right"}),h.text(`Region: ${$_(o)}`,_,w+18,{align:"right"}),h.setDrawColor(0,0,0),h.setLineWidth(1.5),h.line(10,w+v+12,m-10,w+v+12);let E=w+v+20;h.setFont("Helvetica","bold"),h.setFontSize(18),h.text("Ranked Stats",m/2,E,{align:"center"}),h.setFont("Helvetica","normal"),h.setFontSize(12);let I=E+22;const $=[{key:"RANKED_FLEX_SR",label:"Flex-Ranked"},{key:"RANKED_SOLO_5X5",label:"Solo-Ranked"}];for(const K of $){const ne=(r||[]).find(D=>(D.queueType||"").toUpperCase()===K.key);let C=0,R=0,W="",z="",ve="-",oe=!1;if(ne){C=ne.wins??0,R=ne.losses??0,W=ne.tier||"",z=ne.rank||"";const D=C+R;ve=D>0?(C/D*100).toFixed(1)+"%":"-",oe=!1}else oe=!0;const Q={IRON:[80,80,80],BRONZE:[176,141,87],SILVER:[180,180,200],GOLD:[255,215,64],PLATINUM:[64,224,208],EMERALD:[80,200,120],DIAMOND:[90,155,255],MASTER:[186,85,211],GRANDMASTER:[220,20,60],CHALLENGER:[255,215,0]}[(W||"").toUpperCase()]||[55,55,55];h.setFontSize(15),h.setFont("Helvetica","bold");const ye=oe?`${K.label} | unranked`:`${K.label} | ${W||"-"} ${z||""} | Wins: ${C} | Losses: ${R} | Winrate: ${ve}`,we=7,je=I-7,N=195;if(h.setDrawColor(Q[0],Q[1],Q[2]),h.setLineWidth(1.2),h.rect(we,je,N,12,"S"),h.setTextColor(0,0,0),h.text(ye,10,I),!oe&&W)try{const D=await q_(W);h.addImage(D,"PNG",180,I-9,15,15)}catch{}I+=20}h.setDrawColor(0,0,0),h.setLineWidth(1.5),h.line(10,I+1,m-10,I+1);const te=I+8;if(h.setFont("Helvetica","bold"),h.setFontSize(18),h.text("Top 3 Most-Played Champions",m/2,te,{align:"center"}),h.setFont("Helvetica","normal"),h.setFontSize(12),e&&e.length>0){const K=te+6,ne=65,C=ne*560/308,R=10,W=210,z=Math.min(3,e.length),ve=W-2*R,oe=5,ie=ne*z+oe*(z-1),Q=R+Math.floor((ve-ie)/2);for(let ye=0;ye<z;ye++){const we=e[ye],je=M_(we.championId,c),N=Q+ye*(ne+oe),D=K+5;let q="Unknown";je?q=((U=(X=c==null?void 0:c.data)==null?void 0:X[je])==null?void 0:U.name)||je:q=`Champion #${we.championId}`,h.setFont("Helvetica","bold"),h.setFontSize(12),h.text(q,N+ne/2,D-3,{align:"center"});let V=!1;if(je)try{const ue=`/summonersheet/assets/data/championloading/${je}_0.jpg`,ge=await fetch(ue);if(ge.ok){const me=await ge.blob(),Re=await new Promise(Ie=>{const j=new FileReader;j.onloadend=()=>Ie(j.result),j.readAsDataURL(me)});h.addImage(Re,"JPEG",N,D,ne,C),V=!0}}catch{}h.setFont("Helvetica","normal"),h.setFontSize(10);const ee=V?D+C+4:D+15;h.text(`Points: ${we.championPoints}`,N,ee),h.text(`Level: ${we.championLevel}`,N+ne-0,ee,{align:"right"})}}else h.text("No champion mastery data available.",10,te+30);h.setFontSize(10),h.text(`Date: ${z_(a,d)}`,10,290),h.text("Generated by SummonerSheet.gg",200,290,{align:"right"});const pe=h.output("blob");return URL.createObjectURL(pe)},d2=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},W_={class:"page-scale"},V_={class:"container"},G_={class:"form"},K_={class:"form-row"},J_=["value"],Y_=["disabled"],X_={key:0,class:"button-spinner"},Z_={key:1},Q_={key:1,class:"date-picker-inline"},e3=["value"],t3={key:0,class:"error-message"},r3={key:1,class:"pdf-preview"},n3=["src"],i3=["href","download"],s3={key:0,class:"loading-overlay"},o3={__name:"HelloWorld",setup(t){const e=Or(""),r=Or(""),n=Or("euw1"),i=Or(null),s=Or(null),o=Or(null),a=Or(null),c=Or(null),h=Or(""),d=Or(null),m=Or(!1),v=Or(!1),g=Or(!1),w=Or([]),b=Or("today"),k=[{value:"euw1",label:"EUW"},{value:"eun1",label:"EUNE"},{value:"tr1",label:"TR"},{value:"ru",label:"RU"},{value:"na1",label:"NA"},{value:"br1",label:"BR"},{value:"la1",label:"LAN"},{value:"la2",label:"LAS"},{value:"kr",label:"KR"},{value:"jp1",label:"JP"},{value:"oc1",label:"OCE"},{value:"ph2",label:"PH"},{value:"sg2",label:"SG"},{value:"th2",label:"TH"},{value:"tw2",label:"TW"},{value:"vn2",label:"VN"}];function _(U){return new Date(U).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}const E=async()=>{var U;if(h.value="",!e.value||!r.value){h.value="Please enter both Summoner Name and Tag Line first.";return}try{v.value=!0;const K=await op(e.value,r.value,n.value),ne=await Rw(K.puuid);w.value=ne,ne.length===0&&(h.value="No historic data found for this player yet.")}catch(K){((U=K==null?void 0:K.response)==null?void 0:U.status)===404?h.value="Player not found! Please check the name and tag line.":h.value="Failed to load snapshots. Please try again."}finally{v.value=!1}},I=()=>{w.value=[],b.value="today",h.value=""};Lh(async()=>{d.value=null});function $(U){return new Promise(K=>setTimeout(K,U))}const te=async()=>{var K;m.value=!0,g.value=!1;const U=Date.now();try{const ne=await op(e.value,r.value,n.value);i.value=ne;const C=await Yv(ne.puuid,n.value);s.value=C;const W=[...await Xv(ne.puuid,n.value)||[]];o.value=W;const z=await Dw(ne.puuid,n.value);a.value=z;let ve;if(b.value==="today")ve=await Bw(ne.puuid,n.value),c.value=ve;else{const ie=await Iw(ne.puuid,b.value);ve={summonerLevel:ie==null?void 0:ie.summoner_level,profileIconId:ie==null?void 0:ie.profile_icon_id},c.value=ve}let oe=null;try{oe=await Yc(ne.puuid)}catch(ie){console.warn("Could not fetch player record for stats:",(ie==null?void 0:ie.message)||ie)}if(oe!=null&&oe.player_id&&b.value==="today"){try{await jw(oe.player_id,C)}catch(ie){console.warn("Saving champion stats failed:",(ie==null?void 0:ie.message)||ie)}try{await Fw(oe.player_id,W)}catch(ie){console.warn("Saving rank stats failed:",(ie==null?void 0:ie.message)||ie)}}d.value=await H_(i.value,s.value,o.value,a.value,c.value,null,n.value,b.value),g.value=!0,h.value="",b.value="today"}catch(ne){if(((K=ne==null?void 0:ne.response)==null?void 0:K.status)===404){h.value="Player not found! Please check the name and tag line.",m.value=!1;return}else h.value="Failed to fetch player data. Please try again."}finally{if(m.value){const ne=Date.now()-U;ne<1500&&await $(1500-ne),m.value=!1}}};let pe=null;function X(U){if(!pe)return;const K=U.clientX/window.innerWidth,ne=U.clientY/window.innerHeight,C=(K-.5)*40,R=(ne-.5)*40;pe.style.backgroundPosition=`calc(50% + ${C}px) calc(50% + ${R}px)`}return Lh(()=>{pe=document.querySelector(".bg-move"),window.addEventListener("mousemove",X)}),Nf(()=>{window.removeEventListener("mousemove",X)}),(U,K)=>(Qr(),kn(pn,null,[K[10]||(K[10]=yt("div",{class:"bg-move"},null,-1)),yt("div",W_,[yt("div",V_,[K[6]||(K[6]=yt("h1",{class:"title krass-title"},"SummonerSheet",-1)),K[7]||(K[7]=yt("div",{class:"description-box"},[yt("p",null,[yt("strong",null,"What is this Website?"),yt("br"),wa(" Generate a beautiful PDF with the most important stats and information about your League of Legends account."),yt("br"),wa(" You can share, download, or print the PDF to impress your friend!"),yt("br"),yt("br"),wa(" Your statistics are saved for the day as soon as you search for your account."),yt("br"),wa(" This allows you to view old statistics as well. ")])],-1)),yt("div",G_,[Vl(yt("input",{"onUpdate:modelValue":K[0]||(K[0]=ne=>e.value=ne),class:"input",placeholder:"Enter Summoner Name",style:{"text-align":"center"},onKeyup:Wd(te,["enter"])},null,544),[[$d,e.value]]),yt("div",K_,[Vl(yt("input",{"onUpdate:modelValue":K[1]||(K[1]=ne=>r.value=ne),class:"input",placeholder:"Enter Tag Line",style:{"text-align":"center"},onKeyup:Wd(te,["enter"])},null,544),[[$d,r.value]]),Vl(yt("select",{"onUpdate:modelValue":K[2]||(K[2]=ne=>n.value=ne),class:"input select-region"},[(Qr(),kn(pn,null,yd(k,ne=>yt("option",{key:ne.value,value:ne.value},rc(ne.label),9,J_)),64))],512),[[zd,n.value]]),w.value.length===0?(Qr(),kn("button",{key:0,onClick:E,class:"button button-secondary",disabled:v.value||!e.value||!r.value},[v.value?(Qr(),kn("span",X_)):(Qr(),kn("span",Z_,"Select Date"))],8,Y_)):(Qr(),kn("div",Q_,[Vl(yt("select",{"onUpdate:modelValue":K[3]||(K[3]=ne=>b.value=ne),class:"input"},[K[4]||(K[4]=yt("option",{value:"today"},"Today (Latest)",-1)),(Qr(!0),kn(pn,null,yd(w.value,ne=>(Qr(),kn("option",{key:ne.recorded_at,value:ne.recorded_at},rc(_(ne.recorded_at)),9,e3))),128))],512),[[zd,b.value]]),yt("button",{onClick:I,class:"button-reset",title:"Reset Date Selection"},"")]))]),yt("button",{onClick:te,class:"button"},"Generate PDF")]),h.value?(Qr(),kn("p",t3,rc(h.value),1)):Xu("",!0),d.value&&!m.value&&g.value?(Qr(),kn("div",r3,[K[5]||(K[5]=yt("h3",null,"PDF Preview:",-1)),yt("iframe",{src:d.value,width:"100%",height:"942rem"},null,8,n3),yt("a",{href:d.value,download:`${e.value||"Summoner"}-${r.value||"Tag"}-SummonerSheet.pdf`,class:"button",style:{margin:"1rem auto 0 auto",display:"block","max-width":"220px","text-align":"center"}}," Download PDF ",8,i3)])):Xu("",!0),K[8]||(K[8]=yt("p",{class:"legal"}," SummonerSheet is not endorsed by Riot Games and does not reflect the views or opinions of Riot Games or anyone officially involved in producing or managing Riot Games properties. Riot Games and all associated properties are trademarks or registered trademarks of Riot Games, Inc. ",-1))])]),m.value?(Qr(),kn("div",s3,K[9]||(K[9]=[yt("div",{class:"spinner"},[yt("div",{class:"spinner-inner"})],-1),yt("div",{class:"loading-text"},"Generating PDF...",-1)]))):Xu("",!0)],64))}},a3=d2(o3,[["__scopeId","data-v-36b0762c"]]),l3={__name:"App",setup(t){return(e,r)=>(Qr(),X1(a3))}},c3=d2(l3,[["__scopeId","data-v-037120da"]]);mm(c3).mount("#app");export{Nt as _};
